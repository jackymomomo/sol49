/*! For license information please see main.74e268bc.js.LICENSE.txt */
(()=>{var t={536:function(t,e,n){var r;t=n.nmd(t),function(){var i,s="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,h=128,d=256,f=1/0,p=9007199254740991,g=NaN,m=4294967295,v=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",d]],y="[object Arguments]",b="[object Array]",_="[object Boolean]",w="[object Date]",x="[object Error]",E="[object Function]",S="[object GeneratorFunction]",k="[object Map]",T="[object Number]",C="[object Object]",I="[object Promise]",A="[object RegExp]",R="[object Set]",O="[object String]",N="[object Symbol]",P="[object WeakMap]",D="[object ArrayBuffer]",M="[object DataView]",L="[object Float32Array]",F="[object Float64Array]",j="[object Int8Array]",U="[object Int16Array]",V="[object Int32Array]",z="[object Uint8Array]",B="[object Uint8ClampedArray]",W="[object Uint16Array]",H="[object Uint32Array]",q=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,Y=RegExp(Q.source),X=RegExp($.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,st=RegExp(it.source),ot=/^\s+/,at=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,ft=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,Et=/['\n\r\u2028\u2029\\]/g,St="\\ud800-\\udfff",kt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Tt="\\u2700-\\u27bf",Ct="a-z\\xdf-\\xf6\\xf8-\\xff",It="A-Z\\xc0-\\xd6\\xd8-\\xde",At="\\ufe0e\\ufe0f",Rt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ot="['\u2019]",Nt="["+St+"]",Pt="["+Rt+"]",Dt="["+kt+"]",Mt="\\d+",Lt="["+Tt+"]",Ft="["+Ct+"]",jt="[^"+St+Rt+Mt+Tt+Ct+It+"]",Ut="\\ud83c[\\udffb-\\udfff]",Vt="[^"+St+"]",zt="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+It+"]",Ht="\\u200d",qt="(?:"+Ft+"|"+jt+")",Kt="(?:"+Wt+"|"+jt+")",Gt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",$t="(?:"+Dt+"|"+Ut+")"+"?",Yt="["+At+"]?",Xt=Yt+$t+("(?:"+Ht+"(?:"+[Vt,zt,Bt].join("|")+")"+Yt+$t+")*"),Jt="(?:"+[Lt,zt,Bt].join("|")+")"+Xt,Zt="(?:"+[Vt+Dt+"?",Dt,zt,Bt,Nt].join("|")+")",te=RegExp(Ot,"g"),ee=RegExp(Dt,"g"),ne=RegExp(Ut+"(?="+Ut+")|"+Zt+Xt,"g"),re=RegExp([Wt+"?"+Ft+"+"+Gt+"(?="+[Pt,Wt,"$"].join("|")+")",Kt+"+"+Qt+"(?="+[Pt,Wt+qt,"$"].join("|")+")",Wt+"?"+qt+"+"+Gt,Wt+"+"+Qt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt,Jt].join("|"),"g"),ie=RegExp("["+Ht+St+kt+At+"]"),se=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,le={};le[L]=le[F]=le[j]=le[U]=le[V]=le[z]=le[B]=le[W]=le[H]=!0,le[y]=le[b]=le[D]=le[_]=le[M]=le[w]=le[x]=le[E]=le[k]=le[T]=le[C]=le[A]=le[R]=le[O]=le[P]=!1;var ce={};ce[y]=ce[b]=ce[D]=ce[M]=ce[_]=ce[w]=ce[L]=ce[F]=ce[j]=ce[U]=ce[V]=ce[k]=ce[T]=ce[C]=ce[A]=ce[R]=ce[O]=ce[N]=ce[z]=ce[B]=ce[W]=ce[H]=!0,ce[x]=ce[E]=ce[P]=!1;var ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,de=parseInt,fe="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pe="object"==typeof self&&self&&self.Object===Object&&self,ge=fe||pe||Function("return this")(),me=e&&!e.nodeType&&e,ve=me&&t&&!t.nodeType&&t,ye=ve&&ve.exports===me,be=ye&&fe.process,_e=function(){try{var t=ve&&ve.require&&ve.require("util").types;return t||be&&be.binding&&be.binding("util")}catch(e){}}(),we=_e&&_e.isArrayBuffer,xe=_e&&_e.isDate,Ee=_e&&_e.isMap,Se=_e&&_e.isRegExp,ke=_e&&_e.isSet,Te=_e&&_e.isTypedArray;function Ce(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ie(t,e,n,r){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function Ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Re(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Oe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ne(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Pe(t,e){return!!(null==t?0:t.length)&&We(t,e,0)>-1}function De(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Me(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Le(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Fe(t,e,n,r){var i=-1,s=null==t?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function je(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ve=Ge("length");function ze(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Be(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function We(t,e,n){return e===e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Be(t,qe,n)}function He(t,e,n,r){for(var i=n-1,s=t.length;++i<s;)if(r(t[i],e))return i;return-1}function qe(t){return t!==t}function Ke(t,e){var n=null==t?0:t.length;return n?Ye(t,e)/n:g}function Ge(t){return function(e){return null==e?i:e[t]}}function Qe(t){return function(e){return null==t?i:t[e]}}function $e(t,e,n,r,i){return i(t,(function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)})),n}function Ye(t,e){for(var n,r=-1,s=t.length;++r<s;){var o=e(t[r]);o!==i&&(n=n===i?o:n+o)}return n}function Xe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Je(t){return t?t.slice(0,mn(t)+1).replace(ot,""):t}function Ze(t){return function(e){return t(e)}}function tn(t,e){return Me(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&We(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&We(e,t[n],0)>-1;);return n}var sn=Qe({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Qe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(t){return"\\"+ue[t]}function ln(t){return ie.test(t)}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function un(t,e){return function(n){return t(e(n))}}function hn(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n];o!==e&&o!==a||(t[n]=a,s[i++]=n)}return s}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return ln(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):Ve(t)}function gn(t){return ln(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function mn(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var vn=Qe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function t(e){var n=(e=null==e?ge:yn.defaults(ge.Object(),e,yn.pick(ge,oe))).Array,r=e.Date,at=e.Error,St=e.Function,kt=e.Math,Tt=e.Object,Ct=e.RegExp,It=e.String,At=e.TypeError,Rt=n.prototype,Ot=St.prototype,Nt=Tt.prototype,Pt=e["__core-js_shared__"],Dt=Ot.toString,Mt=Nt.hasOwnProperty,Lt=0,Ft=function(){var t=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),jt=Nt.toString,Ut=Dt.call(Tt),Vt=ge._,zt=Ct("^"+Dt.call(Mt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=ye?e.Buffer:i,Wt=e.Symbol,Ht=e.Uint8Array,qt=Bt?Bt.allocUnsafe:i,Kt=un(Tt.getPrototypeOf,Tt),Gt=Tt.create,Qt=Nt.propertyIsEnumerable,$t=Rt.splice,Yt=Wt?Wt.isConcatSpreadable:i,Xt=Wt?Wt.iterator:i,Jt=Wt?Wt.toStringTag:i,Zt=function(){try{var t=hs(Tt,"defineProperty");return t({},"",{}),t}catch(e){}}(),ne=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,ie=r&&r.now!==ge.Date.now&&r.now,ue=e.setTimeout!==ge.setTimeout&&e.setTimeout,fe=kt.ceil,pe=kt.floor,me=Tt.getOwnPropertySymbols,ve=Bt?Bt.isBuffer:i,be=e.isFinite,_e=Rt.join,Ve=un(Tt.keys,Tt),Qe=kt.max,bn=kt.min,_n=r.now,wn=e.parseInt,xn=kt.random,En=Rt.reverse,Sn=hs(e,"DataView"),kn=hs(e,"Map"),Tn=hs(e,"Promise"),Cn=hs(e,"Set"),In=hs(e,"WeakMap"),An=hs(Tt,"create"),Rn=In&&new In,On={},Nn=Fs(Sn),Pn=Fs(kn),Dn=Fs(Tn),Mn=Fs(Cn),Ln=Fs(In),Fn=Wt?Wt.prototype:i,jn=Fn?Fn.valueOf:i,Un=Fn?Fn.toString:i;function Vn(t){if(ea(t)&&!Ho(t)&&!(t instanceof Hn)){if(t instanceof Wn)return t;if(Mt.call(t,"__wrapped__"))return js(t)}return new Wn(t)}var zn=function(){function t(){}return function(e){if(!ta(e))return{};if(Gt)return Gt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Bn(){}function Wn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Qn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Gn;++e<n;)this.add(t[e])}function $n(t){var e=this.__data__=new Kn(t);this.size=e.size}function Yn(t,e){var n=Ho(t),r=!n&&Wo(t),i=!n&&!r&&Qo(t),s=!n&&!r&&!i&&ca(t),o=n||r||i||s,a=o?Xe(t.length,It):[],l=a.length;for(var c in t)!e&&!Mt.call(t,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ys(c,l))||a.push(c);return a}function Xn(t){var e=t.length;return e?t[Qr(0,e-1)]:i}function Jn(t,e){return Ds(Ai(t),ar(e,0,t.length))}function Zn(t){return Ds(Ai(t))}function tr(t,e,n){(n!==i&&!Vo(t[e],n)||n===i&&!(e in t))&&sr(t,e,n)}function er(t,e,n){var r=t[e];Mt.call(t,e)&&Vo(r,n)&&(n!==i||e in t)||sr(t,e,n)}function nr(t,e){for(var n=t.length;n--;)if(Vo(t[n][0],e))return n;return-1}function rr(t,e,n,r){return dr(t,(function(t,i,s){e(r,t,n(t),s)})),r}function ir(t,e){return t&&Ri(e,Oa(e),t)}function sr(t,e,n){"__proto__"==e&&Zt?Zt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function or(t,e){for(var r=-1,s=e.length,o=n(s),a=null==t;++r<s;)o[r]=a?i:Ta(t,e[r]);return o}function ar(t,e,n){return t===t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function lr(t,e,n,r,s,o){var a,l=1&e,c=2&e,u=4&e;if(n&&(a=s?n(t,r,s,o):n(t)),a!==i)return a;if(!ta(t))return t;var h=Ho(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Mt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!l)return Ai(t,a)}else{var d=ps(t),f=d==E||d==S;if(Qo(t))return Ei(t,l);if(d==C||d==y||f&&!s){if(a=c||f?{}:ms(t),!l)return c?function(t,e){return Ri(t,fs(t),e)}(t,function(t,e){return t&&Ri(e,Na(e),t)}(a,t)):function(t,e){return Ri(t,ds(t),e)}(t,ir(a,t))}else{if(!ce[d])return s?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case D:return Si(t);case _:case w:return new r(+t);case M:return function(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case L:case F:case j:case U:case V:case z:case B:case W:case H:return ki(t,n);case k:return new r;case T:case O:return new r(t);case A:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case R:return new r;case N:return i=t,jn?Tt(jn.call(i)):{}}var i}(t,d,l)}}o||(o=new $n);var p=o.get(t);if(p)return p;o.set(t,a),oa(t)?t.forEach((function(r){a.add(lr(r,e,n,r,t,o))})):na(t)&&t.forEach((function(r,i){a.set(i,lr(r,e,n,i,t,o))}));var g=h?i:(u?c?is:rs:c?Na:Oa)(t);return Ae(g||t,(function(r,i){g&&(r=t[i=r]),er(a,i,lr(r,e,n,i,t,o))})),a}function cr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Tt(t);r--;){var s=n[r],o=e[s],a=t[s];if(a===i&&!(s in t)||!o(a))return!1}return!0}function ur(t,e,n){if("function"!=typeof t)throw new At(s);return Rs((function(){t.apply(i,n)}),e)}function hr(t,e,n,r){var i=-1,s=Pe,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Me(e,Ze(n))),r?(s=De,o=!1):e.length>=200&&(s=en,o=!1,e=new Qn(e));t:for(;++i<a;){var u=t[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,o&&h===h){for(var d=c;d--;)if(e[d]===h)continue t;l.push(u)}else s(e,h,r)||l.push(u)}return l}Vn.templateSettings={escape:J,evaluate:Z,interpolate:tt,variable:"",imports:{_:Vn}},Vn.prototype=Bn.prototype,Vn.prototype.constructor=Vn,Wn.prototype=zn(Bn.prototype),Wn.prototype.constructor=Wn,Hn.prototype=zn(Bn.prototype),Hn.prototype.constructor=Hn,qn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},qn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qn.prototype.get=function(t){var e=this.__data__;if(An){var n=e[t];return n===o?i:n}return Mt.call(e,t)?e[t]:i},qn.prototype.has=function(t){var e=this.__data__;return An?e[t]!==i:Mt.call(e,t)},qn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=An&&e===i?o:e,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=nr(e,t);return!(n<0)&&(n==e.length-1?e.pop():$t.call(e,n,1),--this.size,!0)},Kn.prototype.get=function(t){var e=this.__data__,n=nr(e,t);return n<0?i:e[n][1]},Kn.prototype.has=function(t){return nr(this.__data__,t)>-1},Kn.prototype.set=function(t,e){var n=this.__data__,r=nr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(kn||Kn),string:new qn}},Gn.prototype.delete=function(t){var e=cs(this,t).delete(t);return this.size-=e?1:0,e},Gn.prototype.get=function(t){return cs(this,t).get(t)},Gn.prototype.has=function(t){return cs(this,t).has(t)},Gn.prototype.set=function(t,e){var n=cs(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(t){return this.__data__.set(t,o),this},Qn.prototype.has=function(t){return this.__data__.has(t)},$n.prototype.clear=function(){this.__data__=new Kn,this.size=0},$n.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},$n.prototype.get=function(t){return this.__data__.get(t)},$n.prototype.has=function(t){return this.__data__.has(t)},$n.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!kn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(t,e),this.size=n.size,this};var dr=Pi(_r),fr=Pi(wr,!0);function pr(t,e){var n=!0;return dr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function gr(t,e,n){for(var r=-1,s=t.length;++r<s;){var o=t[r],a=e(o);if(null!=a&&(l===i?a===a&&!la(a):n(a,l)))var l=a,c=o}return c}function mr(t,e){var n=[];return dr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function vr(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=vs),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?vr(a,e-1,n,r,i):Le(i,a):r||(i[i.length]=a)}return i}var yr=Di(),br=Di(!0);function _r(t,e){return t&&yr(t,e,Oa)}function wr(t,e){return t&&br(t,e,Oa)}function xr(t,e){return Ne(e,(function(e){return Xo(t[e])}))}function Er(t,e){for(var n=0,r=(e=bi(e,t)).length;null!=t&&n<r;)t=t[Ls(e[n++])];return n&&n==r?t:i}function Sr(t,e,n){var r=e(t);return Ho(t)?r:Le(r,n(t))}function kr(t){return null==t?t===i?"[object Undefined]":"[object Null]":Jt&&Jt in Tt(t)?function(t){var e=Mt.call(t,Jt),n=t[Jt];try{t[Jt]=i;var r=!0}catch(o){}var s=jt.call(t);r&&(e?t[Jt]=n:delete t[Jt]);return s}(t):function(t){return jt.call(t)}(t)}function Tr(t,e){return t>e}function Cr(t,e){return null!=t&&Mt.call(t,e)}function Ir(t,e){return null!=t&&e in Tt(t)}function Ar(t,e,r){for(var s=r?De:Pe,o=t[0].length,a=t.length,l=a,c=n(a),u=1/0,h=[];l--;){var d=t[l];l&&e&&(d=Me(d,Ze(e))),u=bn(d.length,u),c[l]=!r&&(e||o>=120&&d.length>=120)?new Qn(l&&d):i}d=t[0];var f=-1,p=c[0];t:for(;++f<o&&h.length<u;){var g=d[f],m=e?e(g):g;if(g=r||0!==g?g:0,!(p?en(p,m):s(h,m,r))){for(l=a;--l;){var v=c[l];if(!(v?en(v,m):s(t[l],m,r)))continue t}p&&p.push(m),h.push(g)}}return h}function Rr(t,e,n){var r=null==(t=Cs(t,e=bi(e,t)))?t:t[Ls($s(e))];return null==r?i:Ce(r,t,n)}function Or(t){return ea(t)&&kr(t)==y}function Nr(t,e,n,r,s){return t===e||(null==t||null==e||!ea(t)&&!ea(e)?t!==t&&e!==e:function(t,e,n,r,s,o){var a=Ho(t),l=Ho(e),c=a?b:ps(t),u=l?b:ps(e),h=(c=c==y?C:c)==C,d=(u=u==y?C:u)==C,f=c==u;if(f&&Qo(t)){if(!Qo(e))return!1;a=!0,h=!1}if(f&&!h)return o||(o=new $n),a||ca(t)?es(t,e,n,r,s,o):function(t,e,n,r,i,s,o){switch(n){case M:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case D:return!(t.byteLength!=e.byteLength||!s(new Ht(t),new Ht(e)));case _:case w:case T:return Vo(+t,+e);case x:return t.name==e.name&&t.message==e.message;case A:case O:return t==e+"";case k:var a=cn;case R:var l=1&r;if(a||(a=dn),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=2,o.set(t,e);var u=es(a(t),a(e),r,i,s,o);return o.delete(t),u;case N:if(jn)return jn.call(t)==jn.call(e)}return!1}(t,e,c,n,r,s,o);if(!(1&n)){var p=h&&Mt.call(t,"__wrapped__"),g=d&&Mt.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,v=g?e.value():e;return o||(o=new $n),s(m,v,n,r,o)}}if(!f)return!1;return o||(o=new $n),function(t,e,n,r,s,o){var a=1&n,l=rs(t),c=l.length,u=rs(e),h=u.length;if(c!=h&&!a)return!1;var d=c;for(;d--;){var f=l[d];if(!(a?f in e:Mt.call(e,f)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var m=!0;o.set(t,e),o.set(e,t);var v=a;for(;++d<c;){var y=t[f=l[d]],b=e[f];if(r)var _=a?r(b,y,f,e,t,o):r(y,b,f,t,e,o);if(!(_===i?y===b||s(y,b,n,r,o):_)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var w=t.constructor,x=e.constructor;w==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return o.delete(t),o.delete(e),m}(t,e,n,r,s,o)}(t,e,n,r,Nr,s))}function Pr(t,e,n,r){var s=n.length,o=s,a=!r;if(null==t)return!o;for(t=Tt(t);s--;){var l=n[s];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<o;){var c=(l=n[s])[0],u=t[c],h=l[1];if(a&&l[2]){if(u===i&&!(c in t))return!1}else{var d=new $n;if(r)var f=r(u,h,c,t,e,d);if(!(f===i?Nr(h,u,3,r,d):f))return!1}}return!0}function Dr(t){return!(!ta(t)||(e=t,Ft&&Ft in e))&&(Xo(t)?zt:yt).test(Fs(t));var e}function Mr(t){return"function"==typeof t?t:null==t?rl:"object"==typeof t?Ho(t)?zr(t[0],t[1]):Vr(t):dl(t)}function Lr(t){if(!Es(t))return Ve(t);var e=[];for(var n in Tt(t))Mt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Fr(t){if(!ta(t))return function(t){var e=[];if(null!=t)for(var n in Tt(t))e.push(n);return e}(t);var e=Es(t),n=[];for(var r in t)("constructor"!=r||!e&&Mt.call(t,r))&&n.push(r);return n}function jr(t,e){return t<e}function Ur(t,e){var r=-1,i=Ko(t)?n(t.length):[];return dr(t,(function(t,n,s){i[++r]=e(t,n,s)})),i}function Vr(t){var e=us(t);return 1==e.length&&e[0][2]?ks(e[0][0],e[0][1]):function(n){return n===t||Pr(n,t,e)}}function zr(t,e){return _s(t)&&Ss(e)?ks(Ls(t),e):function(n){var r=Ta(n,t);return r===i&&r===e?Ca(n,t):Nr(e,r,3)}}function Br(t,e,n,r,s){t!==e&&yr(e,(function(o,a){if(s||(s=new $n),ta(o))!function(t,e,n,r,s,o,a){var l=Is(t,n),c=Is(e,n),u=a.get(c);if(u)return void tr(t,n,u);var h=o?o(l,c,n+"",t,e,a):i,d=h===i;if(d){var f=Ho(c),p=!f&&Qo(c),g=!f&&!p&&ca(c);h=c,f||p||g?Ho(l)?h=l:Go(l)?h=Ai(l):p?(d=!1,h=Ei(c,!0)):g?(d=!1,h=ki(c,!0)):h=[]:ia(c)||Wo(c)?(h=l,Wo(l)?h=va(l):ta(l)&&!Xo(l)||(h=ms(c))):d=!1}d&&(a.set(c,h),s(h,c,r,o,a),a.delete(c));tr(t,n,h)}(t,e,a,n,Br,r,s);else{var l=r?r(Is(t,a),o,a+"",t,e,s):i;l===i&&(l=o),tr(t,a,l)}}),Na)}function Wr(t,e){var n=t.length;if(n)return ys(e+=e<0?n:0,n)?t[e]:i}function Hr(t,e,n){e=e.length?Me(e,(function(t){return Ho(t)?function(e){return Er(e,1===t.length?t[0]:t)}:t})):[rl];var r=-1;e=Me(e,Ze(ls()));var i=Ur(t,(function(t,n,i){var s=Me(e,(function(e){return e(t)}));return{criteria:s,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;for(;++r<o;){var l=Ti(i[r],s[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function qr(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=Er(t,o);n(a,o)&&Zr(s,bi(o,t),a)}return s}function Kr(t,e,n,r){var i=r?He:We,s=-1,o=e.length,a=t;for(t===e&&(e=Ai(e)),n&&(a=Me(t,Ze(n)));++s<o;)for(var l=0,c=e[s],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==t&&$t.call(a,l,1),$t.call(t,l,1);return t}function Gr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==s){var s=i;ys(i)?$t.call(t,i,1):hi(t,i)}}return t}function Qr(t,e){return t+pe(xn()*(e-t+1))}function $r(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=pe(e/2))&&(t+=t)}while(e);return n}function Yr(t,e){return Os(Ts(t,e,rl),t+"")}function Xr(t){return Xn(Va(t))}function Jr(t,e){var n=Va(t);return Ds(n,ar(e,0,n.length))}function Zr(t,e,n,r){if(!ta(t))return t;for(var s=-1,o=(e=bi(e,t)).length,a=o-1,l=t;null!=l&&++s<o;){var c=Ls(e[s]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(s!=a){var h=l[c];(u=r?r(h,c,l):i)===i&&(u=ta(h)?h:ys(e[s+1])?[]:{})}er(l,c,u),l=l[c]}return t}var ti=Rn?function(t,e){return Rn.set(t,e),t}:rl,ei=Zt?function(t,e){return Zt(t,"toString",{configurable:!0,enumerable:!1,value:tl(e),writable:!0})}:rl;function ni(t){return Ds(Va(t))}function ri(t,e,r){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(r=r>s?s:r)<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var o=n(s);++i<s;)o[i]=t[i+e];return o}function ii(t,e){var n;return dr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function si(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=t[s];null!==o&&!la(o)&&(n?o<=e:o<e)?r=s+1:i=s}return i}return oi(t,e,rl,n)}function oi(t,e,n,r){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!==e,l=null===e,c=la(e),u=e===i;s<o;){var h=pe((s+o)/2),d=n(t[h]),f=d!==i,p=null===d,g=d===d,m=la(d);if(a)var v=r||g;else v=u?g&&(r||f):l?g&&f&&(r||!p):c?g&&f&&!p&&(r||!m):!p&&!m&&(r?d<=e:d<e);v?s=h+1:o=h}return bn(o,4294967294)}function ai(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n],a=e?e(o):o;if(!n||!Vo(a,l)){var l=a;s[i++]=0===o?0:o}}return s}function li(t){return"number"==typeof t?t:la(t)?g:+t}function ci(t){if("string"==typeof t)return t;if(Ho(t))return Me(t,ci)+"";if(la(t))return Un?Un.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ui(t,e,n){var r=-1,i=Pe,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=De;else if(s>=200){var c=e?null:$i(t);if(c)return dn(c);o=!1,i=en,l=new Qn}else l=e?[]:a;t:for(;++r<s;){var u=t[r],h=e?e(u):u;if(u=n||0!==u?u:0,o&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function hi(t,e){return null==(t=Cs(t,e=bi(e,t)))||delete t[Ls($s(e))]}function di(t,e,n,r){return Zr(t,e,n(Er(t,e)),r)}function fi(t,e,n,r){for(var i=t.length,s=r?i:-1;(r?s--:++s<i)&&e(t[s],s,t););return n?ri(t,r?0:s,r?s+1:i):ri(t,r?s+1:0,r?i:s)}function pi(t,e){var n=t;return n instanceof Hn&&(n=n.value()),Fe(e,(function(t,e){return e.func.apply(e.thisArg,Le([t],e.args))}),n)}function gi(t,e,r){var i=t.length;if(i<2)return i?ui(t[0]):[];for(var s=-1,o=n(i);++s<i;)for(var a=t[s],l=-1;++l<i;)l!=s&&(o[s]=hr(o[s]||a,t[l],e,r));return ui(vr(o,1),e,r)}function mi(t,e,n){for(var r=-1,s=t.length,o=e.length,a={};++r<s;){var l=r<o?e[r]:i;n(a,t[r],l)}return a}function vi(t){return Go(t)?t:[]}function yi(t){return"function"==typeof t?t:rl}function bi(t,e){return Ho(t)?t:_s(t,e)?[t]:Ms(ya(t))}var _i=Yr;function wi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ri(t,e,n)}var xi=ne||function(t){return ge.clearTimeout(t)};function Ei(t,e){if(e)return t.slice();var n=t.length,r=qt?qt(n):new t.constructor(n);return t.copy(r),r}function Si(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function ki(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ti(t,e){if(t!==e){var n=t!==i,r=null===t,s=t===t,o=la(t),a=e!==i,l=null===e,c=e===e,u=la(e);if(!l&&!u&&!o&&t>e||o&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!s)return 1;if(!r&&!o&&!u&&t<e||u&&n&&s&&!r&&!o||l&&n&&s||!a&&s||!c)return-1}return 0}function Ci(t,e,r,i){for(var s=-1,o=t.length,a=r.length,l=-1,c=e.length,u=Qe(o-a,0),h=n(c+u),d=!i;++l<c;)h[l]=e[l];for(;++s<a;)(d||s<o)&&(h[r[s]]=t[s]);for(;u--;)h[l++]=t[s++];return h}function Ii(t,e,r,i){for(var s=-1,o=t.length,a=-1,l=r.length,c=-1,u=e.length,h=Qe(o-l,0),d=n(h+u),f=!i;++s<h;)d[s]=t[s];for(var p=s;++c<u;)d[p+c]=e[c];for(;++a<l;)(f||s<o)&&(d[p+r[a]]=t[s++]);return d}function Ai(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Ri(t,e,n,r){var s=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var l=e[o],c=r?r(n[l],t[l],l,n,t):i;c===i&&(c=t[l]),s?sr(n,l,c):er(n,l,c)}return n}function Oi(t,e){return function(n,r){var i=Ho(n)?Ie:rr,s=e?e():{};return i(n,t,ls(r,2),s)}}function Ni(t){return Yr((function(e,n){var r=-1,s=n.length,o=s>1?n[s-1]:i,a=s>2?n[2]:i;for(o=t.length>3&&"function"==typeof o?(s--,o):i,a&&bs(n[0],n[1],a)&&(o=s<3?i:o,s=1),e=Tt(e);++r<s;){var l=n[r];l&&t(e,l,r,o)}return e}))}function Pi(t,e){return function(n,r){if(null==n)return n;if(!Ko(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Tt(n);(e?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Di(t){return function(e,n,r){for(var i=-1,s=Tt(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(!1===n(s[l],l,s))break}return e}}function Mi(t){return function(e){var n=ln(e=ya(e))?gn(e):i,r=n?n[0]:e.charAt(0),s=n?wi(n,1).join(""):e.slice(1);return r[t]()+s}}function Li(t){return function(e){return Fe(Xa(Wa(e).replace(te,"")),t,"")}}function Fi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=zn(t.prototype),r=t.apply(n,e);return ta(r)?r:n}}function ji(t){return function(e,n,r){var s=Tt(e);if(!Ko(e)){var o=ls(n,3);e=Oa(e),n=function(t){return o(s[t],t,s)}}var a=t(e,n,r);return a>-1?s[o?e[a]:a]:i}}function Ui(t){return ns((function(e){var n=e.length,r=n,o=Wn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new At(s);if(o&&!l&&"wrapper"==os(a))var l=new Wn([],!0)}for(r=l?r:n;++r<n;){var c=os(a=e[r]),u="wrapper"==c?ss(a):i;l=u&&ws(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[os(u[0])].apply(l,u[3]):1==a.length&&ws(a)?l[c]():l.thru(a)}return function(){var t=arguments,r=t[0];if(l&&1==t.length&&Ho(r))return l.plant(r).value();for(var i=0,s=n?e[i].apply(this,t):r;++i<n;)s=e[i].call(this,s);return s}}))}function Vi(t,e,r,s,o,a,l,c,u,d){var f=e&h,p=1&e,g=2&e,m=24&e,v=512&e,y=g?i:Fi(t);return function h(){for(var b=arguments.length,_=n(b),w=b;w--;)_[w]=arguments[w];if(m)var x=as(h),E=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(_,x);if(s&&(_=Ci(_,s,o,m)),a&&(_=Ii(_,a,l,m)),b-=E,m&&b<d){var S=hn(_,x);return Gi(t,e,Vi,h.placeholder,r,_,S,c,u,d-b)}var k=p?r:this,T=g?k[t]:t;return b=_.length,c?_=function(t,e){var n=t.length,r=bn(e.length,n),s=Ai(t);for(;r--;){var o=e[r];t[r]=ys(o,n)?s[o]:i}return t}(_,c):v&&b>1&&_.reverse(),f&&u<b&&(_.length=u),this&&this!==ge&&this instanceof h&&(T=y||Fi(T)),T.apply(k,_)}}function zi(t,e){return function(n,r){return function(t,e,n,r){return _r(t,(function(t,i,s){e(r,n(t),i,s)})),r}(n,t,e(r),{})}}function Bi(t,e){return function(n,r){var s;if(n===i&&r===i)return e;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),s=t(n,r)}return s}}function Wi(t){return ns((function(e){return e=Me(e,Ze(ls())),Yr((function(n){var r=this;return t(e,(function(t){return Ce(t,r,n)}))}))}))}function Hi(t,e){var n=(e=e===i?" ":ci(e)).length;if(n<2)return n?$r(e,t):e;var r=$r(e,fe(t/pn(e)));return ln(e)?wi(gn(r),0,t).join(""):r.slice(0,t)}function qi(t){return function(e,r,s){return s&&"number"!=typeof s&&bs(e,r,s)&&(r=s=i),e=fa(e),r===i?(r=e,e=0):r=fa(r),function(t,e,r,i){for(var s=-1,o=Qe(fe((e-t)/(r||1)),0),a=n(o);o--;)a[i?o:++s]=t,t+=r;return a}(e,r,s=s===i?e<r?1:-1:fa(s),t)}}function Ki(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ma(e),n=ma(n)),t(e,n)}}function Gi(t,e,n,r,s,o,a,l,h,d){var f=8&e;e|=f?c:u,4&(e&=~(f?u:c))||(e&=-4);var p=[t,e,s,f?o:i,f?a:i,f?i:o,f?i:a,l,h,d],g=n.apply(i,p);return ws(t)&&As(g,p),g.placeholder=r,Ns(g,t,e)}function Qi(t){var e=kt[t];return function(t,n){if(t=ma(t),(n=null==n?0:bn(pa(n),292))&&be(t)){var r=(ya(t)+"e").split("e");return+((r=(ya(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var $i=Cn&&1/dn(new Cn([,-0]))[1]==f?function(t){return new Cn(t)}:ll;function Yi(t){return function(e){var n=ps(e);return n==k?cn(e):n==R?fn(e):function(t,e){return Me(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Xi(t,e,r,o,f,p,g,m){var v=2&e;if(!v&&"function"!=typeof t)throw new At(s);var y=o?o.length:0;if(y||(e&=-97,o=f=i),g=g===i?g:Qe(pa(g),0),m=m===i?m:pa(m),y-=f?f.length:0,e&u){var b=o,_=f;o=f=i}var w=v?i:ss(t),x=[t,e,r,o,f,b,_,p,g,m];if(w&&function(t,e){var n=t[1],r=e[1],i=n|r,s=i<131,o=r==h&&8==n||r==h&&n==d&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!s&&!o)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?Ci(c,l,e[4]):l,t[4]=c?hn(t[3],a):e[4]}(l=e[5])&&(c=t[5],t[5]=c?Ii(c,l,e[6]):l,t[6]=c?hn(t[5],a):e[6]);(l=e[7])&&(t[7]=l);r&h&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(x,w),t=x[0],e=x[1],r=x[2],o=x[3],f=x[4],!(m=x[9]=x[9]===i?v?0:t.length:Qe(x[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||e==l?function(t,e,r){var s=Fi(t);return function o(){for(var a=arguments.length,l=n(a),c=a,u=as(o);c--;)l[c]=arguments[c];var h=a<3&&l[0]!==u&&l[a-1]!==u?[]:hn(l,u);return(a-=h.length)<r?Gi(t,e,Vi,o.placeholder,i,l,h,i,i,r-a):Ce(this&&this!==ge&&this instanceof o?s:t,this,l)}}(t,e,m):e!=c&&33!=e||f.length?Vi.apply(i,x):function(t,e,r,i){var s=1&e,o=Fi(t);return function e(){for(var a=-1,l=arguments.length,c=-1,u=i.length,h=n(u+l),d=this&&this!==ge&&this instanceof e?o:t;++c<u;)h[c]=i[c];for(;l--;)h[c++]=arguments[++a];return Ce(d,s?r:this,h)}}(t,e,r,o);else var E=function(t,e,n){var r=1&e,i=Fi(t);return function e(){return(this&&this!==ge&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return Ns((w?ti:As)(E,x),t,e)}function Ji(t,e,n,r){return t===i||Vo(t,Nt[n])&&!Mt.call(r,n)?e:t}function Zi(t,e,n,r,s,o){return ta(t)&&ta(e)&&(o.set(e,t),Br(t,e,i,Zi,o),o.delete(e)),t}function ts(t){return ia(t)?i:t}function es(t,e,n,r,s,o){var a=1&n,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var d=-1,f=!0,p=2&n?new Qn:i;for(o.set(t,e),o.set(e,t);++d<l;){var g=t[d],m=e[d];if(r)var v=a?r(m,g,d,e,t,o):r(g,m,d,t,e,o);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Ue(e,(function(t,e){if(!en(p,e)&&(g===t||s(g,t,n,r,o)))return p.push(e)}))){f=!1;break}}else if(g!==m&&!s(g,m,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function ns(t){return Os(Ts(t,i,Hs),t+"")}function rs(t){return Sr(t,Oa,ds)}function is(t){return Sr(t,Na,fs)}var ss=Rn?function(t){return Rn.get(t)}:ll;function os(t){for(var e=t.name+"",n=On[e],r=Mt.call(On,e)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==t)return i.name}return e}function as(t){return(Mt.call(Vn,"placeholder")?Vn:t).placeholder}function ls(){var t=Vn.iteratee||il;return t=t===il?Mr:t,arguments.length?t(arguments[0],arguments[1]):t}function cs(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function us(t){for(var e=Oa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ss(i)]}return e}function hs(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Dr(n)?n:i}var ds=me?function(t){return null==t?[]:(t=Tt(t),Ne(me(t),(function(e){return Qt.call(t,e)})))}:gl,fs=me?function(t){for(var e=[];t;)Le(e,ds(t)),t=Kt(t);return e}:gl,ps=kr;function gs(t,e,n){for(var r=-1,i=(e=bi(e,t)).length,s=!1;++r<i;){var o=Ls(e[r]);if(!(s=null!=t&&n(t,o)))break;t=t[o]}return s||++r!=i?s:!!(i=null==t?0:t.length)&&Zo(i)&&ys(o,i)&&(Ho(t)||Wo(t))}function ms(t){return"function"!=typeof t.constructor||Es(t)?{}:zn(Kt(t))}function vs(t){return Ho(t)||Wo(t)||!!(Yt&&t&&t[Yt])}function ys(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&_t.test(t))&&t>-1&&t%1==0&&t<e}function bs(t,e,n){if(!ta(n))return!1;var r=typeof e;return!!("number"==r?Ko(n)&&ys(e,n.length):"string"==r&&e in n)&&Vo(n[e],t)}function _s(t,e){if(Ho(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!la(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Tt(e))}function ws(t){var e=os(t),n=Vn[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=ss(n);return!!r&&t===r[0]}(Sn&&ps(new Sn(new ArrayBuffer(1)))!=M||kn&&ps(new kn)!=k||Tn&&ps(Tn.resolve())!=I||Cn&&ps(new Cn)!=R||In&&ps(new In)!=P)&&(ps=function(t){var e=kr(t),n=e==C?t.constructor:i,r=n?Fs(n):"";if(r)switch(r){case Nn:return M;case Pn:return k;case Dn:return I;case Mn:return R;case Ln:return P}return e});var xs=Pt?Xo:ml;function Es(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Nt)}function Ss(t){return t===t&&!ta(t)}function ks(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in Tt(n)))}}function Ts(t,e,r){return e=Qe(e===i?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=Qe(i.length-e,0),a=n(o);++s<o;)a[s]=i[e+s];s=-1;for(var l=n(e+1);++s<e;)l[s]=i[s];return l[e]=r(a),Ce(t,this,l)}}function Cs(t,e){return e.length<2?t:Er(t,ri(e,0,-1))}function Is(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var As=Ps(ti),Rs=ue||function(t,e){return ge.setTimeout(t,e)},Os=Ps(ei);function Ns(t,e,n){var r=e+"";return Os(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ae(v,(function(n){var r="_."+n[0];e&n[1]&&!Pe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ut):[]}(r),n)))}function Ps(t){var e=0,n=0;return function(){var r=_n(),s=16-(r-n);if(n=r,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ds(t,e){var n=-1,r=t.length,s=r-1;for(e=e===i?r:e;++n<e;){var o=Qr(n,s),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Ms=function(t){var e=Do(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,i){e.push(r?i.replace(ft,"$1"):n||t)})),e}));function Ls(t){if("string"==typeof t||la(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Fs(t){if(null!=t){try{return Dt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function js(t){if(t instanceof Hn)return t.clone();var e=new Wn(t.__wrapped__,t.__chain__);return e.__actions__=Ai(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Us=Yr((function(t,e){return Go(t)?hr(t,vr(e,1,Go,!0)):[]})),Vs=Yr((function(t,e){var n=$s(e);return Go(n)&&(n=i),Go(t)?hr(t,vr(e,1,Go,!0),ls(n,2)):[]})),zs=Yr((function(t,e){var n=$s(e);return Go(n)&&(n=i),Go(t)?hr(t,vr(e,1,Go,!0),i,n):[]}));function Bs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Qe(r+i,0)),Be(t,ls(e,3),i)}function Ws(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r-1;return n!==i&&(s=pa(n),s=n<0?Qe(r+s,0):bn(s,r-1)),Be(t,ls(e,3),s,!0)}function Hs(t){return(null==t?0:t.length)?vr(t,1):[]}function qs(t){return t&&t.length?t[0]:i}var Ks=Yr((function(t){var e=Me(t,vi);return e.length&&e[0]===t[0]?Ar(e):[]})),Gs=Yr((function(t){var e=$s(t),n=Me(t,vi);return e===$s(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Ar(n,ls(e,2)):[]})),Qs=Yr((function(t){var e=$s(t),n=Me(t,vi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Ar(n,i,e):[]}));function $s(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Ys=Yr(Xs);function Xs(t,e){return t&&t.length&&e&&e.length?Kr(t,e):t}var Js=ns((function(t,e){var n=null==t?0:t.length,r=or(t,e);return Gr(t,Me(e,(function(t){return ys(t,n)?+t:t})).sort(Ti)),r}));function Zs(t){return null==t?t:En.call(t)}var to=Yr((function(t){return ui(vr(t,1,Go,!0))})),eo=Yr((function(t){var e=$s(t);return Go(e)&&(e=i),ui(vr(t,1,Go,!0),ls(e,2))})),no=Yr((function(t){var e=$s(t);return e="function"==typeof e?e:i,ui(vr(t,1,Go,!0),i,e)}));function ro(t){if(!t||!t.length)return[];var e=0;return t=Ne(t,(function(t){if(Go(t))return e=Qe(t.length,e),!0})),Xe(e,(function(e){return Me(t,Ge(e))}))}function io(t,e){if(!t||!t.length)return[];var n=ro(t);return null==e?n:Me(n,(function(t){return Ce(e,i,t)}))}var so=Yr((function(t,e){return Go(t)?hr(t,e):[]})),oo=Yr((function(t){return gi(Ne(t,Go))})),ao=Yr((function(t){var e=$s(t);return Go(e)&&(e=i),gi(Ne(t,Go),ls(e,2))})),lo=Yr((function(t){var e=$s(t);return e="function"==typeof e?e:i,gi(Ne(t,Go),i,e)})),co=Yr(ro);var uo=Yr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,io(t,n)}));function ho(t){var e=Vn(t);return e.__chain__=!0,e}function fo(t,e){return e(t)}var po=ns((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,s=function(e){return or(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Hn&&ys(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:fo,args:[s],thisArg:i}),new Wn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(s)}));var go=Oi((function(t,e,n){Mt.call(t,n)?++t[n]:sr(t,n,1)}));var mo=ji(Bs),vo=ji(Ws);function yo(t,e){return(Ho(t)?Ae:dr)(t,ls(e,3))}function bo(t,e){return(Ho(t)?Re:fr)(t,ls(e,3))}var _o=Oi((function(t,e,n){Mt.call(t,n)?t[n].push(e):sr(t,n,[e])}));var wo=Yr((function(t,e,r){var i=-1,s="function"==typeof e,o=Ko(t)?n(t.length):[];return dr(t,(function(t){o[++i]=s?Ce(e,t,r):Rr(t,e,r)})),o})),xo=Oi((function(t,e,n){sr(t,n,e)}));function Eo(t,e){return(Ho(t)?Me:Ur)(t,ls(e,3))}var So=Oi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var ko=Yr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&bs(t,e[0],e[1])?e=[]:n>2&&bs(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,vr(e,1),[])})),To=ie||function(){return ge.Date.now()};function Co(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Xi(t,h,i,i,i,i,e)}function Io(t,e){var n;if("function"!=typeof e)throw new At(s);return t=pa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ao=Yr((function(t,e,n){var r=1;if(n.length){var i=hn(n,as(Ao));r|=c}return Xi(t,r,e,n,i)})),Ro=Yr((function(t,e,n){var r=3;if(n.length){var i=hn(n,as(Ro));r|=c}return Xi(e,r,t,n,i)}));function Oo(t,e,n){var r,o,a,l,c,u,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new At(s);function g(e){var n=r,s=o;return r=o=i,h=e,l=t.apply(s,n)}function m(t){var n=t-u;return u===i||n>=e||n<0||f&&t-h>=a}function v(){var t=To();if(m(t))return y(t);c=Rs(v,function(t){var n=e-(t-u);return f?bn(n,a-(t-h)):n}(t))}function y(t){return c=i,p&&r?g(t):(r=o=i,l)}function b(){var t=To(),n=m(t);if(r=arguments,o=this,u=t,n){if(c===i)return function(t){return h=t,c=Rs(v,e),d?g(t):l}(u);if(f)return xi(c),c=Rs(v,e),g(u)}return c===i&&(c=Rs(v,e)),l}return e=ma(e)||0,ta(n)&&(d=!!n.leading,a=(f="maxWait"in n)?Qe(ma(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&xi(c),h=0,r=u=o=c=i},b.flush=function(){return c===i?l:y(To())},b}var No=Yr((function(t,e){return ur(t,1,e)})),Po=Yr((function(t,e,n){return ur(t,ma(e)||0,n)}));function Do(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new At(s);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Do.Cache||Gn),n}function Mo(t){if("function"!=typeof t)throw new At(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Do.Cache=Gn;var Lo=_i((function(t,e){var n=(e=1==e.length&&Ho(e[0])?Me(e[0],Ze(ls())):Me(vr(e,1),Ze(ls()))).length;return Yr((function(r){for(var i=-1,s=bn(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return Ce(t,this,r)}))})),Fo=Yr((function(t,e){var n=hn(e,as(Fo));return Xi(t,c,i,e,n)})),jo=Yr((function(t,e){var n=hn(e,as(jo));return Xi(t,u,i,e,n)})),Uo=ns((function(t,e){return Xi(t,d,i,i,i,e)}));function Vo(t,e){return t===e||t!==t&&e!==e}var zo=Ki(Tr),Bo=Ki((function(t,e){return t>=e})),Wo=Or(function(){return arguments}())?Or:function(t){return ea(t)&&Mt.call(t,"callee")&&!Qt.call(t,"callee")},Ho=n.isArray,qo=we?Ze(we):function(t){return ea(t)&&kr(t)==D};function Ko(t){return null!=t&&Zo(t.length)&&!Xo(t)}function Go(t){return ea(t)&&Ko(t)}var Qo=ve||ml,$o=xe?Ze(xe):function(t){return ea(t)&&kr(t)==w};function Yo(t){if(!ea(t))return!1;var e=kr(t);return e==x||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ia(t)}function Xo(t){if(!ta(t))return!1;var e=kr(t);return e==E||e==S||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Jo(t){return"number"==typeof t&&t==pa(t)}function Zo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function ta(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ea(t){return null!=t&&"object"==typeof t}var na=Ee?Ze(Ee):function(t){return ea(t)&&ps(t)==k};function ra(t){return"number"==typeof t||ea(t)&&kr(t)==T}function ia(t){if(!ea(t)||kr(t)!=C)return!1;var e=Kt(t);if(null===e)return!0;var n=Mt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Dt.call(n)==Ut}var sa=Se?Ze(Se):function(t){return ea(t)&&kr(t)==A};var oa=ke?Ze(ke):function(t){return ea(t)&&ps(t)==R};function aa(t){return"string"==typeof t||!Ho(t)&&ea(t)&&kr(t)==O}function la(t){return"symbol"==typeof t||ea(t)&&kr(t)==N}var ca=Te?Ze(Te):function(t){return ea(t)&&Zo(t.length)&&!!le[kr(t)]};var ua=Ki(jr),ha=Ki((function(t,e){return t<=e}));function da(t){if(!t)return[];if(Ko(t))return aa(t)?gn(t):Ai(t);if(Xt&&t[Xt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Xt]());var e=ps(t);return(e==k?cn:e==R?dn:Va)(t)}function fa(t){return t?(t=ma(t))===f||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function pa(t){var e=fa(t),n=e%1;return e===e?n?e-n:e:0}function ga(t){return t?ar(pa(t),0,m):0}function ma(t){if("number"==typeof t)return t;if(la(t))return g;if(ta(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ta(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var n=vt.test(t);return n||bt.test(t)?de(t.slice(2),n?2:8):mt.test(t)?g:+t}function va(t){return Ri(t,Na(t))}function ya(t){return null==t?"":ci(t)}var ba=Ni((function(t,e){if(Es(e)||Ko(e))Ri(e,Oa(e),t);else for(var n in e)Mt.call(e,n)&&er(t,n,e[n])})),_a=Ni((function(t,e){Ri(e,Na(e),t)})),wa=Ni((function(t,e,n,r){Ri(e,Na(e),t,r)})),xa=Ni((function(t,e,n,r){Ri(e,Oa(e),t,r)})),Ea=ns(or);var Sa=Yr((function(t,e){t=Tt(t);var n=-1,r=e.length,s=r>2?e[2]:i;for(s&&bs(e[0],e[1],s)&&(r=1);++n<r;)for(var o=e[n],a=Na(o),l=-1,c=a.length;++l<c;){var u=a[l],h=t[u];(h===i||Vo(h,Nt[u])&&!Mt.call(t,u))&&(t[u]=o[u])}return t})),ka=Yr((function(t){return t.push(i,Zi),Ce(Da,i,t)}));function Ta(t,e,n){var r=null==t?i:Er(t,e);return r===i?n:r}function Ca(t,e){return null!=t&&gs(t,e,Ir)}var Ia=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),t[e]=n}),tl(rl)),Aa=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),Mt.call(t,e)?t[e].push(n):t[e]=[n]}),ls),Ra=Yr(Rr);function Oa(t){return Ko(t)?Yn(t):Lr(t)}function Na(t){return Ko(t)?Yn(t,!0):Fr(t)}var Pa=Ni((function(t,e,n){Br(t,e,n)})),Da=Ni((function(t,e,n,r){Br(t,e,n,r)})),Ma=ns((function(t,e){var n={};if(null==t)return n;var r=!1;e=Me(e,(function(e){return e=bi(e,t),r||(r=e.length>1),e})),Ri(t,is(t),n),r&&(n=lr(n,7,ts));for(var i=e.length;i--;)hi(n,e[i]);return n}));var La=ns((function(t,e){return null==t?{}:function(t,e){return qr(t,e,(function(e,n){return Ca(t,n)}))}(t,e)}));function Fa(t,e){if(null==t)return{};var n=Me(is(t),(function(t){return[t]}));return e=ls(e),qr(t,n,(function(t,n){return e(t,n[0])}))}var ja=Yi(Oa),Ua=Yi(Na);function Va(t){return null==t?[]:tn(t,Oa(t))}var za=Li((function(t,e,n){return e=e.toLowerCase(),t+(n?Ba(e):e)}));function Ba(t){return Ya(ya(t).toLowerCase())}function Wa(t){return(t=ya(t))&&t.replace(wt,sn).replace(ee,"")}var Ha=Li((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),qa=Li((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ka=Mi("toLowerCase");var Ga=Li((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Qa=Li((function(t,e,n){return t+(n?" ":"")+Ya(e)}));var $a=Li((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ya=Mi("toUpperCase");function Xa(t,e,n){return t=ya(t),(e=n?i:e)===i?function(t){return se.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var Ja=Yr((function(t,e){try{return Ce(t,i,e)}catch(n){return Yo(n)?n:new at(n)}})),Za=ns((function(t,e){return Ae(e,(function(e){e=Ls(e),sr(t,e,Ao(t[e],t))})),t}));function tl(t){return function(){return t}}var el=Ui(),nl=Ui(!0);function rl(t){return t}function il(t){return Mr("function"==typeof t?t:lr(t,1))}var sl=Yr((function(t,e){return function(n){return Rr(n,t,e)}})),ol=Yr((function(t,e){return function(n){return Rr(t,n,e)}}));function al(t,e,n){var r=Oa(e),i=xr(e,r);null!=n||ta(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=xr(e,Oa(e)));var s=!(ta(n)&&"chain"in n)||!!n.chain,o=Xo(t);return Ae(i,(function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__);return(n.__actions__=Ai(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Le([this.value()],arguments))})})),t}function ll(){}var cl=Wi(Me),ul=Wi(Oe),hl=Wi(Ue);function dl(t){return _s(t)?Ge(Ls(t)):function(t){return function(e){return Er(e,t)}}(t)}var fl=qi(),pl=qi(!0);function gl(){return[]}function ml(){return!1}var vl=Bi((function(t,e){return t+e}),0),yl=Qi("ceil"),bl=Bi((function(t,e){return t/e}),1),_l=Qi("floor");var wl=Bi((function(t,e){return t*e}),1),xl=Qi("round"),El=Bi((function(t,e){return t-e}),0);return Vn.after=function(t,e){if("function"!=typeof e)throw new At(s);return t=pa(t),function(){if(--t<1)return e.apply(this,arguments)}},Vn.ary=Co,Vn.assign=ba,Vn.assignIn=_a,Vn.assignInWith=wa,Vn.assignWith=xa,Vn.at=Ea,Vn.before=Io,Vn.bind=Ao,Vn.bindAll=Za,Vn.bindKey=Ro,Vn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ho(t)?t:[t]},Vn.chain=ho,Vn.chunk=function(t,e,r){e=(r?bs(t,e,r):e===i)?1:Qe(pa(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var o=0,a=0,l=n(fe(s/e));o<s;)l[a++]=ri(t,o,o+=e);return l},Vn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i},Vn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Le(Ho(r)?Ai(r):[r],vr(e,1))},Vn.cond=function(t){var e=null==t?0:t.length,n=ls();return t=e?Me(t,(function(t){if("function"!=typeof t[1])throw new At(s);return[n(t[0]),t[1]]})):[],Yr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Ce(i[0],this,n))return Ce(i[1],this,n)}}))},Vn.conforms=function(t){return function(t){var e=Oa(t);return function(n){return cr(n,t,e)}}(lr(t,1))},Vn.constant=tl,Vn.countBy=go,Vn.create=function(t,e){var n=zn(t);return null==e?n:ir(n,e)},Vn.curry=function t(e,n,r){var s=Xi(e,8,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},Vn.curryRight=function t(e,n,r){var s=Xi(e,l,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},Vn.debounce=Oo,Vn.defaults=Sa,Vn.defaultsDeep=ka,Vn.defer=No,Vn.delay=Po,Vn.difference=Us,Vn.differenceBy=Vs,Vn.differenceWith=zs,Vn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ri(t,(e=n||e===i?1:pa(e))<0?0:e,r):[]},Vn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ri(t,0,(e=r-(e=n||e===i?1:pa(e)))<0?0:e):[]},Vn.dropRightWhile=function(t,e){return t&&t.length?fi(t,ls(e,3),!0,!0):[]},Vn.dropWhile=function(t,e){return t&&t.length?fi(t,ls(e,3),!0):[]},Vn.fill=function(t,e,n,r){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&bs(t,e,n)&&(n=0,r=s),function(t,e,n,r){var s=t.length;for((n=pa(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:pa(r))<0&&(r+=s),r=n>r?0:ga(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Vn.filter=function(t,e){return(Ho(t)?Ne:mr)(t,ls(e,3))},Vn.flatMap=function(t,e){return vr(Eo(t,e),1)},Vn.flatMapDeep=function(t,e){return vr(Eo(t,e),f)},Vn.flatMapDepth=function(t,e,n){return n=n===i?1:pa(n),vr(Eo(t,e),n)},Vn.flatten=Hs,Vn.flattenDeep=function(t){return(null==t?0:t.length)?vr(t,f):[]},Vn.flattenDepth=function(t,e){return(null==t?0:t.length)?vr(t,e=e===i?1:pa(e)):[]},Vn.flip=function(t){return Xi(t,512)},Vn.flow=el,Vn.flowRight=nl,Vn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Vn.functions=function(t){return null==t?[]:xr(t,Oa(t))},Vn.functionsIn=function(t){return null==t?[]:xr(t,Na(t))},Vn.groupBy=_o,Vn.initial=function(t){return(null==t?0:t.length)?ri(t,0,-1):[]},Vn.intersection=Ks,Vn.intersectionBy=Gs,Vn.intersectionWith=Qs,Vn.invert=Ia,Vn.invertBy=Aa,Vn.invokeMap=wo,Vn.iteratee=il,Vn.keyBy=xo,Vn.keys=Oa,Vn.keysIn=Na,Vn.map=Eo,Vn.mapKeys=function(t,e){var n={};return e=ls(e,3),_r(t,(function(t,r,i){sr(n,e(t,r,i),t)})),n},Vn.mapValues=function(t,e){var n={};return e=ls(e,3),_r(t,(function(t,r,i){sr(n,r,e(t,r,i))})),n},Vn.matches=function(t){return Vr(lr(t,1))},Vn.matchesProperty=function(t,e){return zr(t,lr(e,1))},Vn.memoize=Do,Vn.merge=Pa,Vn.mergeWith=Da,Vn.method=sl,Vn.methodOf=ol,Vn.mixin=al,Vn.negate=Mo,Vn.nthArg=function(t){return t=pa(t),Yr((function(e){return Wr(e,t)}))},Vn.omit=Ma,Vn.omitBy=function(t,e){return Fa(t,Mo(ls(e)))},Vn.once=function(t){return Io(2,t)},Vn.orderBy=function(t,e,n,r){return null==t?[]:(Ho(e)||(e=null==e?[]:[e]),Ho(n=r?i:n)||(n=null==n?[]:[n]),Hr(t,e,n))},Vn.over=cl,Vn.overArgs=Lo,Vn.overEvery=ul,Vn.overSome=hl,Vn.partial=Fo,Vn.partialRight=jo,Vn.partition=So,Vn.pick=La,Vn.pickBy=Fa,Vn.property=dl,Vn.propertyOf=function(t){return function(e){return null==t?i:Er(t,e)}},Vn.pull=Ys,Vn.pullAll=Xs,Vn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,ls(n,2)):t},Vn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,i,n):t},Vn.pullAt=Js,Vn.range=fl,Vn.rangeRight=pl,Vn.rearg=Uo,Vn.reject=function(t,e){return(Ho(t)?Ne:mr)(t,Mo(ls(e,3)))},Vn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],s=t.length;for(e=ls(e,3);++r<s;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return Gr(t,i),n},Vn.rest=function(t,e){if("function"!=typeof t)throw new At(s);return Yr(t,e=e===i?e:pa(e))},Vn.reverse=Zs,Vn.sampleSize=function(t,e,n){return e=(n?bs(t,e,n):e===i)?1:pa(e),(Ho(t)?Jn:Jr)(t,e)},Vn.set=function(t,e,n){return null==t?t:Zr(t,e,n)},Vn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Zr(t,e,n,r)},Vn.shuffle=function(t){return(Ho(t)?Zn:ni)(t)},Vn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&bs(t,e,n)?(e=0,n=r):(e=null==e?0:pa(e),n=n===i?r:pa(n)),ri(t,e,n)):[]},Vn.sortBy=ko,Vn.sortedUniq=function(t){return t&&t.length?ai(t):[]},Vn.sortedUniqBy=function(t,e){return t&&t.length?ai(t,ls(e,2)):[]},Vn.split=function(t,e,n){return n&&"number"!=typeof n&&bs(t,e,n)&&(e=n=i),(n=n===i?m:n>>>0)?(t=ya(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=ci(e))&&ln(t)?wi(gn(t),0,n):t.split(e,n):[]},Vn.spread=function(t,e){if("function"!=typeof t)throw new At(s);return e=null==e?0:Qe(pa(e),0),Yr((function(n){var r=n[e],i=wi(n,0,e);return r&&Le(i,r),Ce(t,this,i)}))},Vn.tail=function(t){var e=null==t?0:t.length;return e?ri(t,1,e):[]},Vn.take=function(t,e,n){return t&&t.length?ri(t,0,(e=n||e===i?1:pa(e))<0?0:e):[]},Vn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ri(t,(e=r-(e=n||e===i?1:pa(e)))<0?0:e,r):[]},Vn.takeRightWhile=function(t,e){return t&&t.length?fi(t,ls(e,3),!1,!0):[]},Vn.takeWhile=function(t,e){return t&&t.length?fi(t,ls(e,3)):[]},Vn.tap=function(t,e){return e(t),t},Vn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new At(s);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Oo(t,e,{leading:r,maxWait:e,trailing:i})},Vn.thru=fo,Vn.toArray=da,Vn.toPairs=ja,Vn.toPairsIn=Ua,Vn.toPath=function(t){return Ho(t)?Me(t,Ls):la(t)?[t]:Ai(Ms(ya(t)))},Vn.toPlainObject=va,Vn.transform=function(t,e,n){var r=Ho(t),i=r||Qo(t)||ca(t);if(e=ls(e,4),null==n){var s=t&&t.constructor;n=i?r?new s:[]:ta(t)&&Xo(s)?zn(Kt(t)):{}}return(i?Ae:_r)(t,(function(t,r,i){return e(n,t,r,i)})),n},Vn.unary=function(t){return Co(t,1)},Vn.union=to,Vn.unionBy=eo,Vn.unionWith=no,Vn.uniq=function(t){return t&&t.length?ui(t):[]},Vn.uniqBy=function(t,e){return t&&t.length?ui(t,ls(e,2)):[]},Vn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ui(t,i,e):[]},Vn.unset=function(t,e){return null==t||hi(t,e)},Vn.unzip=ro,Vn.unzipWith=io,Vn.update=function(t,e,n){return null==t?t:di(t,e,yi(n))},Vn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:di(t,e,yi(n),r)},Vn.values=Va,Vn.valuesIn=function(t){return null==t?[]:tn(t,Na(t))},Vn.without=so,Vn.words=Xa,Vn.wrap=function(t,e){return Fo(yi(e),t)},Vn.xor=oo,Vn.xorBy=ao,Vn.xorWith=lo,Vn.zip=co,Vn.zipObject=function(t,e){return mi(t||[],e||[],er)},Vn.zipObjectDeep=function(t,e){return mi(t||[],e||[],Zr)},Vn.zipWith=uo,Vn.entries=ja,Vn.entriesIn=Ua,Vn.extend=_a,Vn.extendWith=wa,al(Vn,Vn),Vn.add=vl,Vn.attempt=Ja,Vn.camelCase=za,Vn.capitalize=Ba,Vn.ceil=yl,Vn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ma(n))===n?n:0),e!==i&&(e=(e=ma(e))===e?e:0),ar(ma(t),e,n)},Vn.clone=function(t){return lr(t,4)},Vn.cloneDeep=function(t){return lr(t,5)},Vn.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:i)},Vn.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:i)},Vn.conformsTo=function(t,e){return null==e||cr(t,e,Oa(e))},Vn.deburr=Wa,Vn.defaultTo=function(t,e){return null==t||t!==t?e:t},Vn.divide=bl,Vn.endsWith=function(t,e,n){t=ya(t),e=ci(e);var r=t.length,s=n=n===i?r:ar(pa(n),0,r);return(n-=e.length)>=0&&t.slice(n,s)==e},Vn.eq=Vo,Vn.escape=function(t){return(t=ya(t))&&X.test(t)?t.replace($,on):t},Vn.escapeRegExp=function(t){return(t=ya(t))&&st.test(t)?t.replace(it,"\\$&"):t},Vn.every=function(t,e,n){var r=Ho(t)?Oe:pr;return n&&bs(t,e,n)&&(e=i),r(t,ls(e,3))},Vn.find=mo,Vn.findIndex=Bs,Vn.findKey=function(t,e){return ze(t,ls(e,3),_r)},Vn.findLast=vo,Vn.findLastIndex=Ws,Vn.findLastKey=function(t,e){return ze(t,ls(e,3),wr)},Vn.floor=_l,Vn.forEach=yo,Vn.forEachRight=bo,Vn.forIn=function(t,e){return null==t?t:yr(t,ls(e,3),Na)},Vn.forInRight=function(t,e){return null==t?t:br(t,ls(e,3),Na)},Vn.forOwn=function(t,e){return t&&_r(t,ls(e,3))},Vn.forOwnRight=function(t,e){return t&&wr(t,ls(e,3))},Vn.get=Ta,Vn.gt=zo,Vn.gte=Bo,Vn.has=function(t,e){return null!=t&&gs(t,e,Cr)},Vn.hasIn=Ca,Vn.head=qs,Vn.identity=rl,Vn.includes=function(t,e,n,r){t=Ko(t)?t:Va(t),n=n&&!r?pa(n):0;var i=t.length;return n<0&&(n=Qe(i+n,0)),aa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&We(t,e,n)>-1},Vn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Qe(r+i,0)),We(t,e,i)},Vn.inRange=function(t,e,n){return e=fa(e),n===i?(n=e,e=0):n=fa(n),function(t,e,n){return t>=bn(e,n)&&t<Qe(e,n)}(t=ma(t),e,n)},Vn.invoke=Ra,Vn.isArguments=Wo,Vn.isArray=Ho,Vn.isArrayBuffer=qo,Vn.isArrayLike=Ko,Vn.isArrayLikeObject=Go,Vn.isBoolean=function(t){return!0===t||!1===t||ea(t)&&kr(t)==_},Vn.isBuffer=Qo,Vn.isDate=$o,Vn.isElement=function(t){return ea(t)&&1===t.nodeType&&!ia(t)},Vn.isEmpty=function(t){if(null==t)return!0;if(Ko(t)&&(Ho(t)||"string"==typeof t||"function"==typeof t.splice||Qo(t)||ca(t)||Wo(t)))return!t.length;var e=ps(t);if(e==k||e==R)return!t.size;if(Es(t))return!Lr(t).length;for(var n in t)if(Mt.call(t,n))return!1;return!0},Vn.isEqual=function(t,e){return Nr(t,e)},Vn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Nr(t,e,i,n):!!r},Vn.isError=Yo,Vn.isFinite=function(t){return"number"==typeof t&&be(t)},Vn.isFunction=Xo,Vn.isInteger=Jo,Vn.isLength=Zo,Vn.isMap=na,Vn.isMatch=function(t,e){return t===e||Pr(t,e,us(e))},Vn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Pr(t,e,us(e),n)},Vn.isNaN=function(t){return ra(t)&&t!=+t},Vn.isNative=function(t){if(xs(t))throw new at("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(t)},Vn.isNil=function(t){return null==t},Vn.isNull=function(t){return null===t},Vn.isNumber=ra,Vn.isObject=ta,Vn.isObjectLike=ea,Vn.isPlainObject=ia,Vn.isRegExp=sa,Vn.isSafeInteger=function(t){return Jo(t)&&t>=-9007199254740991&&t<=p},Vn.isSet=oa,Vn.isString=aa,Vn.isSymbol=la,Vn.isTypedArray=ca,Vn.isUndefined=function(t){return t===i},Vn.isWeakMap=function(t){return ea(t)&&ps(t)==P},Vn.isWeakSet=function(t){return ea(t)&&"[object WeakSet]"==kr(t)},Vn.join=function(t,e){return null==t?"":_e.call(t,e)},Vn.kebabCase=Ha,Vn.last=$s,Vn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=pa(n))<0?Qe(r+s,0):bn(s,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,s):Be(t,qe,s,!0)},Vn.lowerCase=qa,Vn.lowerFirst=Ka,Vn.lt=ua,Vn.lte=ha,Vn.max=function(t){return t&&t.length?gr(t,rl,Tr):i},Vn.maxBy=function(t,e){return t&&t.length?gr(t,ls(e,2),Tr):i},Vn.mean=function(t){return Ke(t,rl)},Vn.meanBy=function(t,e){return Ke(t,ls(e,2))},Vn.min=function(t){return t&&t.length?gr(t,rl,jr):i},Vn.minBy=function(t,e){return t&&t.length?gr(t,ls(e,2),jr):i},Vn.stubArray=gl,Vn.stubFalse=ml,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=wl,Vn.nth=function(t,e){return t&&t.length?Wr(t,pa(e)):i},Vn.noConflict=function(){return ge._===this&&(ge._=Vt),this},Vn.noop=ll,Vn.now=To,Vn.pad=function(t,e,n){t=ya(t);var r=(e=pa(e))?pn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Hi(pe(i),n)+t+Hi(fe(i),n)},Vn.padEnd=function(t,e,n){t=ya(t);var r=(e=pa(e))?pn(t):0;return e&&r<e?t+Hi(e-r,n):t},Vn.padStart=function(t,e,n){t=ya(t);var r=(e=pa(e))?pn(t):0;return e&&r<e?Hi(e-r,n)+t:t},Vn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),wn(ya(t).replace(ot,""),e||0)},Vn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&bs(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=fa(t),e===i?(e=t,t=0):e=fa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var s=xn();return bn(t+s*(e-t+he("1e-"+((s+"").length-1))),e)}return Qr(t,e)},Vn.reduce=function(t,e,n){var r=Ho(t)?Fe:$e,i=arguments.length<3;return r(t,ls(e,4),n,i,dr)},Vn.reduceRight=function(t,e,n){var r=Ho(t)?je:$e,i=arguments.length<3;return r(t,ls(e,4),n,i,fr)},Vn.repeat=function(t,e,n){return e=(n?bs(t,e,n):e===i)?1:pa(e),$r(ya(t),e)},Vn.replace=function(){var t=arguments,e=ya(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Vn.result=function(t,e,n){var r=-1,s=(e=bi(e,t)).length;for(s||(s=1,t=i);++r<s;){var o=null==t?i:t[Ls(e[r])];o===i&&(r=s,o=n),t=Xo(o)?o.call(t):o}return t},Vn.round=xl,Vn.runInContext=t,Vn.sample=function(t){return(Ho(t)?Xn:Xr)(t)},Vn.size=function(t){if(null==t)return 0;if(Ko(t))return aa(t)?pn(t):t.length;var e=ps(t);return e==k||e==R?t.size:Lr(t).length},Vn.snakeCase=Ga,Vn.some=function(t,e,n){var r=Ho(t)?Ue:ii;return n&&bs(t,e,n)&&(e=i),r(t,ls(e,3))},Vn.sortedIndex=function(t,e){return si(t,e)},Vn.sortedIndexBy=function(t,e,n){return oi(t,e,ls(n,2))},Vn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=si(t,e);if(r<n&&Vo(t[r],e))return r}return-1},Vn.sortedLastIndex=function(t,e){return si(t,e,!0)},Vn.sortedLastIndexBy=function(t,e,n){return oi(t,e,ls(n,2),!0)},Vn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=si(t,e,!0)-1;if(Vo(t[n],e))return n}return-1},Vn.startCase=Qa,Vn.startsWith=function(t,e,n){return t=ya(t),n=null==n?0:ar(pa(n),0,t.length),e=ci(e),t.slice(n,n+e.length)==e},Vn.subtract=El,Vn.sum=function(t){return t&&t.length?Ye(t,rl):0},Vn.sumBy=function(t,e){return t&&t.length?Ye(t,ls(e,2)):0},Vn.template=function(t,e,n){var r=Vn.templateSettings;n&&bs(t,e,n)&&(e=i),t=ya(t),e=wa({},e,r,Ji);var s,o,a=wa({},e.imports,r.imports,Ji),l=Oa(a),c=tn(a,l),u=0,h=e.interpolate||xt,d="__p += '",f=Ct((e.escape||xt).source+"|"+h.source+"|"+(h===tt?pt:xt).source+"|"+(e.evaluate||xt).source+"|$","g"),p="//# sourceURL="+(Mt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(f,(function(e,n,r,i,a,l){return r||(r=i),d+=t.slice(u,l).replace(Et,an),n&&(s=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+e.length,e})),d+="';\n";var g=Mt.call(e,"variable")&&e.variable;if(g){if(dt.test(g))throw new at("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(q,""):d).replace(K,"$1").replace(G,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Ja((function(){return St(l,p+"return "+d).apply(i,c)}));if(m.source=d,Yo(m))throw m;return m},Vn.times=function(t,e){if((t=pa(t))<1||t>p)return[];var n=m,r=bn(t,m);e=ls(e),t-=m;for(var i=Xe(r,e);++n<t;)e(n);return i},Vn.toFinite=fa,Vn.toInteger=pa,Vn.toLength=ga,Vn.toLower=function(t){return ya(t).toLowerCase()},Vn.toNumber=ma,Vn.toSafeInteger=function(t){return t?ar(pa(t),-9007199254740991,p):0===t?t:0},Vn.toString=ya,Vn.toUpper=function(t){return ya(t).toUpperCase()},Vn.trim=function(t,e,n){if((t=ya(t))&&(n||e===i))return Je(t);if(!t||!(e=ci(e)))return t;var r=gn(t),s=gn(e);return wi(r,nn(r,s),rn(r,s)+1).join("")},Vn.trimEnd=function(t,e,n){if((t=ya(t))&&(n||e===i))return t.slice(0,mn(t)+1);if(!t||!(e=ci(e)))return t;var r=gn(t);return wi(r,0,rn(r,gn(e))+1).join("")},Vn.trimStart=function(t,e,n){if((t=ya(t))&&(n||e===i))return t.replace(ot,"");if(!t||!(e=ci(e)))return t;var r=gn(t);return wi(r,nn(r,gn(e))).join("")},Vn.truncate=function(t,e){var n=30,r="...";if(ta(e)){var s="separator"in e?e.separator:s;n="length"in e?pa(e.length):n,r="omission"in e?ci(e.omission):r}var o=(t=ya(t)).length;if(ln(t)){var a=gn(t);o=a.length}if(n>=o)return t;var l=n-pn(r);if(l<1)return r;var c=a?wi(a,0,l).join(""):t.slice(0,l);if(s===i)return c+r;if(a&&(l+=c.length-l),sa(s)){if(t.slice(l).search(s)){var u,h=c;for(s.global||(s=Ct(s.source,ya(gt.exec(s))+"g")),s.lastIndex=0;u=s.exec(h);)var d=u.index;c=c.slice(0,d===i?l:d)}}else if(t.indexOf(ci(s),l)!=l){var f=c.lastIndexOf(s);f>-1&&(c=c.slice(0,f))}return c+r},Vn.unescape=function(t){return(t=ya(t))&&Y.test(t)?t.replace(Q,vn):t},Vn.uniqueId=function(t){var e=++Lt;return ya(t)+e},Vn.upperCase=$a,Vn.upperFirst=Ya,Vn.each=yo,Vn.eachRight=bo,Vn.first=qs,al(Vn,function(){var t={};return _r(Vn,(function(e,n){Mt.call(Vn.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),Vn.VERSION="4.17.21",Ae(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Vn[t].placeholder=Vn})),Ae(["drop","take"],(function(t,e){Hn.prototype[t]=function(n){n=n===i?1:Qe(pa(n),0);var r=this.__filtered__&&!e?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,m),type:t+(r.__dir__<0?"Right":"")}),r},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ae(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ls(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ae(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),Ae(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(rl)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Yr((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return Rr(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(Mo(ls(t)))},Hn.prototype.slice=function(t,e){t=pa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=pa(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(m)},_r(Hn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),s=Vn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);s&&(Vn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,l=e instanceof Hn,c=a[0],u=l||Ho(e),h=function(t){var e=s.apply(Vn,Le([t],a));return r&&d?e[0]:e};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,g=l&&!f;if(!o&&u){e=g?e:new Hn(this);var m=t.apply(e,a);return m.__actions__.push({func:fo,args:[h],thisArg:i}),new Wn(m,d)}return p&&g?t.apply(this,a):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})})),Ae(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Rt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Vn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ho(i)?i:[],t)}return this[n]((function(n){return e.apply(Ho(n)?n:[],t)}))}})),_r(Hn.prototype,(function(t,e){var n=Vn[e];if(n){var r=n.name+"";Mt.call(On,r)||(On[r]=[]),On[r].push({name:e,func:n})}})),On[Vi(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=Ai(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ai(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ai(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ho(t),r=e<0,i=n?t.length:0,s=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=bn(e,t+o);break;case"takeRight":t=Qe(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,l=a-o,c=r?a:o-1,u=this.__iteratees__,h=u.length,d=0,f=bn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return pi(t,this.__actions__);var p=[];t:for(;l--&&d<f;){for(var g=-1,m=t[c+=e];++g<h;){var v=u[g],y=v.iteratee,b=v.type,_=y(m);if(2==b)m=_;else if(!_){if(1==b)continue t;break t}}p[d++]=m}return p},Vn.prototype.at=po,Vn.prototype.chain=function(){return ho(this)},Vn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Vn.prototype.plant=function(t){for(var e,n=this;n instanceof Bn;){var r=js(n);r.__index__=0,r.__values__=i,e?s.__wrapped__=r:e=r;var s=r;n=n.__wrapped__}return s.__wrapped__=t,e},Vn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:fo,args:[Zs],thisArg:i}),new Wn(e,this.__chain__)}return this.thru(Zs)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Xt&&(Vn.prototype[Xt]=function(){return this}),Vn}();ge._=yn,(r=function(){return yn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},730:(t,e,n)=>{"use strict";var r=n(43),i=n(853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,n,r,i,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=D&&t[D]||t["@@iterator"])?t:null}var L,F=Object.assign;function j(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var U=!1;function V(t,e){if(!t||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?j(t):""}function z(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=V(t.type,!1);case 11:return t=V(t.type.render,!1);case 1:return t=V(t.type,!0);default:return""}}function B(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case x:return"Portal";case k:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case O:return null!==(e=t.displayName||null)?e:B(t.type)||"Memo";case N:e=t._payload,t=t._init;try{return B(t(e))}catch(n){}}return null}function W(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function G(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=q(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function $(t,e){var n=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Y(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){X(t,e);var n=H(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function st(t,e){var n=H(e.value),r=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=gt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var vt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,Et=null,St=null;function kt(t){if(t=bi(t)){if("function"!==typeof xt)throw Error(s(280));var e=t.stateNode;e&&(e=wi(e),xt(t.stateNode,t.type,e))}}function Tt(t){Et?St?St.push(t):St=[t]:Et=t}function Ct(){if(Et){var t=Et,e=St;if(St=Et=null,kt(t),e)for(t=0;t<e.length;t++)kt(e[t])}}function It(t,e){return t(e)}function At(){}var Rt=!1;function Ot(t,e,n){if(Rt)return t(e,n);Rt=!0;try{return It(t,e,n)}finally{Rt=!1,(null!==Et||null!==St)&&(At(),Ct())}}function Nt(t,e){var n=t.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var Pt=!1;if(u)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Pt=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(ut){Pt=!1}function Mt(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,Ft=null,jt=!1,Ut=null,Vt={onError:function(t){Lt=!0,Ft=t}};function zt(t,e,n,r,i,s,o,a,l){Lt=!1,Ft=null,Mt.apply(Vt,arguments)}function Bt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Wt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ht(t){if(Bt(t)!==t)throw Error(s(188))}function qt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Bt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ht(i),t;if(o===r)return Ht(i),e;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t))?Kt(t):null}function Kt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Kt(t);if(null!==e)return e;t=t.sibling}return null}var Gt=i.unstable_scheduleCallback,Qt=i.unstable_cancelCallback,$t=i.unstable_shouldYield,Yt=i.unstable_requestPaint,Xt=i.unstable_now,Jt=i.unstable_getCurrentPriorityLevel,Zt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=he(a):0!==(s&=o)&&(r=he(s))}else 0!==(o=n&~i)?r=he(o):0!==s&&(r=he(s));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(s=e&-e)||16===i&&0!==(4194240&s)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-oe(e)),r|=t[n],e&=~i;return r}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oe(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function _e(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var we,xe,Ee,Se,ke,Te=!1,Ce=[],Ie=null,Ae=null,Re=null,Oe=new Map,Ne=new Map,Pe=[],De="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Me(t,e){switch(t){case"focusin":case"focusout":Ie=null;break;case"dragenter":case"dragleave":Ae=null;break;case"mouseover":case"mouseout":Re=null;break;case"pointerover":case"pointerout":Oe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ne.delete(e.pointerId)}}function Le(t,e,n,r,i,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==e&&(null!==(e=bi(e))&&xe(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Fe(t){var e=yi(t.target);if(null!==e){var n=Bt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Wt(n)))return t.blockedOn=e,void ke(t.priority,(function(){Ee(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=bi(n))&&xe(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);_t=r,n.target.dispatchEvent(r),_t=null,e.shift()}return!0}function Ue(t,e,n){je(t)&&n.delete(e)}function Ve(){Te=!1,null!==Ie&&je(Ie)&&(Ie=null),null!==Ae&&je(Ae)&&(Ae=null),null!==Re&&je(Re)&&(Re=null),Oe.forEach(Ue),Ne.forEach(Ue)}function ze(t,e){t.blockedOn===e&&(t.blockedOn=null,Te||(Te=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ve)))}function Be(t){function e(e){return ze(e,t)}if(0<Ce.length){ze(Ce[0],t);for(var n=1;n<Ce.length;n++){var r=Ce[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ie&&ze(Ie,t),null!==Ae&&ze(Ae,t),null!==Re&&ze(Re,t),Oe.forEach(e),Ne.forEach(e),n=0;n<Pe.length;n++)(r=Pe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Pe.length&&null===(n=Pe[0]).blockedOn;)Fe(n),null===n.blockedOn&&Pe.shift()}var We=_.ReactCurrentBatchConfig,He=!0;function qe(t,e,n,r){var i=be,s=We.transition;We.transition=null;try{be=1,Ge(t,e,n,r)}finally{be=i,We.transition=s}}function Ke(t,e,n,r){var i=be,s=We.transition;We.transition=null;try{be=4,Ge(t,e,n,r)}finally{be=i,We.transition=s}}function Ge(t,e,n,r){if(He){var i=$e(t,e,n,r);if(null===i)Hr(t,e,r,Qe,n),Me(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ie=Le(Ie,t,e,n,r,i),!0;case"dragenter":return Ae=Le(Ae,t,e,n,r,i),!0;case"mouseover":return Re=Le(Re,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Oe.set(s,Le(Oe.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ne.set(s,Le(Ne.get(s)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Me(t,r),4&e&&-1<De.indexOf(t)){for(;null!==i;){var s=bi(i);if(null!==s&&we(s),null===(s=$e(t,e,n,r))&&Hr(t,e,r,Qe,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(t,e,r,null,n)}}var Qe=null;function $e(t,e,n,r){if(Qe=null,null!==(t=yi(t=wt(r))))if(null===(e=Bt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Wt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qe=t,null}function Ye(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Xe=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,r=n.length,i="value"in Xe?Xe.value:Xe.textContent,s=i.length;for(t=0;t<r&&n[t]===i[t];t++);var o=r-t;for(e=1;e<=o&&n[r-e]===i[s-e];e++);return Ze=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,r,i,s){for(var o in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=sn(fn),gn=sn(F({},fn,{dataTransfer:0})),mn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=sn(yn),_n=sn(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=En[t])&&!!e[t]}function kn(){return Sn}var Tn=F({},hn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Cn=sn(Tn),In=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=sn(On),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,Fn=u&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Vn(t,e){switch(t){case"keyup":return-1!==Pn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function qn(t,e,n,r){Tt(r),0<(e=Kr(e,"onChange")).length&&(n=new un("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kn=null,Gn=null;function Qn(t){jr(t,0)}function $n(t){if(G(_i(t)))return t}function Yn(t,e){if("change"===t)return e}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Zn="function"===typeof tr.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(t){if("value"===t.propertyName&&$n(Gn)){var e=[];qn(e,Gn,t,wt(t)),Ot(Qn,e)}}function rr(t,e,n){"focusin"===t?(er(),Gn=n,(Kn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return $n(Gn)}function sr(t,e){if("click"===t)return $n(e)}function or(t,e){if("input"===t||"change"===t)return $n(e)}var ar="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function lr(t,e){if(ar(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ur(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dr(){for(var t=window,e=Q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Q((t=e.contentWindow).document)}return e}function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=dr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function _r(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function wr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function kr(t){if(Er[t])return Er[t];if(!xr[t])return t;var e,n=xr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Sr)return Er[t]=n[e];return t}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=kr("animationend"),Cr=kr("animationiteration"),Ir=kr("animationstart"),Ar=kr("transitionend"),Rr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(t,e){Rr.set(t,e),l(e,[t])}for(var Pr=0;Pr<Or.length;Pr++){var Dr=Or[Pr];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(Cr,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,a,l,c){if(zt.apply(this,arguments),Lt){if(!Lt)throw Error(s(198));var u=Ft;Lt=!1,Ft=null,jt||(jt=!0,Ut=u)}}(r,e,void 0,t),t.currentTarget=null}function jr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break t;Fr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break t;Fr(i,a,c),s=l}}}if(jt)throw t=Ut,jt=!1,Ut=null,t}function Ur(t,e){var n=e[gi];void 0===n&&(n=e[gi]=new Set);var r=t+"__bubble";n.has(r)||(Wr(e,t,2,!1),n.add(r))}function Vr(t,e,n){var r=0;e&&(r|=4),Wr(n,t,r,e)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(t){if(!t[zr]){t[zr]=!0,o.forEach((function(e){"selectionchange"!==e&&(Lr.has(e)||Vr(e,!1,t),Vr(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zr]||(e[zr]=!0,Vr("selectionchange",!1,e))}}function Wr(t,e,n,r){switch(Ye(e)){case 1:var i=qe;break;case 4:i=Ke;break;default:i=Ge}n=i.bind(null,e,n,t),i=void 0,!Pt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hr(t,e,n,r,i){var s=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue t}a=a.parentNode}}r=r.return}Ot((function(){var r=s,i=wt(n),o=[];t:{var a=Rr.get(t);if(void 0!==a){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Tr:case Cr:case Ir:l=vn;break;case Ar:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Nt(p,d))&&u.push(qr(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===_t||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Bt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=In,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:_i(l),f=null==c?a:_i(c),(a=new u(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,g=d;g;g=Gr(g))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?_i(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if(Hn(a))if(Xn)m=or;else{m=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(t,r))?qn(o,m,n,i):(v&&v(t,a,r),"focusout"===t&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&tt(a,"number",a.value)),v=r?_i(r):window,t){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var y;if(Dn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Bn?Vn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=tn()):(Je="value"in(Xe=i)?Xe.value:Xe.textContent,Bn=!0)),0<(v=Kr(r,b)).length&&(b=new _n(b,t,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(t,e){switch(t){case"compositionend":return zn(e);case"keypress":return 32!==e.which?null:(Un=!0,jn);case"textInput":return(t=e.data)===jn&&Un?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!Dn&&Vn(t,e)?(t=tn(),Ze=Je=Xe=null,Bn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,e)}))}function qr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Nt(t,n))&&r.unshift(qr(t,s,i)),null!=(s=Nt(t,e))&&r.push(qr(t,s,i))),t=t.return}return r}function Gr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Qr(t,e,n,r,i){for(var s=e._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Nt(n,s))&&o.unshift(qr(n,l,a)):i||null!=(l=Nt(n,s))&&o.push(qr(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(t){return("string"===typeof t?t:""+t).replace($r,"\n").replace(Yr,"")}function Jr(t,e,n){if(e=Xr(e),Xr(t)!==e&&n)throw Error(s(425))}function Zr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(t){return si.resolve(null).then(t).catch(ai)}:ri;function ai(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Be(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Be(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ui(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[di]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ui(t);null!==t;){if(n=t[di])return n;t=ui(t)}return e}n=(t=n).parentNode}return null}function bi(t){return!(t=t[di]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _i(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function wi(t){return t[fi]||null}var xi=[],Ei=-1;function Si(t){return{current:t}}function ki(t){0>Ei||(t.current=xi[Ei],xi[Ei]=null,Ei--)}function Ti(t,e){Ei++,xi[Ei]=t.current,t.current=e}var Ci={},Ii=Si(Ci),Ai=Si(!1),Ri=Ci;function Oi(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ni(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Pi(){ki(Ai),ki(Ii)}function Di(t,e,n){if(Ii.current!==Ci)throw Error(s(168));Ti(Ii,e),Ti(Ai,n)}function Mi(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,W(t)||"Unknown",i));return F({},n,r)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,Ri=Ii.current,Ti(Ii,t),Ti(Ai,Ai.current),!0}function Fi(t,e,n){var r=t.stateNode;if(!r)throw Error(s(169));n?(t=Mi(t,e,Ri),r.__reactInternalMemoizedMergedChildContext=t,ki(Ai),ki(Ii),Ti(Ii,t)):ki(Ai),Ti(Ai,n)}var ji=null,Ui=!1,Vi=!1;function zi(t){null===ji?ji=[t]:ji.push(t)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var t=0,e=be;try{var n=ji;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(t+1)),Gt(Zt,Bi),i}finally{be=e,Vi=!1}}return null}var Wi=[],Hi=0,qi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(t,e){Wi[Hi++]=Ki,Wi[Hi++]=qi,qi=t,Ki=e}function Zi(t,e,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=t;var r=Yi;t=Xi;var i=32-oe(r)-1;r&=~(1<<i),n+=1;var s=32-oe(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-oe(e)+i|n<<i|r,Xi=s+t}else Yi=1<<s|n<<i|r,Xi=t}function ts(t){null!==t.return&&(Ji(t,1),Zi(t,1,0))}function es(t){for(;t===qi;)qi=Wi[--Hi],Wi[Hi]=null,Ki=Wi[--Hi],Wi[Hi]=null;for(;t===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(t,e){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function as(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ns=t,rs=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ns=t,rs=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,ns=t,rs=null,!0);default:return!1}}function ls(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function cs(t){if(is){var e=rs;if(e){var n=e;if(!as(t,e)){if(ls(t))throw Error(s(418));e=ci(n.nextSibling);var r=ns;e&&as(t,e)?os(r,n):(t.flags=-4097&t.flags|2,is=!1,ns=t)}}else{if(ls(t))throw Error(s(418));t.flags=-4097&t.flags|2,is=!1,ns=t}}}function us(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ns=t}function hs(t){if(t!==ns)return!1;if(!is)return us(t),is=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=rs)){if(ls(t))throw ds(),Error(s(418));for(;e;)os(t,e),e=ci(e.nextSibling)}if(us(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){rs=ci(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}rs=null}}else rs=ns?ci(t.stateNode.nextSibling):null;return!0}function ds(){for(var t=rs;t;)t=ci(t.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(t){null===ss?ss=[t]:ss.push(t)}var gs=_.ReactCurrentBatchConfig;function ms(t,e){if(t&&t.defaultProps){for(var n in e=F({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var vs=Si(null),ys=null,bs=null,_s=null;function ws(){_s=bs=ys=null}function xs(t){var e=vs.current;ki(vs),t._currentValue=e}function Es(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ss(t,e){ys=t,_s=bs=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(_a=!0),t.firstContext=null)}function ks(t){var e=t._currentValue;if(_s!==t)if(t={context:t,memoizedValue:e,next:null},null===bs){if(null===ys)throw Error(s(308));bs=t,ys.dependencies={lanes:0,firstContext:t}}else bs=bs.next=t;return e}var Ts=null;function Cs(t){null===Ts?Ts=[t]:Ts.push(t)}function Is(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Cs(e)):(n.next=i.next,i.next=n),e.interleaved=n,As(t,r)}function As(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Os(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ns(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ds(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,As(t,n)}return null===(i=r.interleaved)?(e.next=e,Cs(r)):(e.next=i.next,i.next=e),r.interleaved=e,As(t,n)}function Ms(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}function Ls(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=e:s=s.next=e}else i=s=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fs(t,e,n,r){var i=t.updateQueue;Rs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=t.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break t;h=F({},h,d);break t;case 2:Rs=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(e=i.shared.interleaved)){i=e;do{o|=i.lane,i=i.next}while(i!==e)}else null===s&&(i.shared.lanes=0);Fl|=o,t.lanes=o,t.memoizedState=h}}function js(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:F({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var zs={isMounted:function(t){return!!(t=t._reactInternals)&&Bt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ec(),i=nc(t),s=Ps(r,i);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Ds(t,s,i))&&(rc(e,t,i,r),Ms(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ec(),i=nc(t),s=Ps(r,i);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Ds(t,s,i))&&(rc(e,t,i,r),Ms(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ec(),r=nc(t),i=Ps(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Ds(t,i,r))&&(rc(e,t,r,n),Ms(e,t,r))}};function Bs(t,e,n,r,i,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function Ws(t,e,n){var r=!1,i=Ci,s=e.contextType;return"object"===typeof s&&null!==s?s=ks(s):(i=Ni(e)?Ri:Ii.current,s=(r=null!==(r=e.contextTypes)&&void 0!==r)?Oi(t,i):Ci),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=zs,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Hs(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zs.enqueueReplaceState(e,e.state,null)}function qs(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Us,Os(t);var s=e.contextType;"object"===typeof s&&null!==s?i.context=ks(s):(s=Ni(e)?Ri:Ii.current,i.context=Oi(t,s)),i.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(Vs(t,e,s,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&zs.enqueueReplaceState(i,i.state,null),Fs(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function Ks(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,t));var i=r,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=i.refs;e===Us&&(e=i.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Gs(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qs(t){return(0,t._init)(t._payload)}function $s(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Dc(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=jc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var s=n.type;return s===E?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&Qs(s)===e.type)?((r=i(e,n.props)).ref=Ks(t,e,n),r.return=t,r):((r=Mc(n.type,n.key,n.props,null,t.mode,r)).ref=Ks(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Uc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,s){return null===e||7!==e.tag?((e=Lc(n,t.mode,r,s)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=jc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Mc(e.type,e.key,e.props,null,t.mode,n)).ref=Ks(t,null,e),n.return=t,n;case x:return(e=Uc(e,t.mode,n)).return=t,e;case N:return d(t,(0,e._init)(e._payload),n)}if(et(e)||M(e))return(e=Lc(e,t.mode,n,null)).return=t,e;Gs(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(t,e,n,r):null;case x:return n.key===i?u(t,e,n,r):null;case N:return f(t,e,(i=n._init)(n._payload),r)}if(et(n)||M(n))return null!==i?null:h(t,e,n,r,null);Gs(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case x:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case N:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||M(r))return h(e,t=t.get(n)||null,r,i,null);Gs(e,r)}return null}function g(i,s,a,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(i,h,a[g],l);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(i,h),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(i,h),is&&Ji(i,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,g),c}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(i,t)})),is&&Ji(i,g),c}function m(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}t&&g&&null===b.alternate&&e(i,g),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(i,g),is&&Ji(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return is&&Ji(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return t&&g.forEach((function(t){return e(i,t)})),is&&Ji(i,m),u}return function t(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:t:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Ks(r,u,o),s.return=r,r=s;break t}n(r,u);break}e(r,u),u=u.sibling}o.type===E?((s=Lc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Mc(o.type,o.key,o.props,null,r.mode,l)).ref=Ks(r,s,o),l.return=r,r=l)}return a(r);case x:t:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break t}n(r,s);break}e(r,s),s=s.sibling}(s=Uc(o,r.mode,l)).return=r,r=s}return a(r);case N:return t(r,s,(u=o._init)(o._payload),l)}if(et(o))return g(r,s,o,l);if(M(o))return m(r,s,o,l);Gs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=jc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Ys=$s(!0),Xs=$s(!1),Js={},Zs=Si(Js),to=Si(Js),eo=Si(Js);function no(t){if(t===Js)throw Error(s(174));return t}function ro(t,e){switch(Ti(eo,e),Ti(to,t),Ti(Zs,Js),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ki(Zs),Ti(Zs,e)}function io(){ki(Zs),ki(to),ki(eo)}function so(t){no(eo.current);var e=no(Zs.current),n=lt(e,t.type);e!==n&&(Ti(to,t),Ti(Zs,n))}function oo(t){to.current===t&&(ki(Zs),ki(to))}var ao=Si(0);function lo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var co=[];function uo(){for(var t=0;t<co.length;t++)co[t]._workInProgressVersionPrimary=null;co.length=0}var ho=_.ReactCurrentDispatcher,fo=_.ReactCurrentBatchConfig,po=0,go=null,mo=null,vo=null,yo=!1,bo=!1,_o=0,wo=0;function xo(){throw Error(s(321))}function Eo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function So(t,e,n,r,i,o){if(po=o,go=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ho.current=null===t||null===t.memoizedState?aa:la,t=n(r,i),bo){o=0;do{if(bo=!1,_o=0,25<=o)throw Error(s(301));o+=1,vo=mo=null,e.updateQueue=null,ho.current=ca,t=n(r,i)}while(bo)}if(ho.current=oa,e=null!==mo&&null!==mo.next,po=0,vo=mo=go=null,yo=!1,e)throw Error(s(300));return t}function ko(){var t=0!==_o;return _o=0,t}function To(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?go.memoizedState=vo=t:vo=vo.next=t,vo}function Co(){if(null===mo){var t=go.alternate;t=null!==t?t.memoizedState:null}else t=mo.next;var e=null===vo?go.memoizedState:vo.next;if(null!==e)vo=e,mo=t;else{if(null===t)throw Error(s(310));t={memoizedState:(mo=t).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===vo?go.memoizedState=vo=t:vo=vo.next=t}return vo}function Io(t,e){return"function"===typeof e?e(t):e}function Ao(t){var e=Co(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,go.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,e.memoizedState)||(_a=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{o=i.lane,go.lanes|=o,Fl|=o,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ro(t){var e=Co(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);ar(o,e.memoizedState)||(_a=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function No(t,e){var n=go,r=Co(),i=e(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,_a=!0),r=r.queue,Ho(Mo.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,e),void 0,null),null===Rl)throw Error(s(349));0!==(30&po)||Po(n,e,i)}return i}function Po(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=go.updateQueue)?(e={lastEffect:null,stores:null},go.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Do(t,e,n,r){e.value=n,e.getSnapshot=r,Lo(e)&&Fo(t)}function Mo(t,e,n){return n((function(){Lo(e)&&Fo(t)}))}function Lo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch(r){return!0}}function Fo(t){var e=As(t,1);null!==e&&rc(e,t,1,-1)}function jo(t){var e=To();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:t},e.queue=t,t=t.dispatch=na.bind(null,go,t),[e.memoizedState,t]}function Uo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=go.updateQueue)?(e={lastEffect:null,stores:null},go.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Vo(){return Co().memoizedState}function zo(t,e,n,r){var i=To();go.flags|=t,i.memoizedState=Uo(1|e,n,void 0,void 0===r?null:r)}function Bo(t,e,n,r){var i=Co();r=void 0===r?null:r;var s=void 0;if(null!==mo){var o=mo.memoizedState;if(s=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(e,n,s,r))}go.flags|=t,i.memoizedState=Uo(1|e,n,s,r)}function Wo(t,e){return zo(8390656,8,t,e)}function Ho(t,e){return Bo(2048,8,t,e)}function qo(t,e){return Bo(4,2,t,e)}function Ko(t,e){return Bo(4,4,t,e)}function Go(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Qo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Bo(4,4,Go.bind(null,e,t),n)}function $o(){}function Yo(t,e){var n=Co();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Eo(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xo(t,e){var n=Co();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Eo(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Jo(t,e,n){return 0===(21&po)?(t.baseState&&(t.baseState=!1,_a=!0),t.memoizedState=n):(ar(n,e)||(n=ge(),go.lanes|=n,Fl|=n,t.baseState=!0),e)}function Zo(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=fo.transition;fo.transition={};try{t(!1),e()}finally{be=n,fo.transition=r}}function ta(){return Co().memoizedState}function ea(t,e,n){var r=nc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(t))ia(e,n);else if(null!==(n=Is(t,e,n,r))){rc(n,t,r,ec()),sa(n,e,r)}}function na(t,e,n){var r=nc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(t))ia(e,i);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=e.interleaved;return null===l?(i.next=i,Cs(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(c){}null!==(n=Is(t,e,i,r))&&(rc(n,t,r,i=ec()),sa(n,e,r))}}function ra(t){var e=t.alternate;return t===go||null!==e&&e===go}function ia(t,e){bo=yo=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sa(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}var oa={readContext:ks,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},aa={readContext:ks,useCallback:function(t,e){return To().memoizedState=[t,void 0===e?null:e],t},useContext:ks,useEffect:Wo,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,zo(4194308,4,Go.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zo(4194308,4,t,e)},useInsertionEffect:function(t,e){return zo(4,2,t,e)},useMemo:function(t,e){var n=To();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=To();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ea.bind(null,go,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},To().memoizedState=t},useState:jo,useDebugValue:$o,useDeferredValue:function(t){return To().memoizedState=t},useTransition:function(){var t=jo(!1),e=t[0];return t=Zo.bind(null,t[1]),To().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=go,i=To();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Rl)throw Error(s(349));0!==(30&po)||Po(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Wo(Mo.bind(null,r,o,t),[t]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=To(),e=Rl.identifierPrefix;if(is){var n=Xi;e=":"+e+"R"+(n=(Yi&~(1<<32-oe(Yi)-1)).toString(32)+n),0<(n=_o++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=wo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},la={readContext:ks,useCallback:Yo,useContext:ks,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Io)},useDebugValue:$o,useDeferredValue:function(t){return Jo(Co(),mo.memoizedState,t)},useTransition:function(){return[Ao(Io)[0],Co().memoizedState]},useMutableSource:Oo,useSyncExternalStore:No,useId:ta,unstable_isNewReconciler:!1},ca={readContext:ks,useCallback:Yo,useContext:ks,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Io)},useDebugValue:$o,useDeferredValue:function(t){var e=Co();return null===mo?e.memoizedState=t:Jo(e,mo.memoizedState,t)},useTransition:function(){return[Ro(Io)[0],Co().memoizedState]},useMutableSource:Oo,useSyncExternalStore:No,useId:ta,unstable_isNewReconciler:!1};function ua(t,e){try{var n="",r=e;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:i,digest:null}}function ha(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function da(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(t,e,n){(n=Ps(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ql||(ql=!0,Kl=r),da(0,e)},n}function ga(t,e,n){(n=Ps(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){da(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,e),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ma(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new fa;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Tc.bind(null,t,e,n),e.then(t,t))}function va(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ya(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Ps(-1,1)).tag=2,Ds(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var ba=_.ReactCurrentOwner,_a=!1;function wa(t,e,n,r){e.child=null===t?Xs(e,null,n,r):Ys(e,t.child,n,r)}function xa(t,e,n,r,i){n=n.render;var s=e.ref;return Ss(e,i),r=So(t,e,n,r,s,i),n=ko(),null===t||_a?(is&&n&&ts(e),e.flags|=1,wa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qa(t,e,i))}function Ea(t,e,n,r,i){if(null===t){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Mc(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Sa(t,e,s,r,i))}if(s=t.child,0===(t.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&t.ref===e.ref)return qa(t,e,i)}return e.flags|=1,(t=Dc(s,r)).ref=e.ref,t.return=e,e.child=t}function Sa(t,e,n,r,i){if(null!==t){var s=t.memoizedProps;if(lr(s,r)&&t.ref===e.ref){if(_a=!1,e.pendingProps=r=s,0===(t.lanes&i))return e.lanes=t.lanes,qa(t,e,i);0!==(131072&t.flags)&&(_a=!0)}}return Ca(t,e,n,r,i)}function ka(t,e,n){var r=e.pendingProps,i=r.children,s=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Dl,Pl),Pl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ti(Dl,Pl),Pl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Dl,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ti(Dl,Pl),Pl|=r;return wa(t,e,i,n),e.child}function Ta(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ca(t,e,n,r,i){var s=Ni(n)?Ri:Ii.current;return s=Oi(e,s),Ss(e,i),n=So(t,e,n,r,s,i),r=ko(),null===t||_a?(is&&r&&ts(e),e.flags|=1,wa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qa(t,e,i))}function Ia(t,e,n,r,i){if(Ni(n)){var s=!0;Li(e)}else s=!1;if(Ss(e,i),null===e.stateNode)Ha(t,e),Ws(e,n,r),qs(e,n,r,i),r=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ks(c):c=Oi(e,c=Ni(n)?Ri:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&Hs(e,o,r,c),Rs=!1;var d=e.memoizedState;o.state=d,Fs(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Ai.current||Rs?("function"===typeof u&&(Vs(e,n,u,r),l=e.memoizedState),(a=Rs||Bs(e,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ns(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ms(e.type,a),o.props=c,h=e.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ks(l):l=Oi(e,l=Ni(n)?Ri:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Hs(e,o,r,l),Rs=!1,d=e.memoizedState,o.state=d,Fs(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||Ai.current||Rs?("function"===typeof f&&(Vs(e,n,f,r),p=e.memoizedState),(c=Rs||Bs(e,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Aa(t,e,n,r,s,i)}function Aa(t,e,n,r,i,s){Ta(t,e);var o=0!==(128&e.flags);if(!r&&!o)return i&&Fi(e,n,!1),qa(t,e,s);r=e.stateNode,ba.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&o?(e.child=Ys(e,t.child,null,s),e.child=Ys(e,null,a,s)):wa(t,e,a,s),e.memoizedState=r.state,i&&Fi(e,n,!0),e.child}function Ra(t){var e=t.stateNode;e.pendingContext?Di(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Di(0,e.context,!1),ro(t,e.containerInfo)}function Oa(t,e,n,r,i){return fs(),ps(i),e.flags|=256,wa(t,e,n,r),e.child}var Na,Pa,Da,Ma,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(t){return{baseLanes:t,cachePool:null,transitions:null}}function ja(t,e,n){var r,i=e.pendingProps,o=ao.current,a=!1,l=0!==(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Ti(ao,1&o),null===t)return cs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,a?(i=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),t=Lc(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Fa(n),e.memoizedState=La,t):Ua(e,l));if(null!==(o=t.memoizedState)&&null!==(r=o.dehydrated))return function(t,e,n,r,i,o,a){if(n)return 256&e.flags?(e.flags&=-257,Va(t,e,a,r=ha(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,a,null)).flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,0!==(1&e.mode)&&Ys(e,t.child,null,a),e.child.memoizedState=Fa(a),e.memoizedState=La,o);if(0===(1&e.mode))return Va(t,e,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(t,e,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&t.childLanes),_a||l){if(null!==(r=Rl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,As(t,i),rc(r,t,i,-1))}return mc(),Va(t,e,a,r=ha(Error(s(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Ic.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,rs=ci(i.nextSibling),ns=e,is=!0,ss=null,null!==t&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=t.id,Xi=t.overflow,$i=e),e=Ua(e,r.children),e.flags|=4096,e)}(t,e,l,i,r,o,n);if(a){a=i.fallback,l=e.mode,r=(o=t.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==o?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Dc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,l=null===(l=t.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=La,i}return t=(a=t.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Ua(t,e){return(e=Fc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Va(t,e,n,r){return null!==r&&ps(r),Ys(e,t.child,null,n),(t=Ua(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function za(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Es(t.return,e,n)}function Ba(t,e,n,r,i){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Wa(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wa(t,e,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&za(t,n,e);else if(19===t.tag)za(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ti(ao,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===lo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ba(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===lo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ba(e,!0,n,null,s);break;case"together":Ba(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ha(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qa(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Fl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Dc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Dc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ka(t,e){if(!is)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ga(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qa(t,e,n){var r=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(e),null;case 1:case 17:return Ni(e.type)&&Pi(),Ga(e),null;case 3:return r=e.stateNode,io(),ki(Ai),ki(Ii),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(hs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ss&&(ac(ss),ss=null))),Pa(t,e),Ga(e),null;case 5:oo(e);var i=no(eo.current);if(n=e.type,null!==t&&null!=e.stateNode)Da(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(s(166));return Ga(e),null}if(t=no(Zs.current),hs(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[di]=e,r[fi]=o,t=0!==(1&e.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":it(r,o),Ur("invalid",r)}for(var l in yt(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),ot(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[di]=e,t[fi]=r,Na(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,r),n){case"dialog":Ur("cancel",t),Ur("close",t),i=r;break;case"iframe":case"object":case"embed":Ur("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],t);i=r;break;case"source":Ur("error",t),i=r;break;case"img":case"image":case"link":Ur("error",t),Ur("load",t),i=r;break;case"details":Ur("toggle",t),i=r;break;case"input":Y(t,r),i=$(t,r),Ur("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Ur("invalid",t)}for(o in yt(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?mt(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",t):null!=u&&b(t,o,u,l))}switch(n){case"input":K(t),Z(t,r,!1);break;case"textarea":K(t),ot(t);break;case"option":null!=r.value&&t.setAttribute("value",""+H(r.value));break;case"select":t.multiple=!!r.multiple,null!=(o=r.value)?nt(t,!!r.multiple,o,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ga(e),null;case 6:if(t&&null!=e.stateNode)Ma(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(s(166));if(n=no(eo.current),no(Zs.current),hs(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(o=r.nodeValue!==n)&&null!==(t=ns))switch(t.tag){case 3:Jr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=e,e.stateNode=r}return Ga(e),null;case 13:if(ki(ao),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&e.mode)&&0===(128&e.flags))ds(),fs(),e.flags|=98560,o=!1;else if(o=hs(e),null!==r&&null!==r.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=e}else fs(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ga(e),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ao.current)?0===Ml&&(Ml=3):mc())),null!==e.updateQueue&&(e.flags|=4),Ga(e),null);case 4:return io(),Pa(t,e),null===t&&Br(e.stateNode.containerInfo),Ga(e),null;case 10:return xs(e.type._context),Ga(e),null;case 19:if(ki(ao),null===(o=e.memoizedState))return Ga(e),null;if(r=0!==(128&e.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==Ml||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=lo(t))){for(e.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ti(ao,1&ao.current|2),e.child}t=t.sibling}null!==o.tail&&Xt()>Wl&&(e.flags|=128,r=!0,Ka(o,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=lo(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ga(e),null}else 2*Xt()-o.renderingStartTime>Wl&&1073741824!==n&&(e.flags|=128,r=!0,Ka(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xt(),e.sibling=null,n=ao.current,Ti(ao,r?1&n|2:1&n),e):(Ga(e),null);case 22:case 23:return dc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Pl)&&(Ga(e),6&e.subtreeFlags&&(e.flags|=8192)):Ga(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function $a(t,e){switch(es(e),e.tag){case 1:return Ni(e.type)&&Pi(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return io(),ki(Ai),ki(Ii),uo(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return oo(e),null;case 13:if(ki(ao),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));fs()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return ki(ao),null;case 4:return io(),null;case 10:return xs(e.type._context),null;case 22:case 23:return dc(),null;default:return null}}Na=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Da=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=$(t,i),r=$(t,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=rt(t,i),r=rt(t,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Zr)}for(u in yt(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},Ma=function(t,e,n,r){n!==r&&(e.flags|=4)};var Ya=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(t,e,r)}else n.current=null}function el(t,e,n){try{n()}catch(r){kc(t,e,r)}}var nl=!1;function rl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(e,n,s)}i=i.next}while(i!==r)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[di],delete e[fi],delete e[gi],delete e[mi],delete e[vi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function cl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zr));else if(4!==r&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}function ul(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}var hl=null,dl=!1;function fl(t,e,n){for(n=n.child;null!==n;)pl(t,e,n),n=n.sibling}function pl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(ie,n)}catch(a){}switch(n.tag){case 5:Xa||tl(n,e);case 6:var r=hl,i=dl;hl=null,fl(t,e,n),dl=i,null!==(hl=r)&&(dl?(t=hl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(t=hl,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),Be(t)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(t,e,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,e,o),i=i.next}while(i!==r)}fl(t,e,n);break;case 1:if(!Xa&&(tl(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,e,a)}fl(t,e,n);break;case 21:fl(t,e,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(t,e,n),Xa=r):fl(t,e,n);break;default:fl(t,e,n)}}function gl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ja),e.forEach((function(e){var r=Ac.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function ml(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break t;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vl(e,t),e=e.sibling}function vl(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),yl(t),4&r){try{rl(3,t,t.return),il(3,t)}catch(m){kc(t,t.return,m)}try{rl(5,t,t.return)}catch(m){kc(t,t.return,m)}}break;case 1:ml(e,t),yl(t),512&r&&null!==n&&tl(n,n.return);break;case 5:if(ml(e,t),yl(t),512&r&&null!==n&&tl(n,n.return),32&t.flags){var i=t.stateNode;try{dt(i,"")}catch(m){kc(t,t.return,m)}}if(4&r&&null!=(i=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),bt(l,a);var u=bt(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?mt(i,d):"dangerouslySetInnerHTML"===h?ht(i,d):"children"===h?dt(i,d):b(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":st(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?nt(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?nt(i,!!o.multiple,o.defaultValue,!0):nt(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){kc(t,t.return,m)}}break;case 6:if(ml(e,t),yl(t),4&r){if(null===t.stateNode)throw Error(s(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){kc(t,t.return,m)}}break;case 3:if(ml(e,t),yl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Be(e.containerInfo)}catch(m){kc(t,t.return,m)}break;case 4:default:ml(e,t),yl(t);break;case 13:ml(e,t),yl(t),8192&(i=t.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xt())),4&r&&gl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Xa=(u=Xa)||h,ml(e,t),Xa=u):ml(e,t),yl(t),8192&r){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Za=t,h=t.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:tl(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){kc(r,n,m)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,Za=p):xl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",a))}catch(m){kc(t,t.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){kc(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(e,t),yl(t),4&r&&gl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var r=n;break t}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(dt(i,""),r.flags&=-33),ul(t,ll(t),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(t,ll(t),o);break;default:throw Error(s(161))}}catch(a){kc(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function bl(t,e,n){Za=t,_l(t,e,n)}function _l(t,e,n){for(var r=0!==(1&t.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=o,(Xa=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,Za=l):El(i);for(;null!==s;)Za=s,_l(s,e,n),s=s.sibling;Za=i,Ya=a,Xa=c}wl(t)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):wl(t)}}function wl(t){for(;null!==Za;){var e=Za;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Xa||il(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ms(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&js(e,o,r);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}js(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Be(d)}}}break;default:throw Error(s(163))}Xa||512&e.flags&&sl(e)}catch(f){kc(e,e.return,f)}}if(e===t){Za=null;break}if(null!==(n=e.sibling)){n.return=e.return,Za=n;break}Za=e.return}}function xl(t){for(;null!==Za;){var e=Za;if(e===t){Za=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Za=n;break}Za=e.return}}function El(t){for(;null!==Za;){var e=Za;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(l){kc(e,n,l)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(l){kc(e,i,l)}}var s=e.return;try{sl(e)}catch(l){kc(e,s,l)}break;case 5:var o=e.return;try{sl(e)}catch(l){kc(e,o,l)}}}catch(l){kc(e,e.return,l)}if(e===t){Za=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Za=a;break}Za=e.return}}var Sl,kl=Math.ceil,Tl=_.ReactCurrentDispatcher,Cl=_.ReactCurrentOwner,Il=_.ReactCurrentBatchConfig,Al=0,Rl=null,Ol=null,Nl=0,Pl=0,Dl=Si(0),Ml=0,Ll=null,Fl=0,jl=0,Ul=0,Vl=null,zl=null,Bl=0,Wl=1/0,Hl=null,ql=!1,Kl=null,Gl=null,Ql=!1,$l=null,Yl=0,Xl=0,Jl=null,Zl=-1,tc=0;function ec(){return 0!==(6&Al)?Xt():-1!==Zl?Zl:Zl=Xt()}function nc(t){return 0===(1&t.mode)?1:0!==(2&Al)&&0!==Nl?Nl&-Nl:null!==gs.transition?(0===tc&&(tc=ge()),tc):0!==(t=be)?t:t=void 0===(t=window.event)?16:Ye(t.type)}function rc(t,e,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(s(185));ve(t,n,r),0!==(2&Al)&&t===Rl||(t===Rl&&(0===(2&Al)&&(jl|=n),4===Ml&&lc(t,Nl)),ic(t,r),1===n&&0===Al&&0===(1&e.mode)&&(Wl=Xt()+500,Ui&&Bi()))}function ic(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var r=de(t,t===Rl?Nl:0);if(0===r)null!==n&&Qt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Qt(n),1===e)0===t.tag?function(t){Ui=!0,zi(t)}(cc.bind(null,t)):zi(cc.bind(null,t)),oi((function(){0===(6&Al)&&Bi()})),n=null;else{switch(_e(r)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Rc(n,sc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sc(t,e){if(Zl=-1,tc=0,0!==(6&Al))throw Error(s(327));var n=t.callbackNode;if(Ec()&&t.callbackNode!==n)return null;var r=de(t,t===Rl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=vc(t,r);else{e=r;var i=Al;Al|=2;var o=gc();for(Rl===t&&Nl===e||(Hl=null,Wl=Xt()+500,fc(t,e));;)try{bc();break}catch(l){pc(t,l)}ws(),Tl.current=o,Al=i,null!==Ol?e=0:(Rl=null,Nl=0,e=Ml)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(r=i,e=oc(t,i))),1===e)throw n=Ll,fc(t,0),lc(t,r),ic(t,Xt()),n;if(6===e)lc(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=vc(t,r))&&(0!==(o=pe(t))&&(r=o,e=oc(t,o))),1===e))throw n=Ll,fc(t,0),lc(t,r),ic(t,Xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(s(345));case 2:case 5:xc(t,zl,Hl);break;case 3:if(lc(t,r),(130023424&r)===r&&10<(e=Bl+500-Xt())){if(0!==de(t,0))break;if(((i=t.suspendedLanes)&r)!==r){ec(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(xc.bind(null,t,zl,Hl),e);break}xc(t,zl,Hl);break;case 4:if(lc(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-oe(r);o=1<<a,(a=e[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){t.timeoutHandle=ri(xc.bind(null,t,zl,Hl),r);break}xc(t,zl,Hl);break;default:throw Error(s(329))}}}return ic(t,Xt()),t.callbackNode===n?sc.bind(null,t):null}function oc(t,e){var n=Vl;return t.current.memoizedState.isDehydrated&&(fc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=zl,zl=n,null!==e&&ac(e)),t}function ac(t){null===zl?zl=t:zl.push.apply(zl,t)}function lc(t,e){for(e&=~Ul,e&=~jl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),r=1<<n;t[n]=-1,e&=~r}}function cc(t){if(0!==(6&Al))throw Error(s(327));Ec();var e=de(t,0);if(0===(1&e))return ic(t,Xt()),null;var n=vc(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=oc(t,r))}if(1===n)throw n=Ll,fc(t,0),lc(t,e),ic(t,Xt()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xc(t,zl,Hl),ic(t,Xt()),null}function uc(t,e){var n=Al;Al|=1;try{return t(e)}finally{0===(Al=n)&&(Wl=Xt()+500,Ui&&Bi())}}function hc(t){null!==$l&&0===$l.tag&&0===(6&Al)&&Ec();var e=Al;Al|=1;var n=Il.transition,r=be;try{if(Il.transition=null,be=1,t)return t()}finally{be=r,Il.transition=n,0===(6&(Al=e))&&Bi()}}function dc(){Pl=Dl.current,ki(Dl)}function fc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(es(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),ki(Ai),ki(Ii),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:ki(ao);break;case 10:xs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Rl=t,Ol=t=Dc(t.current,null),Nl=Pl=e,Ml=0,Ll=null,Ul=jl=Fl=0,zl=Vl=null,null!==Ts){for(e=0;e<Ts.length;e++)if(null!==(r=(n=Ts[e]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ts=null}return t}function pc(t,e){for(;;){var n=Ol;try{if(ws(),ho.current=oa,yo){for(var r=go.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=mo=go=null,bo=!1,_o=0,Cl.current=null,null===n||null===n.return){Ml=1,Ll=e,Ol=null;break}t:{var o=t,a=n.return,l=n,c=e;if(e=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,e),1&p.mode&&ma(o,u,e),c=u;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){ma(o,u,e),mc();break t}c=Error(s(426))}else if(is&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,e),ps(ua(c,l));break t}}o=c=ua(c,l),4!==Ml&&(Ml=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Ls(o,pa(0,c,e));break t;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e,Ls(o,ga(o,l,e));break t}}o=o.return}while(null!==o)}wc(n)}catch(_){e=_,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function gc(){var t=Tl.current;return Tl.current=oa,null===t?oa:t}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Rl||0===(268435455&Fl)&&0===(268435455&jl)||lc(Rl,Nl)}function vc(t,e){var n=Al;Al|=2;var r=gc();for(Rl===t&&Nl===e||(Hl=null,fc(t,e));;)try{yc();break}catch(i){pc(t,i)}if(ws(),Al=n,Tl.current=r,null!==Ol)throw Error(s(261));return Rl=null,Nl=0,Ml}function yc(){for(;null!==Ol;)_c(Ol)}function bc(){for(;null!==Ol&&!$t();)_c(Ol)}function _c(t){var e=Sl(t.alternate,t,Pl);t.memoizedProps=t.pendingProps,null===e?wc(t):Ol=e,Cl.current=null}function wc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Qa(n,e,Pl)))return void(Ol=n)}else{if(null!==(n=$a(n,e)))return n.flags&=32767,void(Ol=n);if(null===t)return Ml=6,void(Ol=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ol=e);Ol=e=t}while(null!==e);0===Ml&&(Ml=5)}function xc(t,e,n){var r=be,i=Il.transition;try{Il.transition=null,be=1,function(t,e,n,r){do{Ec()}while(null!==$l);if(0!==(6&Al))throw Error(s(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oe(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}(t,o),t===Rl&&(Ol=Rl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Rc(ee,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Il.transition,Il.transition=null;var a=be;be=1;var l=Al;Al|=4,Cl.current=null,function(t,e){if(ti=He,fr(t=dr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break t}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},He=!1,Za=e;null!==Za;)if(t=(e=Za).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Za=t;else for(;null!==Za;){e=Za;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ms(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(s(163))}}catch(w){kc(e,e.return,w)}if(null!==(t=e.sibling)){t.return=e.return,Za=t;break}Za=e.return}g=nl,nl=!1}(t,n),vl(n,t),pr(ei),He=!!ti,ei=ti=null,t.current=n,bl(n,t,i),Yt(),Al=l,be=a,Il.transition=o}else t.current=n;if(Ql&&(Ql=!1,$l=t,Yl=i),o=t.pendingLanes,0===o&&(Gl=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ic(t,Xt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,t=Kl,Kl=null,t;0!==(1&Yl)&&0!==t.tag&&Ec(),o=t.pendingLanes,0!==(1&o)?t===Jl?Xl++:(Xl=0,Jl=t):Xl=0,Bi()}(t,e,n,r)}finally{Il.transition=i,be=r}return null}function Ec(){if(null!==$l){var t=_e(Yl),e=Il.transition,n=be;try{if(Il.transition=null,be=16>t?16:t,null===$l)var r=!1;else{if(t=$l,$l=null,Yl=0,0!==(6&Al))throw Error(s(331));var i=Al;for(Al|=4,Za=t.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else t:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break t}Za=o.return}}var b=t.current;for(Za=b;null!==Za;){var _=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==_)_.return=a,Za=_;else t:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){kc(l,l.return,x)}if(l===a){Za=null;break t}var w=l.sibling;if(null!==w){w.return=l.return,Za=w;break t}Za=l.return}}if(Al=i,Bi(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(ie,t)}catch(x){}r=!0}return r}finally{be=n,Il.transition=e}}return!1}function Sc(t,e,n){t=Ds(t,e=pa(0,e=ua(n,e),1),1),e=ec(),null!==t&&(ve(t,1,e),ic(t,e))}function kc(t,e,n){if(3===t.tag)Sc(t,t,n);else for(;null!==e;){if(3===e.tag){Sc(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){e=Ds(e,t=ga(e,t=ua(n,t),1),1),t=ec(),null!==e&&(ve(e,1,t),ic(e,t));break}}e=e.return}}function Tc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=ec(),t.pingedLanes|=t.suspendedLanes&n,Rl===t&&(Nl&n)===n&&(4===Ml||3===Ml&&(130023424&Nl)===Nl&&500>Xt()-Bl?fc(t,0):Ul|=n),ic(t,e)}function Cc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=ec();null!==(t=As(t,e))&&(ve(t,e,n),ic(t,n))}function Ic(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Cc(t,n)}function Ac(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(e),Cc(t,n)}function Rc(t,e){return Gt(t,e)}function Oc(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(t,e,n,r){return new Oc(t,e,n,r)}function Pc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Dc(t,e){var n=t.alternate;return null===n?((n=Nc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mc(t,e,n,r,i,o){var a=2;if(r=t,"function"===typeof t)Pc(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case E:return Lc(n.children,i,o,e);case S:a=8,i|=8;break;case k:return(t=Nc(12,n,e,2|i)).elementType=k,t.lanes=o,t;case A:return(t=Nc(13,n,e,i)).elementType=A,t.lanes=o,t;case R:return(t=Nc(19,n,e,i)).elementType=R,t.lanes=o,t;case P:return Fc(n,i,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case T:a=10;break t;case C:a=9;break t;case I:a=11;break t;case O:a=14;break t;case N:a=16,r=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Nc(a,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Lc(t,e,n,r){return(t=Nc(7,t,r,e)).lanes=n,t}function Fc(t,e,n,r){return(t=Nc(22,t,r,e)).elementType=P,t.lanes=n,t.stateNode={isHidden:!1},t}function jc(t,e,n){return(t=Nc(6,t,null,e)).lanes=n,t}function Uc(t,e,n){return(e=Nc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(t,e,n,r,i,s,o,a,l){return t=new Vc(t,e,n,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Nc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),t}function Bc(t){if(!t)return Ci;t:{if(Bt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ni(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Ni(n))return Mi(t,n,e)}return e}function Wc(t,e,n,r,i,s,o,a,l){return(t=zc(n,r,!0,t,0,s,0,a,l)).context=Bc(null),n=t.current,(s=Ps(r=ec(),i=nc(n))).callback=void 0!==e&&null!==e?e:null,Ds(n,s,i),t.current.lanes=i,ve(t,i,r),ic(t,r),t}function Hc(t,e,n,r){var i=e.current,s=ec(),o=nc(i);return n=Bc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Ps(s,o)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Ds(i,e,o))&&(rc(t,i,o,s),Ms(t,i,o)),o}function qc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Kc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Gc(t,e){Kc(t,e),(t=t.alternate)&&Kc(t,e)}Sl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ai.current)_a=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return _a=!1,function(t,e,n){switch(e.tag){case 3:Ra(e),fs();break;case 5:so(e);break;case 1:Ni(e.type)&&Li(e);break;case 4:ro(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ti(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Ti(ao,1&ao.current),e.flags|=128,null):0!==(n&e.child.childLanes)?ja(t,e,n):(Ti(ao,1&ao.current),null!==(t=qa(t,e,n))?t.sibling:null);Ti(ao,1&ao.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Wa(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ao,ao.current),r)break;return null;case 22:case 23:return e.lanes=0,ka(t,e,n)}return qa(t,e,n)}(t,e,n);_a=0!==(131072&t.flags)}else _a=!1,is&&0!==(1048576&e.flags)&&Zi(e,Ki,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ha(t,e),t=e.pendingProps;var i=Oi(e,Ii.current);Ss(e,n),i=So(null,e,r,t,i,n);var o=ko();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ni(r)?(o=!0,Li(e)):o=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Os(e),i.updater=zs,e.stateNode=i,i._reactInternals=e,qs(e,r,t,n),e=Aa(null,e,r,!0,o,n)):(e.tag=0,is&&o&&ts(e),wa(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Ha(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Pc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===I)return 11;if(t===O)return 14}return 2}(r),t=ms(r,t),i){case 0:e=Ca(null,e,r,t,n);break t;case 1:e=Ia(null,e,r,t,n);break t;case 11:e=xa(null,e,r,t,n);break t;case 14:e=Ea(null,e,r,ms(r.type,t),n);break t}throw Error(s(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ca(t,e,r,i=e.elementType===r?i:ms(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ia(t,e,r,i=e.elementType===r?i:ms(r,i),n);case 3:t:{if(Ra(e),null===t)throw Error(s(387));r=e.pendingProps,i=(o=e.memoizedState).element,Ns(t,e),Fs(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Oa(t,e,r,n,i=ua(Error(s(423)),e));break t}if(r!==i){e=Oa(t,e,r,n,i=ua(Error(s(424)),e));break t}for(rs=ci(e.stateNode.containerInfo.firstChild),ns=e,is=!0,ss=null,n=Xs(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){e=qa(t,e,n);break t}wa(t,e,r,n)}e=e.child}return e;case 5:return so(e),null===t&&cs(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(e.flags|=32),Ta(t,e),wa(t,e,a,n),e.child;case 6:return null===t&&cs(e),null;case 13:return ja(t,e,n);case 4:return ro(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Ys(e,null,r,n):wa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,xa(t,e,r,i=e.elementType===r?i:ms(r,i),n);case 7:return wa(t,e,e.pendingProps,n),e.child;case 8:case 12:return wa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ti(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ai.current){e=qa(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ps(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Es(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Es(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ss(e,n),r=r(i=ks(i)),e.flags|=1,wa(t,e,r,n),e.child;case 14:return i=ms(r=e.type,e.pendingProps),Ea(t,e,r,i=ms(r.type,i),n);case 15:return Sa(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ms(r,i),Ha(t,e),e.tag=1,Ni(r)?(t=!0,Li(e)):t=!1,Ss(e,n),Ws(e,r,i),qs(e,r,i,n),Aa(null,e,r,!0,t,n);case 19:return Wa(t,e,n);case 22:return ka(t,e,n)}throw Error(s(156,e.tag))};var Qc="function"===typeof reportError?reportError:function(t){console.error(t)};function $c(t){this._internalRoot=t}function Yc(t){this._internalRoot=t}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zc(){}function tu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var t=qc(o);a.call(t)}}Hc(e,o,t,i)}else o=function(t,e,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var t=qc(o);s.call(t)}}var o=Wc(e,r,t,0,null,!1,0,"",Zc);return t._reactRootContainer=o,t[pi]=o.current,Br(8===t.nodeType?t.parentNode:t),hc(),o}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var a=r;r=function(){var t=qc(l);a.call(t)}}var l=zc(t,0,!1,null,0,!1,0,"",Zc);return t._reactRootContainer=l,t[pi]=l.current,Br(8===t.nodeType?t.parentNode:t),hc((function(){Hc(e,l,n,r)})),l}(n,e,t,i,r);return qc(o)}Yc.prototype.render=$c.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Hc(t,e,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;hc((function(){Hc(null,t,null,null)})),e[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pe.length&&0!==e&&e<Pe[n].priority;n++);Pe.splice(n,0,t),0===n&&Fe(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ye(e,1|n),ic(e,Xt()),0===(6&Al)&&(Wl=Xt()+500,Bi()))}break;case 13:hc((function(){var e=As(t,1);if(null!==e){var n=ec();rc(e,t,1,n)}})),Gc(t,1)}},xe=function(t){if(13===t.tag){var e=As(t,134217728);if(null!==e)rc(e,t,134217728,ec());Gc(t,134217728)}},Ee=function(t){if(13===t.tag){var e=nc(t),n=As(t,e);if(null!==n)rc(n,t,e,ec());Gc(t,e)}},Se=function(){return be},ke=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},xt=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},It=uc,At=hc;var eu={usingClientEntryPoint:!1,Events:[bi,_i,wi,Tt,Ct,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=qt(t))?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{ie=iu.inject(ru),se=iu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(s(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Xc(t))throw Error(s(299));var n=!1,r="",i=Qc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=zc(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,Br(8===t.nodeType?t.parentNode:t),new $c(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=qt(e))?null:t.stateNode},e.flushSync=function(t){return hc(t)},e.hydrate=function(t,e,n){if(!Jc(e))throw Error(s(200));return tu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Xc(t))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Wc(e,null,t,1,null!=n?n:null,i,0,o,a),t[pi]=e.current,Br(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yc(e)},e.render=function(t,e,n){if(!Jc(e))throw Error(s(200));return tu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(s(40));return!!t._reactRootContainer&&(hc((function(){tu(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=uc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jc(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return tu(t,e,n,!1,r)},e.version="18.2.0-next-9e3b772b8-20220608"},391:(t,e,n)=>{"use strict";var r=n(950);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)},153:(t,e,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,r)&&!l.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===s[r]&&(s[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:u,props:s,_owner:a.current}}e.jsx=c,e.jsxs=c},202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,g(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,r){var i,s={},o=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)x.call(e,i)&&!S.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:E.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var C=/\/+/g;function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function A(t,e,i,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=t),t=""===s?"."+I(l,0):s,w(o)?(i="",null!=t&&(i=t.replace(C,"$&/")+"/"),A(o,e,i,"",(function(t){return t}))):null!=o&&(T(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",w(t))for(var c=0;c<t.length;c++){var u=s+I(a=t[c],c);l+=A(a,e,i,u,o)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=A(a=a.value,e,i,u=s+I(a,c++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function R(t,e,n){if(null==t)return t;var r=[],i=0;return A(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function O(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var N={current:null},P={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};e.Children={map:R,forEach:function(t,e,n){R(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return R(t,(function(){e++})),e},toArray:function(t){return R(t,(function(t){return t}))||[]},only:function(t){if(!T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=i,e.Profiler=o,e.PureComponent=b,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=g({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=E.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)x.call(e,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:t.type,key:s,ref:o,props:i,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:O}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=P.transition;P.transition={};try{t()}finally{P.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return N.current.useCallback(t,e)},e.useContext=function(t){return N.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return N.current.useDeferredValue(t)},e.useEffect=function(t,e){return N.current.useEffect(t,e)},e.useId=function(){return N.current.useId()},e.useImperativeHandle=function(t,e,n){return N.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return N.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return N.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return N.current.useMemo(t,e)},e.useReducer=function(t,e,n){return N.current.useReducer(t,e,n)},e.useRef=function(t){return N.current.useRef(t)},e.useState=function(t){return N.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return N.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return N.current.useTransition()},e.version="18.2.0"},43:(t,e,n)=>{"use strict";t.exports=n(202)},579:(t,e,n)=>{"use strict";t.exports=n(153)},234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<s(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=t[a],c=a+1,u=t[c];if(0>s(l,n))c<i&&0>s(u,l)?(t[r]=u,t[c]=n,r=c):(t[r]=l,t[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break t;t[r]=u,t[c]=n,r=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(t){for(var e=r(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(c,e)}e=r(u)}}function w(t){if(m=!1,_(t),!g)if(null!==r(c))g=!0,P(x);else{var e=r(u);null!==e&&D(w,e.startTime-t)}}function x(t,n){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var s=f;try{for(_(n),d=r(c);null!==d&&(!(d.expirationTime>n)||t&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),_(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,k=null,T=-1,C=5,I=-1;function A(){return!(e.unstable_now()-I<C)}function R(){if(null!==k){var t=e.unstable_now();I=t;var n=!0;try{n=k(!0,t)}finally{n?E():(S=!1,k=null)}}else S=!1}if("function"===typeof b)E=function(){b(R)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=R,E=function(){N.postMessage(null)}}else E=function(){v(R,0)};function P(t){k=t,S||(S=!0,E())}function D(t,n){T=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,P(x))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,i,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(u,t),null===r(c)&&t===r(u)&&(m?(y(T),T=-1):m=!0,D(w,s-o))):(t.sortIndex=a,n(c,t),g||p||(g=!0,P(x))),t},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},853:(t,e,n)=>{"use strict";t.exports=n(234)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=t,(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&r;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>r[t]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,r)=>(n.f[r](t,e),e)),[])),n.u=t=>"static/js/"+t+".419a5d54.chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="client:";n.l=(r,i,s,o)=>{if(t[r])t[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==e+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+s),a.src=r),t[r]=[i];var d=(e,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=t[r];if(delete t[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((t=>t(n))),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.p="/",(()=>{var t={792:0};n.f.j=(e,r)=>{var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=t[e]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(e),a=new Error;n.l(o,(r=>{if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+e,e)}};var e=(e,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((e=>0!==t[e]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(e&&e(r);c<o.length;c++)s=o[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),(()=>{"use strict";var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>I_,hasStandardBrowserEnv:()=>A_,hasStandardBrowserWebWorkerEnv:()=>O_});var e,r=n(43),i=n.t(r,2),s=n(391);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(e||(e={}));const a="popstate";function l(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function c(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function u(t,e){return{usr:t.state,key:t.key,idx:e}}function h(t,e,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?f(e):e,{state:n,key:e&&e.key||r||Math.random().toString(36).substr(2,8)})}function d(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function f(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function p(t,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:c=!1}=i,f=s.history,p=e.Pop,g=null,m=v();function v(){return(f.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-m;m=t,g&&g({action:p,location:_.location,delta:n})}function b(t){let e="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof t?t:d(t);return n=n.replace(/ $/,"%20"),l(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==m&&(m=0,f.replaceState(o({},f.state,{idx:m}),""));let _={get action(){return p},get location(){return t(s,f)},listen(t){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(a,y),g=t,()=>{s.removeEventListener(a,y),g=null}},createHref:t=>n(s,t),createURL:b,encodeLocation(t){let e=b(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,n){p=e.Push;let i=h(_.location,t,n);r&&r(i,t),m=v()+1;let o=u(i,m),a=_.createHref(i);try{f.pushState(o,"",a)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;s.location.assign(a)}c&&g&&g({action:p,location:_.location,delta:1})},replace:function(t,n){p=e.Replace;let i=h(_.location,t,n);r&&r(i,t),m=v();let s=u(i,m),o=_.createHref(i);f.replaceState(s,"",o),c&&g&&g({action:p,location:_.location,delta:0})},go:t=>f.go(t)};return _}var g;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(t,e,n){void 0===n&&(n="/");let r=R(("string"===typeof e?f(e):e).pathname||"/",n);if(null==r)return null;let i=v(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let t=A(r);s=C(i[o],t)}return s}function v(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(t,i,s)=>{let o={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};o.relativePath.startsWith("/")&&(l(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=M([r,o.relativePath]),c=n.concat(o);t.children&&t.children.length>0&&(l(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),v(t.children,e,c,a)),(null!=t.path||t.index)&&e.push({path:a,score:T(a,t.index),routesMeta:c})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let r of y(t.path))i(t,e,r);else i(t,e)})),e}function y(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=y(r.join("/")),a=[];return a.push(...o.map((t=>""===t?s:[s,t].join("/")))),i&&a.push(...o),a.map((e=>t.startsWith("/")&&""===e?"/":e))}const b=/^:[\w-]+$/,_=3,w=2,x=1,E=10,S=-2,k=t=>"*"===t;function T(t,e){let n=t.split("/"),r=n.length;return n.some(k)&&(r+=S),e&&(r+=w),n.filter((t=>!k(t))).reduce(((t,e)=>t+(b.test(e)?_:""===e?x:E)),r)}function C(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let t=n[o],a=o===n.length-1,l="/"===i?e:e.slice(i.length)||"/",c=I({path:t.relativePath,caseSensitive:t.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=t.route;s.push({params:r,pathname:M([i,c.pathname]),pathnameBase:L(M([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=M([i,c.pathnameBase]))}return s}function I(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);c("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(r.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(r.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,e?void 0:"i");return[s,r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((t,e,n)=>{let{paramName:r,isOptional:i}=e;if("*"===r){let t=a[n]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const l=a[n];return t[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{});return{params:l,pathname:s,pathnameBase:o,pattern:t}}function A(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return c(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function R(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function O(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function P(t,e){let n=N(t);return e?n.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)):n.map((t=>t.pathnameBase))}function D(t,e,n,r){let i;void 0===r&&(r=!1),"string"===typeof t?i=f(t):(i=o({},t),l(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,a=""===t||""===i.pathname,c=a?"/":i.pathname;if(null==c)s=n;else{let t=e.length-1;if(!r&&c.startsWith("..")){let e=c.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}s=t>=0?e[t]:"/"}let u=function(t,e){void 0===e&&(e="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof t?f(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:F(r),hash:j(i)}}(i,s),h=c&&"/"!==c&&c.endsWith("/"),d=(a||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const M=t=>t.join("/").replace(/\/\/+/g,"/"),L=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),F=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",j=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function U(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const V=["post","put","patch","delete"],z=(new Set(V),["get",...V]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B.apply(this,arguments)}const W=r.createContext(null);const H=r.createContext(null);const q=r.createContext(null);const K=r.createContext(null);const G=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=r.createContext(null);function $(){return null!=r.useContext(K)}function Y(){return $()||l(!1),r.useContext(K).location}function X(t){r.useContext(q).static||r.useLayoutEffect(t)}function J(){let{isDataRoute:t}=r.useContext(G);return t?function(){let{router:t}=lt(ot.UseNavigateStable),e=ut(at.UseNavigateStable),n=r.useRef(!1);X((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?t.navigate(r):t.navigate(r,B({fromRouteId:e},i)))}),[t,e]);return i}():function(){$()||l(!1);let t=r.useContext(W),{basename:e,future:n,navigator:i}=r.useContext(q),{matches:s}=r.useContext(G),{pathname:o}=Y(),a=JSON.stringify(P(s,n.v7_relativeSplatPath)),c=r.useRef(!1);X((()=>{c.current=!0}));let u=r.useCallback((function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void i.go(n);let s=D(n,JSON.parse(a),o,"path"===r.relative);null==t&&"/"!==e&&(s.pathname="/"===s.pathname?e:M([e,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[e,i,a,o,t]);return u}()}function Z(t,e){let{relative:n}=void 0===e?{}:e,{future:i}=r.useContext(q),{matches:s}=r.useContext(G),{pathname:o}=Y(),a=JSON.stringify(P(s,i.v7_relativeSplatPath));return r.useMemo((()=>D(t,JSON.parse(a),o,"path"===n)),[t,a,o,n])}function tt(t,n,i,s){$()||l(!1);let{navigator:o}=r.useContext(q),{matches:a}=r.useContext(G),c=a[a.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let d,p=Y();if(n){var g;let t="string"===typeof n?f(n):n;"/"===h||(null==(g=t.pathname)?void 0:g.startsWith(h))||l(!1),d=t}else d=p;let v=d.pathname||"/",y=v;if("/"!==h){let t=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(t.length).join("/")}let b=m(t,{pathname:y});let _=st(b&&b.map((t=>Object.assign({},t,{params:Object.assign({},u,t.params),pathname:M([h,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?h:M([h,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,i,s);return n&&_?r.createElement(K.Provider,{value:{location:B({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},_):_}function et(){let t=function(){var t;let e=r.useContext(Q),n=ct(at.UseRouteError),i=ut(at.UseRouteError);if(void 0!==e)return e;return null==(t=n.errors)?void 0:t[i]}(),e=U(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},e),n?r.createElement("pre",{style:s},n):null,null)}const nt=r.createElement(et,null);class rt extends r.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?r.createElement(G.Provider,{value:this.props.routeContext},r.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function it(t){let{routeContext:e,match:n,children:i}=t,s=r.useContext(W);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(G.Provider,{value:e},i)}function st(t,e,n,i){var s;if(void 0===e&&(e=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==t){var o;if(null==(o=n)||!o.errors)return null;t=n.matches}let a=t,c=null==(s=n)?void 0:s.errors;if(null!=c){let t=a.findIndex((t=>t.route.id&&(null==c?void 0:c[t.route.id])));t>=0||l(!1),a=a.slice(0,Math.min(a.length,t+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<a.length;r++){let t=a[r];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(h=r),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((t,i,s)=>{let o,l=!1,d=null,f=null;var p;n&&(o=c&&i.route.id?c[i.route.id]:void 0,d=i.route.errorElement||nt,u&&(h<0&&0===s?(p="route-fallback",!1||ht[p]||(ht[p]=!0),l=!0,f=null):h===s&&(l=!0,f=i.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,s+1)),m=()=>{let e;return e=o?d:l?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:t,r.createElement(it,{match:i,routeContext:{outlet:t,matches:g,isDataRoute:null!=n},children:e})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(rt,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var ot=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ot||{}),at=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(at||{});function lt(t){let e=r.useContext(W);return e||l(!1),e}function ct(t){let e=r.useContext(H);return e||l(!1),e}function ut(t){let e=function(t){let e=r.useContext(G);return e||l(!1),e}(),n=e.matches[e.matches.length-1];return n.route.id||l(!1),n.route.id}const ht={};i.startTransition;function dt(t){let{to:e,replace:n,state:i,relative:s}=t;$()||l(!1);let{future:o,static:a}=r.useContext(q),{matches:c}=r.useContext(G),{pathname:u}=Y(),h=J(),d=D(e,P(c,o.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(d);return r.useEffect((()=>h(JSON.parse(f),{replace:n,state:i,relative:s})),[h,f,s,n,i]),null}function ft(t){l(!1)}function pt(t){let{basename:n="/",children:i=null,location:s,navigationType:o=e.Pop,navigator:a,static:c=!1,future:u}=t;$()&&l(!1);let h=n.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:h,navigator:a,static:c,future:B({v7_relativeSplatPath:!1},u)})),[h,u,a,c]);"string"===typeof s&&(s=f(s));let{pathname:p="/",search:g="",hash:m="",state:v=null,key:y="default"}=s,b=r.useMemo((()=>{let t=R(p,h);return null==t?null:{location:{pathname:t,search:g,hash:m,state:v,key:y},navigationType:o}}),[h,p,g,m,v,y,o]);return null==b?null:r.createElement(q.Provider,{value:d},r.createElement(K.Provider,{children:i,value:b}))}function gt(t){let{children:e,location:n}=t;return tt(mt(e),n)}new Promise((()=>{}));r.Component;function mt(t,e){void 0===e&&(e=[]);let n=[];return r.Children.forEach(t,((t,i)=>{if(!r.isValidElement(t))return;let s=[...e,i];if(t.type===r.Fragment)return void n.push.apply(n,mt(t.props.children,s));t.type!==ft&&l(!1),t.props.index&&t.props.children&&l(!1);let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=mt(t.props.children,s)),n.push(o)})),n}var vt=n(950),yt=n.t(vt,2);function bt(){return bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bt.apply(this,arguments)}function _t(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const wt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(GI){}new Map;const xt=i.startTransition;yt.flushSync,i.useId;function Et(t){let{basename:e,children:n,future:i,window:s}=t,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),p((function(t,e){let{pathname:n,search:r,hash:i}=t.location;return h("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:d(e)}),null,a)));let l=o.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},g=r.useCallback((t=>{f&&xt?xt((()=>u(t))):u(t)}),[u,f]);return r.useLayoutEffect((()=>l.listen(g)),[l,g]),r.createElement(pt,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const St="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,kt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=r.forwardRef((function(t,e){let n,{onClick:i,relative:s,reloadDocument:o,replace:a,state:c,target:u,to:h,preventScrollReset:f,unstable_viewTransition:p}=t,g=_t(t,wt),{basename:m}=r.useContext(q),v=!1;if("string"===typeof h&&kt.test(h)&&(n=h,St))try{let t=new URL(window.location.href),e=h.startsWith("//")?new URL(t.protocol+h):new URL(h),n=R(e.pathname,m);e.origin===t.origin&&null!=n?h=n+e.search+e.hash:v=!0}catch(GI){}let y=function(t,e){let{relative:n}=void 0===e?{}:e;$()||l(!1);let{basename:i,navigator:s}=r.useContext(q),{hash:o,pathname:a,search:c}=Z(t,{relative:n}),u=a;return"/"!==i&&(u="/"===a?i:M([i,a])),s.createHref({pathname:u,search:c,hash:o})}(h,{relative:s}),b=function(t,e){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===e?{}:e,c=J(),u=Y(),h=Z(t,{relative:a});return r.useCallback((e=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,n)){e.preventDefault();let n=void 0!==i?i:d(u)===d(h);c(t,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,h,i,s,n,t,o,a,l])}(h,{replace:a,state:c,target:u,preventScrollReset:f,relative:s,unstable_viewTransition:p});return r.createElement("a",bt({},g,{href:n||y,onClick:v||o?i:function(t){i&&i(t),t.defaultPrevented||b(t)},ref:e,target:u}))}));var Ct,It;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ct||(Ct={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(It||(It={}));const At=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Rt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,l=a?t[i+2]:0,c=e>>2,u=(3&e)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(At(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const o=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==o||null==a)throw new Ot;const l=e<<2|s>>4;if(r.push(l),64!==o){const t=s<<4&240|o>>2;if(r.push(t),64!==a){const t=o<<6&192|a;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ot extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nt=function(t){return function(t){const e=At(t);return Rt.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Pt=function(t){try{return Rt.decodeString(t,!0)}catch(GI){console.error("base64Decode failed: ",GI)}return null};const Dt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Mt=()=>{try{return Dt()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(GI){return}const e=t&&Pt(t[1]);return e&&JSON.parse(e)})()}catch(GI){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(GI))}},Lt=t=>{var e,n;return null===(n=null===(e=Mt())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Ft=t=>{const e=Lt(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jt=()=>{var t;return null===(t=Mt())||void 0===t?void 0:t.config},Ut=t=>{var e;return null===(e=Mt())||void 0===e?void 0:e["_".concat(t)]};class Vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function zt(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nt(JSON.stringify({alg:"none",type:"JWT"})),Nt(JSON.stringify(s)),""].join(".")}function Bt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Wt(){return!function(){var t;const e=null===(t=Mt())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(GI){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ht(){try{return"object"===typeof indexedDB}catch(GI){return!1}}class qt extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kt.prototype.create)}}class Kt{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),r=this.errors[t],i=r?function(t,e){return t.replace(Gt,((t,n)=>{const r=e[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,e):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new qt(n,s,e)}}const Gt=/\{\$([^}]+)}/g;function Qt(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if($t(n)&&$t(s)){if(!Qt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $t(t){return null!==t&&"object"===typeof t}function Yt(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xt(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function Jt(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Zt{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=te),void 0===r.error&&(r.error=te),void 0===r.complete&&(r.complete=te);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(GI){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(GI){"undefined"!==typeof console&&console.error&&console.error(GI)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function te(){}function ee(t){return t&&t._delegate?t._delegate:t}class ne{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const re="[DEFAULT]";class ie{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Vt;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(GI){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(GI){if(r)return null;throw GI}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:re})}catch(GI){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(GI){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===re?void 0:i),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return this.component?this.component.multipleInstances?t:re:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ie(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const oe=[];var ae;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(ae||(ae={}));const le={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},ce=ae.INFO,ue={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},he=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),r=ue[e];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(t.name,":"),...s)};class de{constructor(t){this.name=t,this._logLevel=ce,this._logHandler=he,this._userLogHandler=null,oe.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?le[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const fe=(t,e)=>e.some((e=>t instanceof e));let pe,ge;const me=new WeakMap,ve=new WeakMap,ye=new WeakMap,be=new WeakMap,_e=new WeakMap;let we={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ve.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ye.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Se(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function xe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(ke(this),n),Se(me.get(this))}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Se(t.apply(ke(this),n))}:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=t.call(ke(this),e,...r);return ye.set(s,e.sort?e.sort():[e]),Se(s)}}function Ee(t){return"function"===typeof t?xe(t):(t instanceof IDBTransaction&&function(t){if(ve.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));ve.set(t,e)}(t),fe(t,pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,we):t)}function Se(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(Se(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&me.set(e,t)})).catch((()=>{})),_e.set(e,t),e}(t);if(be.has(t))return be.get(t);const e=Ee(t);return e!==t&&(be.set(t,e),_e.set(e,t)),e}const ke=t=>_e.get(t);const Te=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Ie=new Map;function Ae(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(Ie.get(e))return Ie.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ce.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Te.includes(n))return;const s=async function(t){const e=this.transaction(t,i?"readwrite":"readonly");let s=e.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&e.done]))[0]};return Ie.set(e,s),s}!function(t){we=t(we)}((t=>({...t,get:(e,n,r)=>Ae(e,n)||t.get(e,n,r),has:(e,n)=>!!Ae(e,n)||t.has(e,n)})));class Re{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((t=>t)).join(" ")}}const Oe="@firebase/app",Ne="0.9.28",Pe=new de("@firebase/app"),De="[DEFAULT]",Me={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Le=new Map,Fe=new Map;function je(t,e){try{t.container.addComponent(e)}catch(GI){Pe.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),GI)}}function Ue(t){const e=t.name;if(Fe.has(e))return Pe.debug("There were multiple attempts to register component ".concat(e,".")),!1;Fe.set(e,t);for(const n of Le.values())je(n,t);return!0}function Ve(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const ze=new Kt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Be{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ne("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ze.create("app-deleted",{appName:this._name})}}const We="10.8.1";function He(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const r=Object.assign({name:De,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!==typeof i||!i)throw ze.create("bad-app-name",{appName:String(i)});if(n||(n=jt()),!n)throw ze.create("no-options");const s=Le.get(i);if(s){if(Qt(n,s.options)&&Qt(r,s.config))return s;throw ze.create("duplicate-app",{appName:i})}const o=new se(i);for(const l of Fe.values())o.addComponent(l);const a=new Be(n,r,o);return Le.set(i,a),a}function qe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;const e=Le.get(t);if(!e&&t===De&&jt())return He();if(!e)throw ze.create("no-app",{appName:t});return e}function Ke(t,e,n){var r;let i=null!==(r=Me[t])&&void 0!==r?r:t;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=['Unable to register library "'.concat(i,'" with version "').concat(e,'":')];return s&&t.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&t.push("and"),o&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void Pe.warn(t.join(" "))}Ue(new ne("".concat(i,"-version"),(()=>({library:i,version:e})),"VERSION"))}const Ge="firebase-heartbeat-database",Qe=1,$e="firebase-heartbeat-store";let Ye=null;function Xe(){return Ye||(Ye=function(t,e){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(t,e),a=Se(o);return r&&o.addEventListener("upgradeneeded",(t=>{r(Se(o.result),t.oldVersion,t.newVersion,Se(o.transaction),t)})),n&&o.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}(Ge,Qe,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore($e)}catch(GI){console.warn(GI)}}}).catch((t=>{throw ze.create("idb-open",{originalErrorMessage:t.message})}))),Ye}async function Je(t,e){try{const n=(await Xe()).transaction($e,"readwrite"),r=n.objectStore($e);await r.put(e,Ze(t)),await n.done}catch(GI){if(GI instanceof qt)Pe.warn(GI.message);else{const e=ze.create("idb-set",{originalErrorMessage:null===GI||void 0===GI?void 0:GI.message});Pe.warn(e.message)}}}function Ze(t){return"".concat(t.name,"!").concat(t.options.appId)}class tn{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new nn(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=en();if((null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((t=>t.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=en(),{heartbeatsToSend:n,unsentEntries:r}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),rn(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rn(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Nt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function en(){return(new Date).toISOString().substring(0,10)}class nn{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ht()&&new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await Xe()).transaction($e),n=await e.objectStore($e).get(Ze(t));return await e.done,n}catch(GI){if(GI instanceof qt)Pe.warn(GI.message);else{const e=ze.create("idb-get",{originalErrorMessage:null===GI||void 0===GI?void 0:GI.message});Pe.warn(e.message)}}}(this.app);return(null===t||void 0===t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Je(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Je(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function rn(t){return Nt(JSON.stringify({version:2,heartbeats:t})).length}var sn;sn="",Ue(new ne("platform-logger",(t=>new Re(t)),"PRIVATE")),Ue(new ne("heartbeat",(t=>new tn(t)),"PRIVATE")),Ke(Oe,Ne,sn),Ke(Oe,Ne,"esm2017"),Ke("fire-js","");Ke("firebase","10.8.1","app");function on(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function an(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ln=an,cn=new Kt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),un=new de("@firebase/auth");function hn(t){if(un.logLevel<=ae.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];un.error("Auth (".concat(We,"): ").concat(t),...n)}}function dn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw mn(t,...n)}function fn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return mn(t,...n)}function pn(t,e,n){const r=Object.assign(Object.assign({},ln()),{[e]:n});return new Kt("auth","Firebase",r).create(e,{appName:t.name})}function gn(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&dn(t,"argument-error"),pn(t,"argument-error","Type of ".concat(e.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function mn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if("string"!==typeof t){const e=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(e,...r)}return cn.create(t,...n)}function vn(t,e){if(!t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw mn(e,...r)}}function yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hn(e),new Error(e)}function bn(t,e){t||yn(e)}function _n(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function wn(){return"http:"===xn()||"https:"===xn()}function xn(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function En(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(wn()||function(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Sn{constructor(t,e){this.shortDelay=t,this.longDelay=e,bn(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return En()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kn(t,e){bn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}class Tn{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},In=new Sn(3e4,6e4);function An(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rn(t,e,n,r){return On(t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===e?s=r:i={body:JSON.stringify(r)});const o=Yt(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),Tn.fetch()(Pn(t,t.config.apiHost,n,o),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},i))}))}async function On(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Cn),e);try{const e=new Mn(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Ln(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ln(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Ln(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw Ln(t,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw pn(t,a,o);dn(t,a)}}catch(GI){if(GI instanceof qt)throw GI;dn(t,"network-request-failed",{message:String(GI)})}}async function Nn(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Rn(t,e,n,r,i);return"mfaPendingCredential"in s&&dn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Pn(t,e,n,r){const i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?kn(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}function Dn(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mn{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(fn(this.auth,"network-request-failed"))),In.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ln(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fn(t,e,r);return i.customData._tokenResponse=n,i}function Fn(t){return void 0!==t&&void 0!==t.enterprise}class jn{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Dn(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}}async function Un(t,e){return Rn(t,"GET","/v2/recaptchaConfig",An(t,e))}function Vn(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(GI){}}function zn(t){return 1e3*Number(t)}function Bn(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return hn("JWT malformed, contained fewer than 3 sections"),null;try{const t=Pt(n);return t?JSON.parse(t):(hn("Failed to decode base64 JWT payload"),null)}catch(GI){return hn("Caught error parsing JWT payload as JSON",null===GI||void 0===GI?void 0:GI.toString()),null}}async function Wn(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return e;try{return await e}catch(GI){throw GI instanceof qt&&function(t){let{code:e}=t;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}(GI)&&t.auth.currentUser===t&&await t.auth.signOut(),GI}}class Hn{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(GI){return void((null===GI||void 0===GI?void 0:GI.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class qn{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vn(this.lastLoginAt),this.creationTime=Vn(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kn(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wn(t,async function(t,e){return Rn(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:r}));vn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?s.providerUserInfo.map((t=>{var{providerId:e}=t,n=on(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=t.providerData,c=o,[...l.filter((t=>!c.some((e=>e.providerId===t.providerId)))),...c]);var l,c;const u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}class Gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vn(t.idToken,"internal-error"),vn("undefined"!==typeof t.idToken,"internal-error"),vn("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):function(t){const e=Bn(t);return vn(e,"internal-error"),vn("undefined"!==typeof e.exp,"internal-error"),vn("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return vn(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(t,e){const n=await On(t,{},(async()=>{const n=Yt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,s=Pn(t,r,"/v1/token","key=".concat(i)),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Tn.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new Gn;return n&&(vn("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(vn("string"===typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(vn("number"===typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Gn,this.toJSON())}_performRefresh(){return yn("not implemented")}}function Qn(t,e){vn("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class $n{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=on(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await Wn(this,this.stsTokenManager.getToken(this.auth,t));return vn(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ee(t),r=await n.getIdToken(e),i=Bn(r);vn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Vn(zn(i.auth_time)),issuedAtTime:Vn(zn(i.iat)),expirationTime:Vn(zn(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=ee(t);await Kn(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(vn(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new $n(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){vn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await Kn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Wn(this,async function(t,e){return Rn(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,g=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=e.createdAt)&&void 0!==l?l:void 0,v=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:_,providerData:w,stsTokenManager:x}=e;vn(y&&x,t,"internal-error");const E=Gn.fromJSON(this.name,x);vn("string"===typeof y,t,"internal-error"),Qn(u,t.name),Qn(h,t.name),vn("boolean"===typeof b,t,"internal-error"),vn("boolean"===typeof _,t,"internal-error"),Qn(d,t.name),Qn(f,t.name),Qn(p,t.name),Qn(g,t.name),Qn(m,t.name),Qn(v,t.name);const S=new $n({uid:y,auth:t,email:h,emailVerified:b,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map((t=>Object.assign({},t)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Gn;r.updateFromServerResponse(e);const i=new $n({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await Kn(i),i}}const Yn=new Map;function Xn(t){bn(t instanceof Function,"Expected a class definition");let e=Yn.get(t);return e?(bn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yn.set(t,e),e)}class Jn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Jn.type="NONE";const Zn=Jn;function tr(t,e,n){return"firebase".concat(":",t,":").concat(e,":").concat(n)}class er{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=tr(this.userKey,r.apiKey,i),this.fullPersistenceKey=tr("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?$n._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!e.length)return new er(Xn(Zn),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||Xn(Zn);const s=tr(n,t.config.apiKey,t.name);let o=null;for(const c of e)try{const e=await c._get(s);if(e){const n=$n._fromJSON(t,e);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(s)}catch(l){}}))),new er(i,t,n)):new er(i,t,n)}}function nr(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(or(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rr(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lr(e))return"Blackberry";if(cr(e))return"Webos";if(ir(e))return"Safari";if((e.includes("chrome/")||sr(e))&&!e.includes("edge/"))return"Chrome";if(ar(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function rr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/firefox\//i.test(t)}function ir(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt()).toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/crios\//i.test(t)}function or(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/iemobile/i.test(t)}function ar(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/android/i.test(t)}function lr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/blackberry/i.test(t)}function cr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/webos/i.test(t)}function ur(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hr(){return function(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function dr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt();return ur(t)||ar(t)||cr(t)||lr(t)||/windows phone/i.test(t)||or(t)}function fr(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t){case"Browser":e=nr(Bt());break;case"Worker":e="".concat(nr(Bt()),"-").concat(t);break;default:e=t}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(e,"/","JsCore","/").concat(We,"/").concat(r)}class pr{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,r)=>{try{n(t(e))}catch(GI){r(GI)}}));n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(GI){e.reverse();for(const r of e)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===GI||void 0===GI?void 0:GI.message})}}}class gr{constructor(t){var e,n,r,i;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=t.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=null===(e=a.meetsMinPasswordLength)||void 0===e||e),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let n;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}class mr{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yr(this),this.idTokenSubscription=new yr(this),this.beforeStateQueue=new pr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Xn(e)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await er.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(GI){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(GI){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(GI)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(GI){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Kn(t)}catch(GI){if((null===GI||void 0===GI?void 0:GI.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?ee(t):null;return e&&vn(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return t&&vn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Xn(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t){return Rn(t,"GET","/v2/passwordPolicy",An(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),e=new gr(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Kt("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise(((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged((()=>{n(),t()}),e)}}))}async revokeAccessToken(t){if(this.currentUser){const e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(e.tenantId=this.tenantId),await async function(t,e){return Rn(t,"POST","/v2/accounts:revokeToken",An(t,e))}(this,e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Xn(t)||this._popupRedirectResolver;vn(e,this,"argument-error"),this.redirectPersistenceManager=await er.create(this,[Xn(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"===typeof e?e:e.next.bind(e);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(vn(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof e){const i=t.addObserver(e,n,r);return()=>{s=!0,i()}}{const n=t.addObserver(e);return()=>{s=!0,n()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=fr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null===e||void 0===e?void 0:e.error)&&function(t){if(un.logLevel<=ae.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];un.warn("Auth (".concat(We,"): ").concat(t),...n)}}("Error while retrieving App Check token: ".concat(e.error)),null===e||void 0===e?void 0:e.token}}function vr(t){return ee(t)}class yr{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new Zt(t,e);return n.subscribe.bind(n)}((t=>this.observer=t))}get next(){return vn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let br={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _r(t){return br.loadJS(t)}function wr(t){return"__".concat(t).concat(Math.floor(1e6*Math.random()))}class xr{constructor(t){this.type="recaptcha-enterprise",this.auth=vr(t)}async verify(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e,n,r){const i=window.grecaptcha;Fn(i)?i.enterprise.ready((()=>{i.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((t,r)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{Un(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new jn(r);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))})(this.auth).then((i=>{if(!e&&Fn(window.grecaptcha))n(i,t,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let e=br.recaptchaEnterpriseScript;0!==e.length&&(e+=i),_r(e).then((()=>{n(i,t,r)})).catch((t=>{r(t)}))}})).catch((t=>{r(t)}))}))}}async function Er(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new xr(t);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Sr(t,e,n,r){var i;if(null===(i=t._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Er(t,e,n,"getOobCode"===n);return r(t,i)}return r(t,e).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Er(t,e,n,"getOobCode"===n);return r(t,i)}return Promise.reject(i)}))}function kr(t,e,n){const r=vr(t);vn(r._canInitEmulator,r,"emulator-config-failed"),vn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Tr(e),{host:o,port:a}=function(t){const e=Tr(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:Cr(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:Cr(e)}}}(e),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function Tr(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cr(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Ir{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return yn("not implemented")}_getIdTokenResponse(t){return yn("not implemented")}_linkToIdToken(t,e){return yn("not implemented")}_getReauthenticationResolver(t){return yn("not implemented")}}async function Ar(t,e){return Rn(t,"POST","/v1/accounts:signUp",e)}async function Rr(t,e){return Nn(t,"POST","/v1/accounts:signInWithPassword",An(t,e))}class Or extends Ir{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Or(t,e,"password")}static _fromEmailAndCode(t,e){return new Or(t,e,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return Sr(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Rr);case"emailLink":return async function(t,e){return Nn(t,"POST","/v1/accounts:signInWithEmailLink",An(t,e))}(t,{email:this._email,oobCode:this._password});default:dn(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Sr(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ar);case"emailLink":return async function(t,e){return Nn(t,"POST","/v1/accounts:signInWithEmailLink",An(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:dn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Nr(t,e){return Nn(t,"POST","/v1/accounts:signInWithIdp",An(t,e))}class Pr extends Ir{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Pr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):dn("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=on(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Pr(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return Nr(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Nr(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Nr(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Yt(e)}return t}}const Dr={USER_NOT_FOUND:"user-not-found"};class Mr extends Ir{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Mr({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Mr({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return Nn(t,"POST","/v1/accounts:signInWithPhoneNumber",An(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await Nn(t,"POST","/v1/accounts:signInWithPhoneNumber",An(t,e));if(n.temporaryProof)throw Ln(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return Nn(t,"POST","/v1/accounts:signInWithPhoneNumber",An(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Dr)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new Mr({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Lr{constructor(t){var e,n,r,i,s,o;const a=Xt(Jt(t)),l=null!==(e=a.apiKey)&&void 0!==e?e:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);vn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=Xt(Jt(t)).link,n=e?Xt(Jt(e)).deep_link_id:null,r=Xt(Jt(t)).deep_link_id;return(r?Xt(Jt(r)).link:null)||r||n||e||t}(t);try{return new Lr(e)}catch(n){return null}}}class Fr{constructor(){this.providerId=Fr.PROVIDER_ID}static credential(t,e){return Or._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Lr.parseLink(e);return vn(n,"argument-error"),Or._fromEmailAndCode(t,n.code,n.tenantId)}}Fr.PROVIDER_ID="password",Fr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Fr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class jr{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ur extends jr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Vr extends Ur{constructor(){super("facebook.com")}static credential(t){return Pr._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch(n){return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Vr.PROVIDER_ID="facebook.com";class zr extends Ur{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Pr._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zr.credential(n,r)}catch(i){return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com",zr.PROVIDER_ID="google.com";class Br extends Ur{constructor(){super("github.com")}static credential(t){return Pr._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch(n){return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com",Br.PROVIDER_ID="github.com";class Wr extends Ur{constructor(){super("twitter.com")}static credential(t,e){return Pr._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wr.credential(n,r)}catch(i){return null}}}async function Hr(t,e){return Nn(t,"POST","/v1/accounts:signUp",An(t,e))}Wr.TWITTER_SIGN_IN_METHOD="twitter.com",Wr.PROVIDER_ID="twitter.com";class qr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await $n._fromIdTokenResponse(t,n,r),s=Kr(n);return new qr({user:i,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=Kr(n);return new qr({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function Kr(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Gr extends qt{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Gr.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new Gr(t,e,n,r)}}function Qr(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Gr._fromErrorAndOperation(t,n,e,r);throw n}))}async function $r(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Wn(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qr._forOperation(t,"link",r)}async function Yr(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=t,i="reauthenticate";try{const s=await Wn(t,Qr(r,i,e,t),n);vn(s.idToken,r,"internal-error");const o=Bn(s.idToken);vn(o,r,"internal-error");const{sub:a}=o;return vn(t.uid===a,r,"user-mismatch"),qr._forOperation(t,i,s)}catch(GI){throw(null===GI||void 0===GI?void 0:GI.code)==="auth/".concat("user-not-found")&&dn(r,"user-mismatch"),GI}}async function Xr(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Qr(t,r,e),s=await qr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Jr(t,e){return Xr(vr(t),e)}async function Zr(t){const e=vr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ti(t,e){return ee(t).setPersistence(e)}function ei(t,e,n,r){return ee(t).onAuthStateChanged(e,n,r)}new WeakMap;const ni="__sak";class ri{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ni,"1"),this.storage.removeItem(ni),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class ii extends ri{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=Bt();return ir(t)||ur(t)}()&&function(){try{return!(!window||window===window.top)}catch(GI){return!1}}(),this.fallbackToPolling=dr(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);hr()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,10):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}ii.type="LOCAL";const si=ii;class oi extends ri{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}oi.type="SESSION";const ai=oi;class li{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new li(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async t=>t(e.origin,i))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ci(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}li.receivers=[];class ui{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=ci("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(e.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function hi(){return window}function di(){return"undefined"!==typeof hi().WorkerGlobalScope&&"function"===typeof hi().importScripts}const fi="firebaseLocalStorageDb",pi="firebaseLocalStorage",gi="fbase_key";class mi{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function vi(t,e){return t.transaction([pi],e?"readwrite":"readonly").objectStore(pi)}function yi(){const t=indexedDB.open(fi,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(pi,{keyPath:gi})}catch(GI){n(GI)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(pi)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(fi);return new mi(t).toPromise()}(),e(await yi()))}))}))}async function bi(t,e,n){const r=vi(t,!0).put({[gi]:e,value:n});return new mi(r).toPromise()}function _i(t,e){const n=vi(t,!0).delete(e);return new mi(n).toPromise()}class wi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await yi()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(GI){if(e++>3)throw GI;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return di()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=li._getInstance(di()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new ui(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await yi();return await bi(t,ni,"1"),await _i(t,ni),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>bi(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=vi(t,!1).get(e),r=await new mi(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>_i(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=vi(t,!1).getAll();return new mi(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;if(0!==t.length)for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}wi.type="LOCAL";const xi=wi;wr("rcb"),new Sn(3e4,6e4);const Ei="recaptcha";async function Si(t,e,n){var r;const i=await n.verify();try{let s;if(vn("string"===typeof i,t,"argument-error"),vn(n.type===Ei,t,"argument-error"),s="string"===typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){vn("enroll"===e.type,t,"internal-error");const n=await function(t,e){return Rn(t,"POST","/v2/accounts/mfaEnrollment:start",An(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{vn("signin"===e.type,t,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;vn(n,t,"missing-multi-factor-info");const o=await function(t,e){return Rn(t,"POST","/v2/accounts/mfaSignIn:start",An(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return Rn(t,"POST","/v1/accounts:sendVerificationCode",An(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}class ki{constructor(t){this.providerId=ki.PROVIDER_ID,this.auth=vr(t)}verifyPhoneNumber(t,e){return Si(this.auth,t,ee(e))}static credential(t,e){return Mr._fromVerification(t,e)}static credentialFromResult(t){const e=t;return ki.credentialFromTaggedObject(e)}static credentialFromError(t){return ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Mr._fromTokenResponse(n,r):null}}function Ti(t,e){return e?Xn(e):(vn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}ki.PROVIDER_ID="phone",ki.PHONE_SIGN_IN_METHOD="phone";class Ci extends Ir{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Nr(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Nr(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Nr(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Ii(t){return Xr(t.auth,new Ci(t),t.bypassAuthState)}function Ai(t){const{auth:e,user:n}=t;return vn(n,e,"internal-error"),Yr(n,new Ci(t),t.bypassAuthState)}async function Ri(t){const{auth:e,user:n}=t;return vn(n,e,"internal-error"),$r(n,new Ci(t),t.bypassAuthState)}class Oi{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(GI){this.reject(GI)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(GI){this.reject(GI)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ii;case"linkViaPopup":case"linkViaRedirect":return Ri;case"reauthViaPopup":case"reauthViaRedirect":return Ai;default:dn(this.auth,"internal-error")}}resolve(t){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ni=new Sn(2e3,1e4);class Pi extends Oi{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Pi.currentPopupAction&&Pi.currentPopupAction.cancel(),Pi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vn(t,this.auth,"internal-error"),t}async onExecution(){bn(1===this.filter.length,"Popup operations only handle one event");const t=ci();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(fn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,Ni.get())};t()}}Pi.currentPopupAction=null;const Di="pendingRedirect",Mi=new Map;class Li extends Oi{constructor(t,e){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let t=Mi.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=Ui(e),r=ji(t);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(GI){t=()=>Promise.reject(GI)}Mi.set(this.auth._key(),t)}return this.bypassAuthState||Mi.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Fi(t,e){Mi.set(t._key(),e)}function ji(t){return Xn(t._redirectPersistence)}function Ui(t){return tr(Di,t.config.apiKey,t.name)}async function Vi(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=vr(t),i=Ti(r,e),s=new Li(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}class zi{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wi(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Wi(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(fn(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bi(t))}saveEventToCache(t){this.cachedEventUids.add(Bi(t)),this.lastProcessedEventTime=Date.now()}}function Bi(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function Wi(t){let{type:e,error:n}=t;return"unknown"===e&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Hi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qi=/^https?/;async function Ki(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t){return Rn(t,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(t);for(const r of e)try{if(Gi(r))return}catch(n){}dn(t,"unauthorized-domain")}function Gi(t){const e=_n(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!qi.test(n))return!1;if(Hi.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Qi=new Sn(3e4,6e4);function $i(){const t=hi().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function Yi(t){return new Promise(((e,n)=>{var r,i,s;function o(){$i(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$i(),n(fn(t,"network-request-failed"))},timeout:Qi.get()})}if(null===(i=null===(r=hi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=hi().gapi)||void 0===s?void 0:s.load)){const e=wr("iframefcb");return hi()[e]=()=>{gapi.load?o():n(fn(t,"network-request-failed"))},_r("".concat(br.gapiScript,"?onload=").concat(e)).catch((t=>n(t)))}o()}})).catch((t=>{throw Xi=null,t}))}let Xi=null;const Ji=new Sn(5e3,15e3),Zi="__/auth/iframe",ts="emulator/auth/iframe",es={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ns=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rs(t){const e=t.config;vn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kn(e,ts):"https://".concat(t.config.authDomain,"/").concat(Zi),r={apiKey:e.apiKey,appName:t.name,v:We},i=ns.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Yt(r).slice(1))}async function is(t){const e=await function(t){return Xi=Xi||Yi(t),Xi}(t),n=hi().gapi;return vn(n,t,"internal-error"),e.open({where:document.body,url:rs(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:es,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=fn(t,"network-request-failed"),s=hi().setTimeout((()=>{r(i)}),Ji.get());function o(){hi().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{r(i)}))}))))}const ss={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class os{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(GI){}}}function as(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ss),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Bt().toLowerCase();n&&(a=sr(c)?"_blank":n),rr(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((t,e)=>{let[n,r]=e;return"".concat(t).concat(n,"=").concat(r,",")}),"");if(function(){var t;return ur(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt())&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new os(null);const h=window.open(e||"",a,u);vn(h,t,"popup-blocked");try{h.focus()}catch(GI){}return new os(h)}const ls="__/auth/handler",cs="emulator/auth/handler",us=encodeURIComponent("fac");async function hs(t,e,n,r,i,s){vn(t.config.authDomain,t,"auth-domain-config-required"),vn(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:We,eventId:i};if(e instanceof jr){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof Ur){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await t._getAppCheckToken(),c=l?"#".concat(us,"=").concat(encodeURIComponent(l)):"";return"".concat(function(t){let{config:e}=t;if(!e.emulator)return"https://".concat(e.authDomain,"/").concat(ls);return kn(e,cs)}(t),"?").concat(Yt(a).slice(1)).concat(c)}const ds="webStorageSupport";const fs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ai,this._completeRedirectFn=Vi,this._overrideRedirectResult=Fi}async _openPopup(t,e,n,r){var i;bn(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return as(t,await hs(t,e,n,_n(),r),ci())}async _openRedirect(t,e,n,r){await this._originValidation(t);return function(t){hi().location.href=t}(await hs(t,e,n,_n(),r)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(bn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await is(t),n=new zi(t);return e.register("authEvent",(e=>{vn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ds,{type:ds},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ds];void 0!==i&&e(!!i),dn(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Ki(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return dr()||ir()||ur()}};var ps="@firebase/auth",gs="1.6.1";class ms{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){vn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vs=Ut("authIdTokenMaxAge")||300;let ys=null;function bs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();const e=Ve(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=Ve(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(Qt(n.getOptions(),null!==e&&void 0!==e?e:{}))return t;dn(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:fs,persistence:[xi,si,ai]}),r=Ut("authTokenSyncURL");if(r){const t=(i=r,async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>vs)return;const r=null===e||void 0===e?void 0:e.token;ys!==r&&(ys=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(t,e,n){ee(t).beforeAuthStateChanged(e,n)}(n,t,(()=>t(n.currentUser))),function(t,e,n,r){ee(t).onIdTokenChanged(e,n,r)}(n,(e=>t(e)))}var i;const s=Lt("auth");return s&&kr(n,"http://".concat(s)),n}var _s;!function(t){br=t}({loadJS:t=>new Promise(((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=fn("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),_s="Browser",Ue(new ne("auth",((t,e)=>{let{options:n}=e;const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;vn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:_s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fr(_s)},c=new mr(r,i,s,l);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xn);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null===e||void 0===e?void 0:e.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),Ue(new ne("auth-internal",(t=>(t=>new ms(t))(vr(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(ps,gs,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_s)),Ke(ps,gs,"esm2017");var ws,xs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Es={},Ss=Ss||{},ks=xs||self;function Ts(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Cs(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Is="closure_uid_"+(1e9*Math.random()>>>0),As=0;function Rs(t,e,n){return t.call.apply(t.bind,arguments)}function Os(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ns(t,e,n){return(Ns=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rs:Os).apply(null,arguments)}function Ps(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ds(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Ms(){this.s=this.s,this.o=this.o}Ms.prototype.s=!1,Ms.prototype.sa=function(){var t;!this.s&&(this.s=!0,this.N(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,Is)&&t[Is]||(t[Is]=++As))},Ms.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ls=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fs(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function js(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(Ts(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function Us(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Us.prototype.h=function(){this.defaultPrevented=!0};var Vs=function(){if(!ks.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};ks.addEventListener("test",t,e),ks.removeEventListener("test",t,e)}catch(n){}return t}();function zs(t){return/^[\s\xa0]*$/.test(t)}function Bs(){var t=ks.navigator;return t&&(t=t.userAgent)?t:""}function Ws(t){return-1!=Bs().indexOf(t)}function Hs(t){return Hs[" "](t),t}Hs[" "]=function(){};var qs,Ks,Gs=Ws("Opera"),Qs=Ws("Trident")||Ws("MSIE"),$s=Ws("Edge"),Ys=$s||Qs,Xs=Ws("Gecko")&&!(-1!=Bs().toLowerCase().indexOf("webkit")&&!Ws("Edge"))&&!(Ws("Trident")||Ws("MSIE"))&&!Ws("Edge"),Js=-1!=Bs().toLowerCase().indexOf("webkit")&&!Ws("Edge");function Zs(){var t=ks.document;return t?t.documentMode:void 0}t:{var to="",eo=function(){var t=Bs();return Xs?/rv:([^\);]+)(\)|;)/.exec(t):$s?/Edge\/([\d\.]+)/.exec(t):Qs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Js?/WebKit\/(\S+)/.exec(t):Gs?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(eo&&(to=eo?eo[1]:""),Qs){var no=Zs();if(null!=no&&no>parseFloat(to)){qs=String(no);break t}}qs=to}if(ks.document&&Qs){var ro=Zs();Ks=ro||(parseInt(qs,10)||void 0)}else Ks=void 0;var io=Ks;function so(t,e){if(Us.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Xs){t:{try{Hs(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:oo[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&so.$.h.call(this)}}Ds(so,Us);var oo={2:"touch",3:"pen",4:"mouse"};so.prototype.h=function(){so.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ao="closure_listenable_"+(1e6*Math.random()|0),lo=0;function co(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++lo,this.fa=this.ia=!1}function uo(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ho(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function fo(t){const e={};for(const n in t)e[n]=t[n];return e}const po="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function go(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<po.length;e++)n=po[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mo(t){this.src=t,this.g={},this.h=0}function vo(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=Ls(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(uo(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function yo(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}mo.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=yo(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new co(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var bo="closure_lm_"+(1e6*Math.random()|0),_o={};function wo(t,e,n,r,i){if(r&&r.once)return Eo(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)wo(t,e[s],n,r,i);return null}return n=Ro(n),t&&t[ao]?t.O(e,n,Cs(r)?!!r.capture:!!r,i):xo(t,e,n,!1,r,i)}function xo(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Cs(i)?!!i.capture:!!i,a=Io(t);if(a||(t[bo]=a=new mo(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=Co;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Vs||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(To(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Eo(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Eo(t,e[s],n,r,i);return null}return n=Ro(n),t&&t[ao]?t.P(e,n,Cs(r)?!!r.capture:!!r,i):xo(t,e,n,!0,r,i)}function So(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)So(t,e[s],n,r,i);else r=Cs(r)?!!r.capture:!!r,n=Ro(n),t&&t[ao]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=yo(s=t.g[e],n,r,i))&&(uo(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=Io(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yo(e,n,r,i)),(n=-1<t?e[t]:null)&&ko(n))}function ko(t){if("number"!==typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ao])vo(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(To(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Io(e))?(vo(n,t),0==n.h&&(n.src=null,e[bo]=null)):uo(t)}}}function To(t){return t in _o?_o[t]:_o[t]="on"+t}function Co(t,e){if(t.fa)t=!0;else{e=new so(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ko(t),t=n.call(r,e)}return t}function Io(t){return(t=t[bo])instanceof mo?t:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ro(t){return"function"===typeof t?t:(t[Ao]||(t[Ao]=function(e){return t.handleEvent(e)}),t[Ao])}function Oo(){Ms.call(this),this.i=new mo(this),this.S=this,this.J=null}function No(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"===typeof e)e=new Us(e,t);else if(e instanceof Us)e.target=e.target||t;else{var i=e;go(e=new Us(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Po(o,r,!0,e)&&i}if(i=Po(o=e.g=t,r,!0,e)&&i,i=Po(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Po(o=e.g=n[s],r,!1,e)&&i}function Po(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&vo(t.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ds(Oo,Ms),Oo.prototype[ao]=!0,Oo.prototype.removeEventListener=function(t,e,n,r){So(this,t,e,n,r)},Oo.prototype.N=function(){if(Oo.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)uo(n[r]);delete e.g[t],e.h--}}this.J=null},Oo.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Oo.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Do=ks.JSON.stringify;function Mo(){var t=Bo;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Lo=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Fo),(t=>t.reset()));class Fo{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function jo(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Uo(t){ks.setTimeout((()=>{throw t}),0)}let Vo,zo=!1,Bo=new class{constructor(){this.h=this.g=null}add(t,e){const n=Lo.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},Wo=()=>{const t=ks.Promise.resolve(void 0);Vo=()=>{t.then(Ho)}};var Ho=()=>{for(var t;t=Mo();){try{t.h.call(t.g)}catch(n){Uo(n)}var e=Lo;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}zo=!1};function qo(t,e){Oo.call(this),this.h=t||1,this.g=e||ks,this.j=Ns(this.qb,this),this.l=Date.now()}function Ko(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Go(t,e,n){if("function"===typeof t)n&&(t=Ns(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ns(t.handleEvent,t)}return 2147483647<Number(e)?-1:ks.setTimeout(t,e||0)}function Qo(t){t.g=Go((()=>{t.g=null,t.i&&(t.i=!1,Qo(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ds(qo,Oo),(ws=qo.prototype).ga=!1,ws.T=null,ws.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),No(this,"tick"),this.ga&&(Ko(this),this.start()))}},ws.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ws.N=function(){qo.$.N.call(this),Ko(this),delete this.g};class $o extends Ms{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Qo(this)}N(){super.N(),this.g&&(ks.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yo(t){Ms.call(this),this.h=t,this.g={}}Ds(Yo,Ms);var Xo=[];function Jo(t,e,n,r){Array.isArray(n)||(n&&(Xo[0]=n.toString()),n=Xo);for(var i=0;i<n.length;i++){var s=wo(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Zo(t){ho(t.g,(function(t,e){this.g.hasOwnProperty(e)&&ko(t)}),t),t.g={}}function ta(){this.g=!0}function ea(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Do(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Yo.prototype.N=function(){Yo.$.N.call(this),Zo(this)},Yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ta.prototype.Ea=function(){this.g=!1},ta.prototype.info=function(){};var na={},ra=null;function ia(){return ra=ra||new Oo}function sa(t){Us.call(this,na.Ta,t)}function oa(t){const e=ia();No(e,new sa(e))}function aa(t,e){Us.call(this,na.STAT_EVENT,t),this.stat=e}function la(t){const e=ia();No(e,new aa(e,t))}function ca(t,e){Us.call(this,na.Ua,t),this.size=e}function ua(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return ks.setTimeout((function(){t()}),e)}na.Ta="serverreachability",Ds(sa,Us),na.STAT_EVENT="statevent",Ds(aa,Us),na.Ua="timingevent",Ds(ca,Us);var ha={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},da={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fa(){}function pa(t){return t.h||(t.h=t.i())}function ga(){}fa.prototype.h=null;var ma,va={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ya(){Us.call(this,"d")}function ba(){Us.call(this,"c")}function _a(){}function wa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Yo(this),this.P=Ea,t=Ys?125:void 0,this.V=new qo(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xa}function xa(){this.i=null,this.g="",this.h=!1}Ds(ya,Us),Ds(ba,Us),Ds(_a,fa),_a.prototype.g=function(){return new XMLHttpRequest},_a.prototype.i=function(){return{}},ma=new _a;var Ea=45e3,Sa={},ka={};function Ta(t,e,n){t.L=1,t.A=qa(Va(e)),t.u=n,t.S=!0,Ca(t,null)}function Ca(t,e){t.G=Date.now(),Oa(t),t.B=Va(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),il(n.i,"t",r),t.o=0,n=t.l.J,t.h=new xa,t.g=sc(t.l,n?e:null,!t.u),0<t.O&&(t.M=new $o(Ns(t.Pa,t,t.g),t.O)),Jo(t.U,t.g,"readystatechange",t.nb),e=t.I?fo(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),oa(),function(t,e,n,r,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.v,t.B,t.m,t.W,t.u)}function Ia(t){return!!t.g&&("GET"==t.v&&2!=t.L&&t.l.Ha)}function Aa(t,e,n){let r,i=!0;for(;!t.J&&t.o<n.length;){if(r=Ra(t,n),r==ka){4==e&&(t.s=4,la(14),i=!1),ea(t.j,t.m,null,"[Incomplete Response]");break}if(r==Sa){t.s=4,la(15),ea(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}ea(t.j,t.m,r,null),La(t,r)}Ia(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,la(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xl(e),e.M=!0,la(11))):(ea(t.j,t.m,n,"[Invalid Chunked Response]"),Ma(t),Da(t))}function Ra(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?ka:(n=Number(e.substring(n,r)),isNaN(n)?Sa:(r+=1)+n>e.length?ka:(e=e.slice(r,r+n),t.o=r+n,e))}function Oa(t){t.Y=Date.now()+t.P,Na(t,t.P)}function Na(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=ua(Ns(t.lb,t),e)}function Pa(t){t.C&&(ks.clearTimeout(t.C),t.C=null)}function Da(t){0==t.l.H||t.J||tc(t.l,t)}function Ma(t){Pa(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Ko(t.V),Zo(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function La(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||hl(n.i,t)))if(!t.K&&hl(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;Zl(n),Wl(n)}Yl(n),la(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ua(Ns(n.ib,n),6e3));if(1>=ul(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else nc(n,11)}else if((t.K||n.g==t)&&Zl(n),!zs(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const e=c[3];null!=e&&(n.ra=e,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.i;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(dl(s,s.h),s.h=null))}if(r.F){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.Da=t,Ha(r.I,r.F,t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=ic(r,r.J?r.pa:null,r.Y),o.K){fl(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Pa(a),Oa(a)),r.g=o}else $l(r);0<n.j.length&&ql(n)}else"stop"!=c[0]&&"close"!=c[0]||nc(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?nc(n,7):Bl(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}oa()}catch(c){}}function Fa(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ts(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(Ts(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(Ts(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(ws=wa.prototype).setTimeout=function(t){this.P=t},ws.nb=function(t){t=t.target;const e=this.M;e&&3==Ll(t)?e.l():this.Pa(t)},ws.Pa=function(t){try{if(t==this.g)t:{const u=Ll(this.g);var e=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Ys||this.g&&(this.h.h||this.g.ja()||Fl(this.g)))){this.J||4!=u||7==e||oa(),Pa(this);var n=this.g.da();this.ca=n;e:if(Ia(this)){var r=Fl(this.g);t="";var i=r.length,s=4==Ll(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ma(this),Da(this);var o="";break e}this.h.i=new ks.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zs(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.s=3,la(12),Ma(this),Da(this);break t}ea(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,n)}this.S?(Aa(this,u,o),Ys&&this.i&&3==u&&(Jo(this.U,this.V,"tick",this.mb),this.V.start())):(ea(this.j,this.m,o,null),La(this,o)),4==u&&Ma(this),this.i&&!this.J&&(4==u?tc(this.l,this):(this.i=!1,Oa(this)))}else(function(t){const e={};t=(t.g&&2<=Ll(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(zs(t[r]))continue;var n=jo(t[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,la(12)):(this.s=0,la(13)),Ma(this),Da(this)}}}catch(u){}},ws.mb=function(){if(this.g){var t=Ll(this.g),e=this.g.ja();this.o<e.length&&(Pa(this),Aa(this,t,e),this.i&&4!=t&&Oa(this))}},ws.cancel=function(){this.J=!0,Ma(this)},ws.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.B),2!=this.L&&(oa(),la(17)),Ma(this),this.s=2,Da(this)):Na(this,this.Y-t)};var ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ua){this.h=t.h,za(this,t.j),this.s=t.s,this.g=t.g,Ba(this,t.m),this.l=t.l;var e=t.i,n=new tl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Wa(this,n),this.o=t.o}else t&&(e=String(t).match(ja))?(this.h=!1,za(this,e[1]||"",!0),this.s=Ka(e[2]||""),this.g=Ka(e[3]||"",!0),Ba(this,e[4]),this.l=Ka(e[5]||"",!0),Wa(this,e[6]||"",!0),this.o=Ka(e[7]||"")):(this.h=!1,this.i=new tl(null,this.h))}function Va(t){return new Ua(t)}function za(t,e,n){t.j=n?Ka(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ba(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Wa(t,e,n){e instanceof tl?(t.i=e,function(t,e){e&&!t.j&&(el(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(nl(this,e),il(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=Ga(e,Ja)),t.i=new tl(e,t.h))}function Ha(t,e,n){t.i.set(e,n)}function qa(t){return Ha(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ka(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ga(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Qa),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qa(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ua.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ga(e,$a,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ga(e,$a,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ga(n,"/"==n.charAt(0)?Xa:Ya,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ga(n,Za)),t.join("")};var $a=/[#\/\?@]/g,Ya=/[#\?:]/g,Xa=/[#\?]/g,Ja=/[#\?@]/g,Za=/#/g;function tl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function el(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function nl(t,e){el(t),e=sl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rl(t,e){return el(t),e=sl(t,e),t.g.has(e)}function il(t,e,n){nl(t,e),0<n.length&&(t.i=null,t.g.set(sl(t,e),Fs(n)),t.h+=n.length)}function sl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(ws=tl.prototype).add=function(t,e){el(this),this.i=null,t=sl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},ws.forEach=function(t,e){el(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},ws.ta=function(){el(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},ws.Z=function(t){el(this);let e=[];if("string"===typeof t)rl(this,t)&&(e=e.concat(this.g.get(sl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},ws.set=function(t,e){return el(this),this.i=null,rl(this,t=sl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ws.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},ws.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var ol=class{constructor(t,e){this.g=t,this.map=e}};function al(t){this.l=t||ll,ks.PerformanceNavigationTiming?t=0<(t=ks.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(ks.g&&ks.g.Ka&&ks.g.Ka()&&ks.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ll=10;function cl(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ul(t){return t.h?1:t.g?t.g.size:0}function hl(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function dl(t,e){t.g?t.g.add(e):t.h=e}function fl(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function pl(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Fs(t.i)}al.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var gl,ml=class{stringify(t){return ks.JSON.stringify(t,void 0)}parse(t){return ks.JSON.parse(t,void 0)}};function vl(){this.g=new ml}function yl(t,e,n){const r=n||"";try{Fa(t,(function(t,n){let i=t;Cs(t)&&(i=Do(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(GI){throw e.push(r+"type="+encodeURIComponent("_badmap")),GI}}function bl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function _l(t){this.l=t.ec||null,this.j=t.ob||!1}function wl(t,e){Oo.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=xl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ds(_l,fa),_l.prototype.g=function(){return new wl(this.l,this.j)},_l.prototype.i=(gl={},function(){return gl}),Ds(wl,Oo);var xl=0;function El(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Sl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kl(t)}function kl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ws=wl.prototype).open=function(t,e){if(this.readyState!=xl)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kl(this)},ws.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ks).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ws.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sl(this)),this.readyState=xl},ws.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kl(this)),this.g&&(this.readyState=3,kl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ks.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;El(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},ws.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sl(this):kl(this),3==this.readyState&&El(this)}},ws.Za=function(t){this.g&&(this.response=this.responseText=t,Sl(this))},ws.Ya=function(t){this.g&&(this.response=t,Sl(this))},ws.ka=function(){this.g&&Sl(this)},ws.setRequestHeader=function(t,e){this.v.append(t,e)},ws.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ws.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(wl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Tl=ks.JSON.parse;function Cl(t){Oo.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Il,this.L=this.M=!1}Ds(Cl,Oo);var Il="",Al=/^https?$/i,Rl=["POST","PUT"];function Ol(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Nl(t),Dl(t)}function Nl(t){t.F||(t.F=!0,No(t,"complete"),No(t,"error"))}function Pl(t){if(t.h&&"undefined"!=typeof Ss&&(!t.C[1]||4!=Ll(t)||2!=t.da()))if(t.v&&4==Ll(t))Go(t.La,0,t);else if(No(t,"readystatechange"),4==Ll(t)){t.h=!1;try{const a=t.da();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(ja)[1]||null;!i&&ks.self&&ks.self.location&&(i=ks.self.location.protocol.slice(0,-1)),r=!Al.test(i?i.toLowerCase():"")}n=r}if(n)No(t,"complete"),No(t,"success");else{t.m=6;try{var s=2<Ll(t)?t.g.statusText:""}catch(o){s=""}t.j=s+" ["+t.da()+"]",Nl(t)}}finally{Dl(t)}}}function Dl(t,e){if(t.g){Ml(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||No(t,"ready");try{n.onreadystatechange=r}catch(GI){}}}function Ml(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ks.clearTimeout(t.A),t.A=null)}function Ll(t){return t.g?t.g.readyState:0}function Fl(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Il:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Hc){return null}}function jl(t){let e="";return ho(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Ul(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=jl(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Ha(t,e,n))}function Vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zl(t){this.Ga=0,this.j=[],this.l=new ta,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vl("baseRetryDelayMs",5e3,t),this.hb=Vl("retryDelaySeedMs",1e4,t),this.eb=Vl("forwardChannelMaxRetries",2,t),this.xa=Vl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new al(t&&t.concurrentRequestLimit),this.Ja=new vl,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Bl(t){if(Hl(t),3==t.H){var e=t.W++,n=Va(t.I);if(Ha(n,"SID",t.K),Ha(n,"RID",e),Ha(n,"TYPE","terminate"),Gl(t,n),(e=new wa(t,t.l,e)).L=2,e.A=qa(Va(n)),n=!1,ks.navigator&&ks.navigator.sendBeacon)try{n=ks.navigator.sendBeacon(e.A.toString(),"")}catch(r){}!n&&ks.Image&&((new Image).src=e.A,n=!0),n||(e.g=sc(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Oa(e)}rc(t)}function Wl(t){t.g&&(Xl(t),t.g.cancel(),t.g=null)}function Hl(t){Wl(t),t.u&&(ks.clearTimeout(t.u),t.u=null),Zl(t),t.i.cancel(),t.m&&("number"===typeof t.m&&ks.clearTimeout(t.m),t.m=null)}function ql(t){if(!cl(t.i)&&!t.m){t.m=!0;var e=t.Na;Vo||Wo(),zo||(Vo(),zo=!0),Bo.add(e,t),t.C=0}}function Kl(t,e){var n;n=e?e.m:t.W++;const r=Va(t.I);Ha(r,"SID",t.K),Ha(r,"RID",n),Ha(r,"AID",t.V),Gl(t,r),t.o&&t.s&&Ul(r,t.o,t.s),n=new wa(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Ql(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),dl(t.i,n),Ta(n,r,e)}function Gl(t,e){t.na&&ho(t.na,(function(t,n){Ha(e,n,t)})),t.h&&Fa({},(function(t,n){Ha(e,n,t)}))}function Ql(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ns(t.h.Va,t.h,t):null;t:{var i=t.j;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=e,0>n)e=Math.max(0,i[a].g-100),o=!1;else try{yl(l,t,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=t.join("&");break t}}}return t=t.j.splice(0,n),e.F=t,r}function $l(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Vo||Wo(),zo||(Vo(),zo=!0),Bo.add(e,t),t.A=0}}function Yl(t){return!(t.g||t.u||3<=t.A)&&(t.ba++,t.u=ua(Ns(t.Ma,t),ec(t,t.A)),t.A++,!0)}function Xl(t){null!=t.B&&(ks.clearTimeout(t.B),t.B=null)}function Jl(t){t.g=new wa(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Va(t.wa);Ha(e,"RID","rpc"),Ha(e,"SID",t.K),Ha(e,"AID",t.V),Ha(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ha(e,"TO",t.qa),Ha(e,"TYPE","xmlhttp"),Gl(t,e),t.o&&t.s&&Ul(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=qa(Va(e)),n.u=null,n.S=!0,Ca(n,t)}function Zl(t){null!=t.v&&(ks.clearTimeout(t.v),t.v=null)}function tc(t,e){var n=null;if(t.g==e){Zl(t),Xl(t),t.g=null;var r=2}else{if(!hl(t.i,e))return;n=e.F,fl(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;No(r=ia(),new ca(r,n)),ql(t)}else $l(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function(t,e){return!(ul(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.j=e.F.concat(t.j),!0):!(1==t.H||2==t.H||t.C>=(t.cb?0:t.eb))&&(t.m=ua(Ns(t.Na,t,e),ec(t,t.C)),t.C++,!0))}(t,e)||2==r&&Yl(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:nc(t,5);break;case 4:nc(t,10);break;case 3:nc(t,6);break;default:nc(t,2)}}function ec(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function nc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ns(t.pb,t);n||(n=new Ua("//www.google.com/images/cleardot.gif"),ks.location&&"http"==ks.location.protocol||za(n,"https"),qa(n)),function(t,e){const n=new ta;if(ks.Image){const r=new Image;r.onload=Ps(bl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ps(bl,n,r,"TestLoadImage: error",!1,e),r.onabort=Ps(bl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ps(bl,n,r,"TestLoadImage: timeout",!1,e),ks.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else la(2);t.H=0,t.h&&t.h.za(e),rc(t),Hl(t)}function rc(t){if(t.H=0,t.ma=[],t.h){const e=pl(t.i);0==e.length&&0==t.j.length||(js(t.ma,e),js(t.ma,t.j),t.i.i.length=0,Fs(t.j),t.j.length=0),t.h.ya()}}function ic(t,e,n){var r=n instanceof Ua?Va(n):new Ua(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Ba(r,r.m);else{var i=ks.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ua(null);r&&za(s,r),e&&(s.g=e),i&&Ba(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ha(r,n,e),Ha(r,"VER",t.ra),Gl(t,r),r}function sc(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ha&&!t.va?new Cl(new _l({ob:n})):new Cl(t.va)).Oa(t.J),e}function oc(){}function ac(){if(Qs&&!(10<=Number(io)))throw Error("Environmental error: no available transport.")}function lc(t,e){Oo.call(this),this.g=new zl(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zs(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new hc(this)}function cc(t){ya.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function uc(){ba.call(this),this.status=1}function hc(t){this.g=t}function dc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function fc(t,e,n){n||(n=0);var r=Array(16);if("string"===typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function pc(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(ws=Cl.prototype).Oa=function(t){this.M=t},ws.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ma.g(),this.C=this.u?pa(this.u):pa(ma),this.g.onreadystatechange=Ns(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void Ol(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),i=ks.FormData&&t instanceof ks.FormData,!(0<=Ls(Rl,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ml(this),0<this.B&&((this.L=function(t){return Qs&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ns(this.ua,this)):this.A=Go(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Ol(this,s)}},ws.ua=function(){"undefined"!=typeof Ss&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,No(this,"timeout"),this.abort(8))},ws.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,No(this,"complete"),No(this,"abort"),Dl(this))},ws.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dl(this,!0)),Cl.$.N.call(this)},ws.La=function(){this.s||(this.G||this.v||this.l?Pl(this):this.kb())},ws.kb=function(){Pl(this)},ws.isActive=function(){return!!this.g},ws.da=function(){try{return 2<Ll(this)?this.g.status:-1}catch(gl){return-1}},ws.ja=function(){try{return this.g?this.g.responseText:""}catch(gl){return""}},ws.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Tl(e)}},ws.Ia=function(){return this.m},ws.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ws=zl.prototype).ra=8,ws.H=1,ws.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new wa(this,this.l,t);let s=this.s;if(this.U&&(s?(s=fo(s),go(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)t:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.j.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Ql(this,i,e),Ha(n=Va(this.I),"RID",t),Ha(n,"CVER",22),this.F&&Ha(n,"X-HTTP-Session-Id",this.F),Gl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(jl(s)))+"&"+e:this.o&&Ul(n,this.o,s)),dl(this.i,i),this.bb&&Ha(n,"TYPE","init"),this.P?(Ha(n,"$req",e),Ha(n,"SID","null"),i.aa=!0,Ta(i,n,null)):Ta(i,n,e),this.H=2}}else 3==this.H&&(t?Kl(this,t):0==this.j.length||cl(this.i)||Kl(this))},ws.Ma=function(){if(this.u=null,Jl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ua(Ns(this.jb,this),t)}},ws.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,la(10),Wl(this),Jl(this))},ws.ib=function(){null!=this.v&&(this.v=null,Wl(this),Yl(this),la(19))},ws.pb=function(t){t?(this.l.info("Successfully pinged google.com"),la(2)):(this.l.info("Failed to ping google.com"),la(1))},ws.isActive=function(){return!!this.h&&this.h.isActive(this)},(ws=oc.prototype).Ba=function(){},ws.Aa=function(){},ws.za=function(){},ws.ya=function(){},ws.isActive=function(){return!0},ws.Va=function(){},ac.prototype.g=function(t,e){return new lc(t,e)},Ds(lc,Oo),lc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;la(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ic(t,null,t.Y),ql(t)},lc.prototype.close=function(){Bl(this.g)},lc.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Do(t),t=n);e.j.push(new ol(e.fb++,t)),3==e.H&&ql(e)},lc.prototype.N=function(){this.g.h=null,delete this.j,Bl(this.g),delete this.g,lc.$.N.call(this)},Ds(cc,ya),Ds(uc,ba),Ds(hc,oc),hc.prototype.Ba=function(){No(this.g,"a")},hc.prototype.Aa=function(t){No(this.g,new cc(t))},hc.prototype.za=function(t){No(this.g,new uc)},hc.prototype.ya=function(){No(this.g,"b")},Ds(dc,(function(){this.blockSize=-1})),dc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},dc.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)fc(this,t,s),s+=this.blockSize;if("string"===typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){fc(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){fc(this,r),i=0;break}}this.h=i,this.i+=e},dc.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var gc={};function mc(t){return-128<=t&&128>t?function(t,e){var n=gc;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new pc([0|t],0>t?-1:0)})):new pc([0|t],0>t?-1:0)}function vc(t){if(isNaN(t)||!isFinite(t))return bc;if(0>t)return Sc(vc(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=yc;return new pc(e,0)}var yc=4294967296,bc=mc(0),_c=mc(1),wc=mc(16777216);function xc(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ec(t){return-1==t.h}function Sc(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new pc(n,~t.h).add(_c)}function kc(t,e){return t.add(Sc(e))}function Tc(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Cc(t,e){this.g=t,this.h=e}function Ic(t,e){if(xc(e))throw Error("division by zero");if(xc(t))return new Cc(bc,bc);if(Ec(t))return e=Ic(Sc(t),e),new Cc(Sc(e.g),Sc(e.h));if(Ec(e))return e=Ic(t,Sc(e)),new Cc(Sc(e.g),e.h);if(30<t.g.length){if(Ec(t)||Ec(e))throw Error("slowDivide_ only works with positive integers.");for(var n=_c,r=e;0>=r.X(t);)n=Ac(n),r=Ac(r);var i=Rc(n,1),s=Rc(r,1);for(r=Rc(r,2),n=Rc(n,2);!xc(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Rc(r,1),n=Rc(n,1)}return e=kc(t,i.R(e)),new Cc(i,e)}for(i=bc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=vc(n)).R(e);Ec(o)||0<o.X(t);)o=(s=vc(n-=r)).R(e);xc(s)&&(s=_c),i=i.add(s),t=kc(t,o)}return new Cc(i,t)}function Ac(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new pc(n,t.h)}function Rc(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new pc(i,t.h)}(ws=pc.prototype).ea=function(){if(Ec(this))return-Sc(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:yc+r)*e,e*=yc}return t},ws.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(xc(this))return"0";if(Ec(this))return"-"+Sc(this).toString(t);for(var e=vc(Math.pow(t,6)),n=this,r="";;){var i=Ic(n,e).g,s=((0<(n=kc(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(xc(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},ws.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},ws.X=function(t){return Ec(t=kc(this,t))?-1:xc(t)?0:1},ws.abs=function(){return Ec(this)?Sc(this):this},ws.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new pc(n,-2147483648&n[n.length-1]?-1:0)},ws.R=function(t){if(xc(this)||xc(t))return bc;if(Ec(this))return Ec(t)?Sc(this).R(Sc(t)):Sc(Sc(this).R(t));if(Ec(t))return Sc(this.R(Sc(t)));if(0>this.X(wc)&&0>t.X(wc))return vc(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,l=65535&t.D(i);n[2*r+2*i]+=o*l,Tc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Tc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Tc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Tc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new pc(n,0)},ws.gb=function(t){return Ic(this,t).h},ws.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new pc(n,this.h&t.h)},ws.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new pc(n,this.h|t.h)},ws.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new pc(n,this.h^t.h)},ac.prototype.createWebChannel=ac.prototype.g,lc.prototype.send=lc.prototype.u,lc.prototype.open=lc.prototype.m,lc.prototype.close=lc.prototype.close,ha.NO_ERROR=0,ha.TIMEOUT=8,ha.HTTP_ERROR=6,da.COMPLETE="complete",ga.EventType=va,va.OPEN="a",va.CLOSE="b",va.ERROR="c",va.MESSAGE="d",Oo.prototype.listen=Oo.prototype.O,Cl.prototype.listenOnce=Cl.prototype.P,Cl.prototype.getLastError=Cl.prototype.Sa,Cl.prototype.getLastErrorCode=Cl.prototype.Ia,Cl.prototype.getStatus=Cl.prototype.da,Cl.prototype.getResponseJson=Cl.prototype.Wa,Cl.prototype.getResponseText=Cl.prototype.ja,Cl.prototype.send=Cl.prototype.ha,Cl.prototype.setWithCredentials=Cl.prototype.Oa,dc.prototype.digest=dc.prototype.l,dc.prototype.reset=dc.prototype.reset,dc.prototype.update=dc.prototype.j,pc.prototype.add=pc.prototype.add,pc.prototype.multiply=pc.prototype.R,pc.prototype.modulo=pc.prototype.gb,pc.prototype.compare=pc.prototype.X,pc.prototype.toNumber=pc.prototype.ea,pc.prototype.toString=pc.prototype.toString,pc.prototype.getBits=pc.prototype.D,pc.fromNumber=vc,pc.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return Sc(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=vc(Math.pow(n,8)),i=bc,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),a=parseInt(e.substring(s,s+o),n);8>o?(o=vc(Math.pow(n,o)),i=i.R(o).add(vc(a))):i=(i=i.R(r)).add(vc(a))}return i};var Oc=Es.createWebChannelTransport=function(){return new ac},Nc=Es.getStatEventTarget=function(){return ia()},Pc=Es.ErrorCode=ha,Dc=Es.EventType=da,Mc=Es.Event=na,Lc=Es.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fc=(Es.FetchXmlHttpFactory=_l,Es.WebChannel=ga),jc=Es.XhrIo=Cl,Uc=Es.Md5=dc,Vc=Es.Integer=pc;const zc="@firebase/firestore";class Bc{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bc.UNAUTHENTICATED=new Bc(null),Bc.GOOGLE_CREDENTIALS=new Bc("google-credentials-uid"),Bc.FIRST_PARTY=new Bc("first-party-uid"),Bc.MOCK_USER=new Bc("mock-user");let Wc="10.8.1";const Hc=new de("@firebase/firestore");function qc(){return Hc.logLevel}function Kc(t){if(Hc.logLevel<=ae.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map($c);Hc.debug("Firestore (".concat(Wc,"): ").concat(t),...i)}}function Gc(t){if(Hc.logLevel<=ae.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map($c);Hc.error("Firestore (".concat(Wc,"): ").concat(t),...i)}}function Qc(t){if(Hc.logLevel<=ae.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map($c);Hc.warn("Firestore (".concat(Wc,"): ").concat(t),...i)}}function $c(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function Yc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const e="FIRESTORE (".concat(Wc,") INTERNAL ASSERTION FAILED: ")+t;throw Gc(e),new Error(e)}function Xc(t,e){t||Yc()}function Jc(t,e){return t}const Zc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tu extends qt{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class eu{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class nu{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class ru{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Bc.UNAUTHENTICATED)))}shutdown(){}}class iu{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class su{constructor(t){this.t=t,this.currentUser=Bc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new eu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new eu,t.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},o=t=>{Kc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Kc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new eu)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Kc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Xc("string"==typeof e.accessToken),new nu(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Xc(null===t||"string"==typeof t),new Bc(t)}}class ou{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Bc.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class au{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new ou(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(Bc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lu{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cu{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const n=t=>{null!=t.error&&Kc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.R;return this.R=t.token,Kc("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{Kc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):Kc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Xc("string"==typeof t.token),this.R=t.token,new lu(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function uu(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class hu{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=uu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%62))}return n}}function du(t,e){return t<e?-1:t>e?1:0}function fu(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class pu{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new tu(Zc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new tu(Zc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new tu(Zc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tu(Zc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return pu.fromMillis(Date.now())}static fromDate(t){return pu.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new pu(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?du(this.nanoseconds,t.nanoseconds):du(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gu{constructor(t){this.timestamp=t}static fromTimestamp(t){return new gu(t)}static min(){return new gu(new pu(0,0))}static max(){return new gu(new pu(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mu{constructor(t,e,n){void 0===e?e=0:e>t.length&&Yc(),void 0===n?n=t.length-e:n>t.length-e&&Yc(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===mu.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof mu?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class vu extends mu{construct(t,e,n){return new vu(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new tu(Zc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));t.push(...i.split("/").filter((t=>t.length>0)))}return new vu(t)}static emptyPath(){return new vu([])}}const yu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bu extends mu{construct(t,e,n){return new bu(t,e,n)}static isValidIdentifier(t){return yu.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bu.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bu(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new tu(Zc.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new tu(Zc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new tu(Zc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new tu(Zc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new bu(e)}static emptyPath(){return new bu([])}}class _u{constructor(t){this.path=t}static fromPath(t){return new _u(vu.fromString(t))}static fromName(t){return new _u(vu.fromString(t).popFirst(5))}static empty(){return new _u(vu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===vu.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return vu.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _u(new vu(t.slice()))}}class wu{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}wu.UNKNOWN_ID=-1;function xu(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=gu.fromTimestamp(1e9===r?new pu(n+1,0):new pu(n,r));return new Su(i,_u.empty(),e)}function Eu(t){return new Su(t.readTime,t.key,-1)}class Su{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Su(gu.min(),_u.empty(),-1)}static max(){return new Su(gu.max(),_u.empty(),-1)}}function ku(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=_u.comparator(t.documentKey,e.documentKey),0!==n?n:du(t.largestBatchId,e.largestBatchId))}const Tu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Iu(t){if(t.code!==Zc.FAILED_PRECONDITION||t.message!==Tu)throw t;Kc("LocalStore","Unexpectedly lost primary lease")}class Au{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Yc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Au(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Au?e:Au.resolve(e)}catch(t){return Au.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Au.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Au.reject(e)}static resolve(t){return new Au(((e,n)=>{e(t)}))}static reject(t){return new Au(((e,n)=>{n(t)}))}static waitFor(t){return new Au(((e,n)=>{let r=0,i=0,s=!1;t.forEach((t=>{++r,t.next((()=>{++i,s&&i===r&&e()}),(t=>n(t)))})),s=!0,i===r&&e()}))}static or(t){let e=Au.resolve(!1);for(const n of t)e=e.next((t=>t?Au.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new Au(((n,r)=>{const i=t.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;e(t[l]).next((t=>{s[l]=t,++o,o===i&&n(s)}),(t=>r(t)))}}))}static doWhile(t,e){return new Au(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}class Ru{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new eu,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Pu(t,e.error)):this.V.resolve()},this.transaction.onerror=e=>{const n=ju(e.target.error);this.V.reject(new Pu(t,n))}}static open(t,e,n,r){try{return new Ru(e,t.transaction(r,n))}catch(t){throw new Pu(e,t)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Kc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Mu(e)}}class Ou{constructor(t,e,n){this.name=t,this.version=e,this.p=n,12.2===Ou.S(Bt())&&Gc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Kc("SimpleDb","Removing database:",t),Lu(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!Ht())return!1;if(Ou.C())return!0;const t=Bt(),e=Ou.S(t),n=0<e&&e<10,r=Ou.v(t),i=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||i)}static C(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(t){return this.db||(Kc("SimpleDb","Opening database:",this.name),this.db=await new Promise(((e,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=t=>{const n=t.target.result;e(n)},r.onblocked=()=>{n(new Pu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=e=>{const r=e.target.error;"VersionError"===r.name?n(new tu(Zc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new tu(Zc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Pu(t,r))},r.onupgradeneeded=t=>{Kc("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);const e=t.target.result;this.p.N(e,r.transaction,t.oldVersion,this.version).next((()=>{Kc("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=t=>this.B(t)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,n,r){const i="readonly"===e;let s=0;for(;;){++s;try{this.db=await this.O(t);const e=Ru.open(this.db,t,i?"readonly":"readwrite",n),s=r(e).next((t=>(e.g(),t))).catch((t=>(e.abort(t),Au.reject(t)))).toPromise();return s.catch((()=>{})),await e.m,s}catch(t){const e=t,n="FirebaseError"!==e.name&&s<3;if(Kc("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),this.close(),!n)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Nu{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Lu(this.k.delete())}}class Pu extends tu{constructor(t,e){super(Zc.UNAVAILABLE,"IndexedDB transaction '".concat(t,"' failed: ").concat(e)),this.name="IndexedDbTransactionError"}}function Du(t){return"IndexedDbTransactionError"===t.name}class Mu{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(Kc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Kc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Lu(n)}add(t){return Kc("SimpleDb","ADD",this.store.name,t,t),Lu(this.store.add(t))}get(t){return Lu(this.store.get(t)).next((e=>(void 0===e&&(e=null),Kc("SimpleDb","GET",this.store.name,t,e),e)))}delete(t){return Kc("SimpleDb","DELETE",this.store.name,t),Lu(this.store.delete(t))}count(){return Kc("SimpleDb","COUNT",this.store.name),Lu(this.store.count())}W(t,e){const n=this.options(t,e),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const t=r.getAll(n.range);return new Au(((e,n)=>{t.onerror=t=>{n(t.target.error)},t.onsuccess=t=>{e(t.target.result)}}))}{const t=this.cursor(n),e=[];return this.G(t,((t,n)=>{e.push(n)})).next((()=>e))}}j(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new Au(((t,e)=>{n.onerror=t=>{e(t.target.error)},n.onsuccess=e=>{t(e.target.result)}}))}H(t,e){Kc("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.J=!1;const r=this.cursor(n);return this.G(r,((t,e,n)=>n.delete()))}Y(t,e){let n;e?n=t:(n={},e=t);const r=this.cursor(n);return this.G(r,e)}Z(t){const e=this.cursor({});return new Au(((n,r)=>{e.onerror=t=>{const e=ju(t.target.error);r(e)},e.onsuccess=e=>{const r=e.target.result;r?t(r.primaryKey,r.value).next((t=>{t?r.continue():n()})):n()}}))}G(t,e){const n=[];return new Au(((r,i)=>{t.onerror=t=>{i(t.target.error)},t.onsuccess=t=>{const i=t.target.result;if(!i)return void r();const s=new Nu(i),o=e(i.primaryKey,i.value,s);if(o instanceof Au){const t=o.catch((t=>(s.done(),Au.reject(t))));n.push(t)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Au.waitFor(n)))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.J?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Lu(t){return new Au(((e,n)=>{t.onsuccess=t=>{const n=t.target.result;e(n)},t.onerror=t=>{const e=ju(t.target.error);n(e)}}))}let Fu=!1;function ju(t){const e=Ou.S(Bt());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new tu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(e,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Fu||(Fu=!0,setTimeout((()=>{throw t}),0)),t}}return t}class Uu{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.se(t),this.oe=t=>e.writeSequenceNumber(t))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}function Vu(t){return null==t}function zu(t){return 0===t&&1/t==-1/0}function Bu(t){return"number"==typeof t&&Number.isInteger(t)&&!zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}Uu._e=-1;const Wu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qu=Hu;function Ku(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class $u{constructor(t,e){this.comparator=t,this.root=e||Xu.EMPTY}insert(t,e){return new $u(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xu.BLACK,null,null))}remove(t){return new $u(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xu.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push("".concat(e,":").concat(n)),!1))),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yu(this.root,t,this.comparator,!0)}}class Yu{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xu{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Xu.RED,this.left=null!=r?r:Xu.EMPTY,this.right=null!=i?i:Xu.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new Xu(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xu.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Xu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xu.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Yc();if(this.right.isRed())throw Yc();const t=this.left.check();if(t!==this.right.check())throw Yc();return t+(this.isRed()?0:1)}}Xu.EMPTY=null,Xu.RED=!0,Xu.BLACK=!1,Xu.EMPTY=new class{constructor(){this.size=0}get key(){throw Yc()}get value(){throw Yc()}get color(){throw Yc()}get left(){throw Yc()}get right(){throw Yc()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Xu(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ju{constructor(t){this.comparator=t,this.data=new $u(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Zu(this.data.getIterator())}getIteratorFrom(t){return new Zu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Ju))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ju(this.comparator);return e.data=t,e}}class Zu{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class th{constructor(t){this.fields=t,t.sort(bu.comparator)}static empty(){return new th([])}unionWith(t){let e=new Ju(bu.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new th(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return fu(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class eh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nh{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new eh("Invalid base64 string: "+t):t}}(t);return new nh(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new nh(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return du(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nh.EMPTY_BYTE_STRING=new nh("");const rh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ih(t){if(Xc(!!t),"string"==typeof t){let e=0;const n=rh.exec(t);if(Xc(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sh(t.seconds),nanos:sh(t.nanos)}}function sh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function oh(t){return"string"==typeof t?nh.fromBase64String(t):nh.fromUint8Array(t)}function ah(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lh(t){const e=t.mapValue.fields.__previous_value__;return ah(e)?lh(e):e}function ch(t){const e=ih(t.mapValue.fields.__local_write_time__.timestampValue);return new pu(e.seconds,e.nanos)}class uh{constructor(t,e,n,r,i,s,o,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class hh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new hh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof hh&&t.projectId===this.projectId&&t.database===this.database}}const dh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ah(t)?4:Ch(t)?9007199254740991:10:Yc()}function ph(t,e){if(t===e)return!0;const n=fh(t);if(n!==fh(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ch(t).isEqual(ch(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=ih(t.timestampValue),r=ih(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return oh(t.bytesValue).isEqual(oh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return sh(t.geoPointValue.latitude)===sh(e.geoPointValue.latitude)&&sh(t.geoPointValue.longitude)===sh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return sh(t.integerValue)===sh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=sh(t.doubleValue),r=sh(e.doubleValue);return n===r?zu(n)===zu(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return fu(t.arrayValue.values||[],e.arrayValue.values||[],ph);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ku(n)!==Ku(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ph(n[i],r[i])))return!1;return!0}(t,e);default:return Yc()}}function gh(t,e){return void 0!==(t.values||[]).find((t=>ph(t,e)))}function mh(t,e){if(t===e)return 0;const n=fh(t),r=fh(e);if(n!==r)return du(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return du(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=sh(t.integerValue||t.doubleValue),r=sh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return vh(t.timestampValue,e.timestampValue);case 4:return vh(ch(t),ch(e));case 5:return du(t.stringValue,e.stringValue);case 6:return function(t,e){const n=oh(t),r=oh(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=du(n[i],r[i]);if(0!==t)return t}return du(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=du(sh(t.latitude),sh(e.latitude));return 0!==n?n:du(sh(t.longitude),sh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=mh(n[i],r[i]);if(t)return t}return du(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===dh.mapValue&&e===dh.mapValue)return 0;if(t===dh.mapValue)return 1;if(e===dh.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const t=du(r[o],s[o]);if(0!==t)return t;const e=mh(n[r[o]],i[s[o]]);if(0!==e)return e}return du(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Yc()}}function vh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return du(t,e);const n=ih(t),r=ih(e),i=du(n.seconds,r.seconds);return 0!==i?i:du(n.nanos,r.nanos)}function yh(t){return bh(t)}function bh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=ih(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return oh(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return _u.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=bh(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+="".concat(i,":").concat(bh(t.fields[i]));return n+"}"}(t.mapValue):Yc()}function _h(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function wh(t){return!!t&&"integerValue"in t}function xh(t){return!!t&&"arrayValue"in t}function Eh(t){return!!t&&"nullValue"in t}function Sh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kh(t){return!!t&&"mapValue"in t}function Th(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gu(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Th(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Th(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ch(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ih{constructor(t){this.value=t}static empty(){return new Ih({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!kh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Th(e)}setAll(t){let e=bu.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Th(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());kh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ph(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];kh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Gu(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new Ih(Th(this.value))}}function Ah(t){const e=[];return Gu(t.fields,((t,n)=>{const r=new bu([t]);if(kh(n)){const t=Ah(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new th(e)}class Rh{constructor(t,e,n,r,i,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Rh(t,0,gu.min(),gu.min(),gu.min(),Ih.empty(),0)}static newFoundDocument(t,e,n,r){return new Rh(t,1,e,gu.min(),n,r,0)}static newNoDocument(t,e){return new Rh(t,2,e,gu.min(),gu.min(),Ih.empty(),0)}static newUnknownDocument(t,e){return new Rh(t,3,e,gu.min(),gu.min(),Ih.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(gu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ih.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ih.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gu.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Rh&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Oh{constructor(t,e){this.position=t,this.inclusive=e}}function Nh(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?_u.comparator(_u.fromName(o.referenceValue),n.key):mh(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ph(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ph(t.position[n],e.position[n]))return!1;return!0}class Dh{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function Mh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Lh{}class Fh extends Lh{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new qh(t,e,n):"array-contains"===e?new $h(t,n):"in"===e?new Yh(t,n):"not-in"===e?new Xh(t,n):"array-contains-any"===e?new Jh(t,n):new Fh(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Kh(t,n):new Gh(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(mh(e,this.value)):null!==e&&fh(this.value)===fh(e)&&this.matchesComparison(mh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Yc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jh extends Lh{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new jh(t,e)}matches(t){return Uh(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Uh(t){return"and"===t.op}function Vh(t){return zh(t)&&Uh(t)}function zh(t){for(const e of t.filters)if(e instanceof jh)return!1;return!0}function Bh(t){if(t instanceof Fh)return t.field.canonicalString()+t.op.toString()+yh(t.value);if(Vh(t))return t.filters.map((t=>Bh(t))).join(",");{const e=t.filters.map((t=>Bh(t))).join(",");return"".concat(t.op,"(").concat(e,")")}}function Wh(t,e){return t instanceof Fh?function(t,e){return e instanceof Fh&&t.op===e.op&&t.field.isEqual(e.field)&&ph(t.value,e.value)}(t,e):t instanceof jh?function(t,e){return e instanceof jh&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&Wh(n,e.filters[r])),!0)}(t,e):void Yc()}function Hh(t){return t instanceof Fh?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(yh(t.value))}(t):t instanceof jh?function(t){return t.op.toString()+" {"+t.getFilters().map(Hh).join(" ,")+"}"}(t):"Filter"}class qh extends Fh{constructor(t,e,n){super(t,e,n),this.key=_u.fromName(n.referenceValue)}matches(t){const e=_u.comparator(t.key,this.key);return this.matchesComparison(e)}}class Kh extends Fh{constructor(t,e){super(t,"in",e),this.keys=Qh("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Gh extends Fh{constructor(t,e){super(t,"not-in",e),this.keys=Qh("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Qh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>_u.fromName(t.referenceValue)))}class $h extends Fh{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return xh(e)&&gh(e.arrayValue,this.value)}}class Yh extends Fh{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&gh(this.value.arrayValue,e)}}class Xh extends Fh{constructor(t,e){super(t,"not-in",e)}matches(t){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!gh(this.value.arrayValue,e)}}class Jh extends Fh{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!xh(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>gh(this.value.arrayValue,t)))}}class Zh{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function td(t){return new Zh(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ed(t){const e=Jc(t);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Bh(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Vu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>yh(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>yh(t))).join(",")),e.ce=t}return e.ce}function nd(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Mh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Wh(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ph(t.startAt,e.startAt)&&Ph(t.endAt,e.endAt)}function rd(t){return _u.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class id{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function sd(t,e,n,r,i,s,o,a){return new id(t,e,n,r,i,s,o,a)}function od(t){return new id(t)}function ad(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ld(t){return null!==t.collectionGroup}function cd(t){const e=Jc(t);if(null===e.le){e.le=[];const t=new Set;for(const i of e.explicitOrderBy)e.le.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",r=function(t){let e=new Ju(bu.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);r.forEach((r=>{t.has(r.canonicalString())||r.isKeyField()||e.le.push(new Dh(r,n))})),t.has(bu.keyField().canonicalString())||e.le.push(new Dh(bu.keyField(),n))}return e.le}function ud(t){const e=Jc(t);return e.he||(e.he=hd(e,cd(t))),e.he}function hd(t,e){if("F"===t.limitType)return td(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new Dh(t.field,e)}));const n=t.endAt?new Oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Oh(t.startAt.position,t.startAt.inclusive):null;return td(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dd(t,e){const n=t.filters.concat([e]);return new id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fd(t,e,n){return new id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pd(t,e){return nd(ud(t),ud(e))&&t.limitType===e.limitType}function gd(t){return"".concat(ed(ud(t)),"|lt:").concat(t.limitType)}function md(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((t=>Hh(t))).join(", "),"]")),Vu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t))).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>yh(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>yh(t))).join(",")),"Target(".concat(e,")")}(ud(t)),"; limitType=").concat(t.limitType,")")}function vd(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):_u.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of cd(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=Nh(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,cd(t),e))&&!(t.endAt&&!function(t,e,n){const r=Nh(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,cd(t),e))}(t,e)}function yd(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bd(t){return(e,n)=>{let r=!1;for(const i of cd(t)){const t=_d(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function _d(t,e,n){const r=t.field.isKeyField()?_u.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?mh(r,i):Yc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Yc()}}class wd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Gu(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return Qu(this.inner)}size(){return this.innerSize}}const xd=new $u(_u.comparator);function Ed(){return xd}const Sd=new $u(_u.comparator);function kd(){let t=Sd;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.insert(i.key,i);return t}function Td(t){let e=Sd;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Cd(){return Ad()}function Id(){return Ad()}function Ad(){return new wd((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Rd=new $u(_u.comparator),Od=new Ju(_u.comparator);function Nd(){let t=Od;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.add(i);return t}const Pd=new Ju(du);function Dd(){return Pd}function Md(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(e)?"-0":e}}function Ld(t){return{integerValue:""+t}}function Fd(t,e){return Bu(e)?Ld(e):Md(t,e)}class jd{constructor(){this._=void 0}}function Ud(t,e,n){return t instanceof Bd?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&ah(e)&&(e=lh(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Wd?Hd(t,e):t instanceof qd?Kd(t,e):function(t,e){const n=zd(t,e),r=Qd(n)+Qd(t.Ie);return wh(n)&&wh(t.Ie)?Ld(r):Md(t.serializer,r)}(t,e)}function Vd(t,e,n){return t instanceof Wd?Hd(t,e):t instanceof qd?Kd(t,e):n}function zd(t,e){return t instanceof Gd?function(t){return wh(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class Bd extends jd{}class Wd extends jd{constructor(t){super(),this.elements=t}}function Hd(t,e){const n=$d(e);for(const r of t.elements)n.some((t=>ph(t,r)))||n.push(r);return{arrayValue:{values:n}}}class qd extends jd{constructor(t){super(),this.elements=t}}function Kd(t,e){let n=$d(e);for(const r of t.elements)n=n.filter((t=>!ph(t,r)));return{arrayValue:{values:n}}}class Gd extends jd{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function Qd(t){return sh(t.integerValue||t.doubleValue)}function $d(t){return xh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Yd{constructor(t,e){this.field=t,this.transform=e}}class Xd{constructor(t,e){this.version=t,this.transformResults=e}}class Jd{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Jd}static exists(t){return new Jd(void 0,t)}static updateTime(t){return new Jd(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class tf{}function ef(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new df(t.key,Jd.none()):new af(t.key,t.data,Jd.none());{const n=t.data,r=Ih.empty();let i=new Ju(bu.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new lf(t.key,r,new th(i.toArray()),Jd.none())}}function nf(t,e,n){t instanceof af?function(t,e,n){const r=t.value.clone(),i=uf(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof lf?function(t,e,n){if(!Zd(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=uf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(cf(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function rf(t,e,n,r){return t instanceof af?function(t,e,n,r){if(!Zd(t.precondition,e))return n;const i=t.value.clone(),s=hf(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof lf?function(t,e,n,r){if(!Zd(t.precondition,e))return n;const i=hf(t.fieldTransforms,r,e),s=e.data;return s.setAll(cf(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return Zd(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function sf(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=zd(r.transform,t||null);null!=i&&(null===n&&(n=Ih.empty()),n.set(r.field,i))}return n||null}function of(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&fu(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Wd&&e instanceof Wd||t instanceof qd&&e instanceof qd?fu(t.elements,e.elements,ph):t instanceof Gd&&e instanceof Gd?ph(t.Ie,e.Ie):t instanceof Bd&&e instanceof Bd}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class af extends tf{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class lf extends tf{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cf(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function uf(t,e,n){const r=new Map;Xc(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Vd(o,a,n[i]))}return r}function hf(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,Ud(t,s,e))}return r}class df extends tf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ff extends tf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pf{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&nf(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=rf(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=rf(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Id();return this.mutations.forEach((r=>{const i=t.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=e.has(r.key)?null:o;const a=ef(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(gu.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Nd())}isEqual(t){return this.batchId===t.batchId&&fu(this.mutations,t.mutations,((t,e)=>of(t,e)))&&fu(this.baseMutations,t.baseMutations,((t,e)=>of(t,e)))}}class gf{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Xc(t.mutations.length===n.length);let r=Rd;const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new gf(t,e,n,r)}}class mf{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class vf{constructor(t,e){this.count=t,this.unchangedNames=e}}var yf,bf;function _f(t){switch(t){default:return Yc();case Zc.CANCELLED:case Zc.UNKNOWN:case Zc.DEADLINE_EXCEEDED:case Zc.RESOURCE_EXHAUSTED:case Zc.INTERNAL:case Zc.UNAVAILABLE:case Zc.UNAUTHENTICATED:return!1;case Zc.INVALID_ARGUMENT:case Zc.NOT_FOUND:case Zc.ALREADY_EXISTS:case Zc.PERMISSION_DENIED:case Zc.FAILED_PRECONDITION:case Zc.ABORTED:case Zc.OUT_OF_RANGE:case Zc.UNIMPLEMENTED:case Zc.DATA_LOSS:return!0}}function wf(t){if(void 0===t)return Gc("GRPC error has no .code"),Zc.UNKNOWN;switch(t){case yf.OK:return Zc.OK;case yf.CANCELLED:return Zc.CANCELLED;case yf.UNKNOWN:return Zc.UNKNOWN;case yf.DEADLINE_EXCEEDED:return Zc.DEADLINE_EXCEEDED;case yf.RESOURCE_EXHAUSTED:return Zc.RESOURCE_EXHAUSTED;case yf.INTERNAL:return Zc.INTERNAL;case yf.UNAVAILABLE:return Zc.UNAVAILABLE;case yf.UNAUTHENTICATED:return Zc.UNAUTHENTICATED;case yf.INVALID_ARGUMENT:return Zc.INVALID_ARGUMENT;case yf.NOT_FOUND:return Zc.NOT_FOUND;case yf.ALREADY_EXISTS:return Zc.ALREADY_EXISTS;case yf.PERMISSION_DENIED:return Zc.PERMISSION_DENIED;case yf.FAILED_PRECONDITION:return Zc.FAILED_PRECONDITION;case yf.ABORTED:return Zc.ABORTED;case yf.OUT_OF_RANGE:return Zc.OUT_OF_RANGE;case yf.UNIMPLEMENTED:return Zc.UNIMPLEMENTED;case yf.DATA_LOSS:return Zc.DATA_LOSS;default:return Yc()}}(bf=yf||(yf={}))[bf.OK=0]="OK",bf[bf.CANCELLED=1]="CANCELLED",bf[bf.UNKNOWN=2]="UNKNOWN",bf[bf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bf[bf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bf[bf.NOT_FOUND=5]="NOT_FOUND",bf[bf.ALREADY_EXISTS=6]="ALREADY_EXISTS",bf[bf.PERMISSION_DENIED=7]="PERMISSION_DENIED",bf[bf.UNAUTHENTICATED=16]="UNAUTHENTICATED",bf[bf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bf[bf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bf[bf.ABORTED=10]="ABORTED",bf[bf.OUT_OF_RANGE=11]="OUT_OF_RANGE",bf[bf.UNIMPLEMENTED=12]="UNIMPLEMENTED",bf[bf.INTERNAL=13]="INTERNAL",bf[bf.UNAVAILABLE=14]="UNAVAILABLE",bf[bf.DATA_LOSS=15]="DATA_LOSS";let xf=null;function Ef(){return new TextEncoder}const Sf=new Vc([4294967295,4294967295],0);function kf(t){const e=Ef().encode(t),n=new Uc;return n.update(e),new Uint8Array(n.digest())}function Tf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vc([n,r],0),new Vc([i,s],0)]}class Cf{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new If("Invalid padding: ".concat(e));if(n<0)throw new If("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new If("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new If("Invalid padding when bitmap length is 0: ".concat(e));this.Te=8*t.length-e,this.Ee=Vc.fromNumber(this.Te)}de(t,e,n){let r=t.add(e.multiply(Vc.fromNumber(n)));return 1===r.compare(Sf)&&(r=new Vc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=kf(t),[n,r]=Tf(e);for(let i=0;i<this.hashCount;i++){const t=this.de(n,r,i);if(!this.Ae(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new Cf(i,r,e);return n.forEach((t=>s.insert(t))),s}insert(t){if(0===this.Te)return;const e=kf(t),[n,r]=Tf(e);for(let i=0;i<this.hashCount;i++){const t=this.de(n,r,i);this.Re(t)}}Re(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class If extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Af{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,Rf.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Af(gu.min(),r,new $u(du),Ed(),Nd())}}class Rf{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Rf(n,e,Nd(),Nd(),Nd())}}class Of{constructor(t,e,n,r){this.Ve=t,this.removedTargetIds=e,this.key=n,this.me=r}}class Nf{constructor(t,e){this.targetId=t,this.fe=e}}class Pf{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nh.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Df{constructor(){this.ge=0,this.pe=Ff(),this.ye=nh.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Nd(),e=Nd(),n=Nd();return this.pe.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Yc()}})),new Rf(this.ye,this.we,t,e,n)}Fe(){this.Se=!1,this.pe=Ff()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Xc(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Mf{constructor(t){this.Le=t,this.ke=new Map,this.qe=Ed(),this.Qe=Lf(),this.Ke=new $u(du)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,(e=>{const n=this.ze(e);switch(t.state){case 0:this.je(e)&&n.Ce(t.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(t.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(e);break;case 3:this.je(e)&&(n.Be(),n.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),n.Ce(t.resumeToken));break;default:Yc()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach(((t,n)=>{this.je(n)&&e(n)}))}Je(t){const e=t.targetId,n=t.fe.count,r=this.Ye(e);if(r){const i=r.target;if(rd(i))if(0===n){const t=new _u(i.path);this.We(e,t,Rh.newNoDocument(t,gu.min()))}else Xc(1===n);else{const r=this.Ze(e);if(r!==n){const n=this.Xe(t),i=n?this.et(n,t,r):1;if(0!==i){this.He(e);const t=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,t)}null==xf||xf.tt(function(t,e,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},d=e.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:t=>{var e;return null!==(e=null==r?void 0:r.mightContain(t))&&void 0!==e&&e}}),h}(r,t.fe,this.Le.nt(),n,i))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=e;let s,o;try{s=oh(n).toUint8Array()}catch(t){if(t instanceof eh)return Qc("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{o=new Cf(s,r,i)}catch(t){return Qc(t instanceof If?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===o.Te?null:o}et(t,e,n){return e.fe.count===n-this.rt(t,e.targetId)?0:2}rt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.mightContain(s)||(this.We(e,n,null),r++)})),r}it(t){const e=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&rd(i.target)){const e=new _u(i.target.path);null!==this.qe.get(e)||this.st(r,e)||this.We(r,e,Rh.newNoDocument(e,t))}n.De&&(e.set(r,n.ve()),n.Fe())}}));let n=Nd();this.Qe.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Ye(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.qe.forEach(((e,n)=>n.setReadTime(t)));const r=new Af(t,e,this.Ke,this.qe,n);return this.qe=Ed(),this.Qe=Lf(),this.Ke=new $u(du),r}Ue(t,e){if(!this.je(t))return;const n=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,n),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,n){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),n&&(this.qe=this.qe.insert(e,n))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new Df,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new Ju(du),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||Kc("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new Df),this.Le.getRemoteKeysForTarget(t).forEach((e=>{this.We(t,e,null)}))}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Lf(){return new $u(_u.comparator)}function Ff(){return new $u(_u.comparator)}const jf={asc:"ASCENDING",desc:"DESCENDING"},Uf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vf={and:"AND",or:"OR"};class zf{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Bf(t,e){return t.useProto3Json||Vu(e)?e:{value:e}}function Wf(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hf(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qf(t,e){return Wf(t,e.toTimestamp())}function Kf(t){return Xc(!!t),gu.fromTimestamp(function(t){const e=ih(t);return new pu(e.seconds,e.nanos)}(t))}function Gf(t,e){return Qf(t,e).canonicalString()}function Qf(t,e){const n=function(t){return new vu(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function $f(t){const e=vu.fromString(t);return Xc(gp(e)),e}function Yf(t,e){return Gf(t.databaseId,e.path)}function Xf(t,e){const n=$f(e);if(n.get(1)!==t.databaseId.projectId)throw new tu(Zc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new tu(Zc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _u(ep(n))}function Jf(t,e){return Gf(t.databaseId,e)}function Zf(t){const e=$f(t);return 4===e.length?vu.emptyPath():ep(e)}function tp(t){return new vu(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ep(t){return Xc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function np(t,e,n){return{name:Yf(t,e),fields:n.value.mapValue.fields}}function rp(t,e){let n;if(e instanceof af)n={update:np(t,e.key,e.value)};else if(e instanceof df)n={delete:Yf(t,e.key)};else if(e instanceof lf)n={update:np(t,e.key,e.data),updateMask:pp(e.fieldMask)};else{if(!(e instanceof ff))return Yc();n={verify:Yf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Bd)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Wd)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof qd)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Gd)return{fieldPath:e.field.canonicalString(),increment:n.Ie};throw Yc()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:qf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Yc()}(t,e.precondition)),n}function ip(t,e){return{documents:[Jf(t,e.path)]}}function sp(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Jf(t,i);const s=function(t){if(0!==t.length)return fp(jh.create(t,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:hp(t.field),direction:lp(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Bf(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ut:n,parent:i}}function op(t){let e=Zf(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xc(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=ap(t);return e instanceof jh&&Vh(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=function(t){return t.map((t=>function(t){return new Dh(dp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Vu(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new Oh(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new Oh(n,e)}(n.endAt)),sd(e,i,o,s,a,"F",l,c)}function ap(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=dp(t.unaryFilter.field);return Fh.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=dp(t.unaryFilter.field);return Fh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=dp(t.unaryFilter.field);return Fh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=dp(t.unaryFilter.field);return Fh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Yc()}}(t):void 0!==t.fieldFilter?function(t){return Fh.create(dp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yc()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return jh.create(t.compositeFilter.filters.map((t=>ap(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Yc()}}(t.compositeFilter.op))}(t):Yc()}function lp(t){return jf[t]}function cp(t){return Uf[t]}function up(t){return Vf[t]}function hp(t){return{fieldPath:t.canonicalString()}}function dp(t){return bu.fromServerFormat(t.fieldPath)}function fp(t){return t instanceof Fh?function(t){if("=="===t.op){if(Sh(t.value))return{unaryFilter:{field:hp(t.field),op:"IS_NAN"}};if(Eh(t.value))return{unaryFilter:{field:hp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Sh(t.value))return{unaryFilter:{field:hp(t.field),op:"IS_NOT_NAN"}};if(Eh(t.value))return{unaryFilter:{field:hp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hp(t.field),op:cp(t.op),value:t.value}}}(t):t instanceof jh?function(t){const e=t.getFilters().map((t=>fp(t)));return 1===e.length?e[0]:{compositeFilter:{op:up(t.op),filters:e}}}(t):Yc()}function pp(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function gp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class mp{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gu.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gu.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:nh.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new mp(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new mp(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new mp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new mp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class vp{constructor(t){this.ct=t}}function yp(t){const e=op({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?fd(e,e.limit,"L"):e}class bp{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(sh(t.integerValue));else if("doubleValue"in t){const n=sh(t.doubleValue);isNaN(n)?this.Et(e,13):(this.Et(e,15),zu(n)?e.dt(0):e.dt(n))}else if("timestampValue"in t){const n=t.timestampValue;this.Et(e,20),"string"==typeof n?e.At(n):(e.At("".concat(n.seconds||"")),e.dt(n.nanos||0))}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(oh(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Et(e,45),e.dt(n.latitude||0),e.dt(n.longitude||0)}else"mapValue"in t?Ch(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):Yc()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const n=t.fields||{};this.Et(e,55);for(const r of Object.keys(n))this.Rt(r,e),this.It(n[r],e)}wt(t,e){const n=t.values||[];this.Et(e,50);for(const r of n)this.It(r,e)}gt(t,e){this.Et(e,37),_u.fromName(t).path.forEach((t=>{this.Et(e,60),this.St(t,e)}))}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}bp.bt=new bp;class _p{constructor(){this._n=new wp}addToCollectionParentIndex(t,e){return this._n.add(e),Au.resolve()}getCollectionParents(t,e){return Au.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return Au.resolve()}deleteFieldIndex(t,e){return Au.resolve()}deleteAllFieldIndexes(t){return Au.resolve()}createTargetIndexes(t,e){return Au.resolve()}getDocumentsMatchingTarget(t,e){return Au.resolve(null)}getIndexType(t,e){return Au.resolve(0)}getFieldIndexes(t,e){return Au.resolve([])}getNextCollectionGroupToUpdate(t){return Au.resolve(null)}getMinOffset(t,e){return Au.resolve(Su.min())}getMinOffsetFromCollectionGroup(t,e){return Au.resolve(Su.min())}updateCollectionGroup(t,e,n){return Au.resolve()}updateIndexEntries(t,e){return Au.resolve()}}class wp{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ju(vu.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Ju(vu.comparator)).toArray()}}new Uint8Array(0);class xp{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new xp(t,xp.DEFAULT_COLLECTION_PERCENTILE,xp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}xp.DEFAULT_COLLECTION_PERCENTILE=10,xp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xp.DEFAULT=new xp(41943040,xp.DEFAULT_COLLECTION_PERCENTILE,xp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xp.DISABLED=new xp(-1,0,0);class Ep{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Ep(0)}static Bn(){return new Ep(-1)}}class Sp{constructor(){this.changes=new wd((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Rh.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Au.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class kp{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Tp{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&rf(n.mutation,t,th.empty(),pu.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Nd()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nd();const r=Cd();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=kd();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=Cd();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Nd())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=Ed();const s=Ad(),o=Ad();return e.forEach(((t,e)=>{const o=n.get(e.key);r.has(e.key)&&(void 0===o||o.mutation instanceof lf)?i=i.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),rf(o.mutation,e,o.mutation.getFieldMask(),pu.now())):s.set(e.key,th.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new kp(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=Ad();let r=new $u(((t,e)=>t-e)),i=Nd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||th.empty();o=i.applyToLocalView(s,o),n.set(t,o);const a=(r.get(i.batchId)||Nd()).add(t);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Id();l.forEach((t=>{if(!i.has(t)){const r=ef(e.get(t),n.get(t));null!==r&&c.set(t,r),i=i.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return Au.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,r){return function(t){return _u.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ld(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):Au.resolve(Cd());let o=-1,a=i;return s.next((e=>Au.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(e)?Au.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,Nd()))).next((t=>({batchId:o,changes:Td(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _u(e)).next((t=>{let e=kd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const i=e.collectionGroup;let s=kd();return this.indexManager.getCollectionParents(t,i).next((o=>Au.forEach(o,(o=>{const a=function(t,e){return new id(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return this.getDocumentsMatchingCollectionQuery(t,a,n,r).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,r)))).next((t=>{i.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Rh.newInvalidDocument(r)))}));let n=kd();return t.forEach(((t,r)=>{const s=i.get(t);void 0!==s&&rf(s.mutation,r,th.empty(),pu.now()),vd(e,r)&&(n=n.insert(t,r))})),n}))}}class Cp{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return Au.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Kf(t.createTime)}}(e)),Au.resolve()}getNamedQuery(t,e){return Au.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,function(t){return{name:t.name,query:yp(t.bundledQuery),readTime:Kf(t.readTime)}}(e)),Au.resolve()}}class Ip{constructor(){this.overlays=new $u(_u.comparator),this.hr=new Map}getOverlay(t,e){return Au.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Cd();return Au.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.ht(t,e,r)})),Au.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.hr.delete(n)),Au.resolve()}getOverlaysForCollection(t,e,n){const r=Cd(),i=e.length+1,s=new _u(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return Au.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new $u(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=Cd(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=Cd(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=r)););return Au.resolve(o)}ht(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new mf(e,n));let i=this.hr.get(e);void 0===i&&(i=Nd(),this.hr.set(e,i)),this.hr.set(e,i.add(n.key))}}class Ap{constructor(){this.Pr=new Ju(Rp.Ir),this.Tr=new Ju(Rp.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const n=new Rp(t,e);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.Ar(new Rp(t,e))}Rr(t,e){t.forEach((t=>this.removeReference(t,e)))}Vr(t){const e=new _u(new vu([])),n=new Rp(e,t),r=new Rp(e,t+1),i=[];return this.Tr.forEachInRange([n,r],(t=>{this.Ar(t),i.push(t.key)})),i}mr(){this.Pr.forEach((t=>this.Ar(t)))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new _u(new vu([])),n=new Rp(e,t),r=new Rp(e,t+1);let i=Nd();return this.Tr.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new Rp(t,0),n=this.Pr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Rp{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return _u.comparator(t.key,e.key)||du(t.pr,e.pr)}static Er(t,e){return du(t.pr,e.pr)||_u.comparator(t.key,e.key)}}class Op{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new Ju(Rp.Ir)}checkEmpty(t){return Au.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new pf(i,e,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new Rp(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Au.resolve(s)}lookupMutationBatch(t,e){return Au.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.br(n),i=r<0?0:r;return Au.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Au.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return Au.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Rp(e,0),r=new Rp(e,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(t=>{const e=this.Sr(t.pr);i.push(e)})),Au.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Ju(du);return e.forEach((t=>{const e=new Rp(t,0),r=new Rp(t,Number.POSITIVE_INFINITY);this.wr.forEachInRange([e,r],(t=>{n=n.add(t.pr)}))})),Au.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;_u.isDocumentKey(i)||(i=i.child(""));const s=new Rp(new _u(i),0);let o=new Ju(du);return this.wr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.pr)),!0)}),s),Au.resolve(this.Dr(o))}Dr(t){const e=[];return t.forEach((t=>{const n=this.Sr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Xc(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Au.forEach(e.mutations,(r=>{const i=new Rp(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.wr=n}))}Mn(t){}containsKey(t,e){const n=new Rp(e,0),r=this.wr.firstAfterOrEqual(n);return Au.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Au.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Np{constructor(t){this.vr=t,this.docs=new $u(_u.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Au.resolve(n?n.document.mutableCopy():Rh.newInvalidDocument(e))}getEntries(t,e){let n=Ed();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Rh.newInvalidDocument(t))})),Au.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=Ed();const s=e.path,o=new _u(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||ku(Eu(o),n)<=0||(r.has(o.key)||vd(e,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Au.resolve(i)}getAllFromCollectionGroup(t,e,n,r){Yc()}Fr(t,e){return Au.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Pp(this)}getSize(t){return Au.resolve(this.size)}}class Pp extends Sp{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.ar.addEntry(t,r)):this.ar.removeEntry(n)})),Au.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class Dp{constructor(t){this.persistence=t,this.Mr=new wd((t=>ed(t)),nd),this.lastRemoteSnapshotVersion=gu.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ap,this.targetCount=0,this.Br=Ep.Nn()}forEachTarget(t,e){return this.Mr.forEach(((t,n)=>e(n))),Au.resolve()}getLastRemoteSnapshotVersion(t){return Au.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Au.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),Au.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Or&&(this.Or=e),Au.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Br=new Ep(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,Au.resolve()}updateTargetData(t,e){return this.qn(e),Au.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,Au.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)})),Au.waitFor(i).next((()=>r))}getTargetCount(t){return Au.resolve(this.targetCount)}getTargetData(t,e){const n=this.Mr.get(e)||null;return Au.resolve(n)}addMatchingKeys(t,e,n){return this.Nr.dr(e,n),Au.resolve()}removeMatchingKeys(t,e,n){this.Nr.Rr(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),Au.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),Au.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Nr.gr(e);return Au.resolve(n)}containsKey(t,e){return Au.resolve(this.Nr.containsKey(e))}}class Mp{constructor(t,e){this.Lr={},this.overlays={},this.kr=new Uu(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Dp(this),this.indexManager=new _p,this.remoteDocumentCache=function(t){return new Np(t)}((t=>this.referenceDelegate.Kr(t))),this.serializer=new vp(e),this.$r=new Cp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Ip,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Lr[t.toKey()];return n||(n=new Op(e,this.referenceDelegate),this.Lr[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,n){Kc("MemoryPersistence","Starting transaction:",t);const r=new Lp(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((t=>this.referenceDelegate.Wr(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Gr(t,e){return Au.or(Object.values(this.Lr).map((n=>()=>n.containsKey(t,e))))}}class Lp extends Cu{constructor(t){super(),this.currentSequenceNumber=t}}class Fp{constructor(t){this.persistence=t,this.zr=new Ap,this.jr=null}static Hr(t){return new Fp(t)}get Jr(){if(this.jr)return this.jr;throw Yc()}addReference(t,e,n){return this.zr.addReference(n,e),this.Jr.delete(n.toString()),Au.resolve()}removeReference(t,e,n){return this.zr.removeReference(n,e),this.Jr.add(n.toString()),Au.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),Au.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach((t=>this.Jr.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Jr.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Au.forEach(this.Jr,(n=>{const r=_u.fromPath(n);return this.Yr(t,r).next((t=>{t||e.removeEntry(r,gu.min())}))})).next((()=>(this.jr=null,e.apply(t))))}updateLimboDocument(t,e){return this.Yr(t,e).next((t=>{t?this.Jr.delete(e.toString()):this.Jr.add(e.toString())}))}Kr(t){return 0}Yr(t,e){return Au.or([()=>Au.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class jp{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.qi=n,this.Qi=r}static Ki(t,e){let n=Nd(),r=Nd();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new jp(t,e.fromCache,n,r)}}class Up{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Vp{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Wt()?8:Ou.v(Bt())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,n,r){const i={result:null};return this.ji(t,e).next((t=>{i.result=t})).next((()=>{if(!i.result)return this.Hi(t,e,r,n).next((t=>{i.result=t}))})).next((()=>{if(i.result)return;const n=new Up;return this.Ji(t,e,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(t,e,n,r.size)}))})).next((()=>i.result))}Yi(t,e,n,r){return n.documentReadCount<this.Wi?(qc()<=ae.DEBUG&&Kc("QueryEngine","SDK will not create cache indexes for query:",md(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Au.resolve()):(qc()<=ae.DEBUG&&Kc("QueryEngine","Query:",md(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(qc()<=ae.DEBUG&&Kc("QueryEngine","The SDK decides to create cache indexes for query:",md(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ud(e))):Au.resolve())}ji(t,e){if(ad(e))return Au.resolve(null);let n=ud(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=fd(e,null,"F"),n=ud(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=Nd(...r);return this.zi.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.Zi(e,r);return this.Xi(e,s,i,n.readTime)?this.ji(t,fd(e,null,"F")):this.es(t,s,e,n)}))))})))))}Hi(t,e,n,r){return ad(e)||r.isEqual(gu.min())?Au.resolve(null):this.zi.getDocuments(t,n).next((i=>{const s=this.Zi(e,i);return this.Xi(e,s,n,r)?Au.resolve(null):(qc()<=ae.DEBUG&&Kc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),md(e)),this.es(t,s,e,xu(r,-1)).next((t=>t)))}))}Zi(t,e){let n=new Ju(bd(t));return e.forEach(((e,r)=>{vd(t,r)&&(n=n.add(r))})),n}Xi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(t,e,n){return qc()<=ae.DEBUG&&Kc("QueryEngine","Using full collection scan to execute query:",md(e)),this.zi.getDocumentsMatchingQuery(t,e,Su.min(),n)}es(t,e,n,r){return this.zi.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class zp{constructor(t,e,n,r){this.persistence=t,this.ts=e,this.serializer=r,this.ns=new $u(du),this.rs=new wd((t=>ed(t)),nd),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Tp(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.ns)))}}function Bp(t,e,n,r){return new zp(t,e,n,r)}async function Wp(t,e){const n=Jc(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n._s(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],s=[];let o=Nd();for(const t of r){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({us:t,removedBatchIds:i,addedBatchIds:s})))}))}))}function Hp(t){const e=Jc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Qr.getLastRemoteSnapshotVersion(t)))}function qp(t,e,n){let r=Nd(),i=Nd();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=Ed();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(gu.min())?(e.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),r=r.insert(n,s)):Kc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Kp(t,e){const n=Jc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Gp(t,e){const n=Jc(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Qr.getTargetData(t,e).next((i=>i?(r=i,Au.resolve(r)):n.Qr.allocateTargetId(t).next((i=>(r=new mp(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.Qr.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.ns.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(t.targetId,t),n.rs.set(e,t.targetId)),t}))}async function Qp(t,e,n){const r=Jc(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!Du(t))throw t;Kc("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(t))}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function $p(t,e,n){const r=Jc(t);let i=gu.min(),s=Nd();return r.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const r=Jc(t),i=r.rs.get(n);return void 0!==i?Au.resolve(r.ns.get(i)):r.Qr.getTargetData(e,n)}(r,t,ud(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>r.ts.getDocumentsMatchingQuery(t,e,n?i:gu.min(),n?s:Nd()))).next((t=>(Yp(r,yd(e),t),{documents:t,hs:s})))))}function Yp(t,e,n){let r=t.ss.get(e)||gu.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.ss.set(e,r)}class Xp{constructor(){this.activeTargetIds=Dd()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Jp{constructor(){this.no=new Xp,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,n){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Xp,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Zp{io(t){}shutdown(){}}class tg{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Kc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Kc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let eg=null;function ng(){return null===eg?eg=268435456+Math.round(2147483648*Math.random()):eg++,"0x"+eg.toString(16)}const rg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ig{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}const sg="WebChannelConnection";class og extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=e+"://"+t.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(t,e,n,r,i){const s=ng(),o=this.bo(t,e.toUriEncodedString());Kc("RestConnection","Sending RPC '".concat(t,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(t,o,a,n).then((e=>(Kc("RestConnection","Received RPC '".concat(t,"' ").concat(s,": "),e),e)),(e=>{throw Qc("RestConnection","RPC '".concat(t,"' ").concat(s," failed with error: "),e,"url: ",o,"request:",n),e}))}vo(t,e,n,r,i,s){return this.So(t,e,n,r,i)}Do(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Wc,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}bo(t,e){const n=rg[t];return"".concat(this.fo,"/v1/").concat(e,":").concat(n)}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,e,n,r){const i=ng();return new Promise(((s,o)=>{const a=new jc;a.setWithCredentials(!0),a.listenOnce(Dc.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Pc.NO_ERROR:const e=a.getResponseJson();Kc(sg,"XHR for RPC '".concat(t,"' ").concat(i," received:"),JSON.stringify(e)),s(e);break;case Pc.TIMEOUT:Kc(sg,"RPC '".concat(t,"' ").concat(i," timed out")),o(new tu(Zc.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const n=a.getStatus();if(Kc(sg,"RPC '".concat(t,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Zc).indexOf(e)>=0?e:Zc.UNKNOWN}(e.status);o(new tu(t,e.message))}else o(new tu(Zc.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new tu(Zc.UNAVAILABLE,"Connection failed."));break;default:Yc()}}finally{Kc(sg,"RPC '".concat(t,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Kc(sg,"RPC '".concat(t,"' ").concat(i," sending request:"),r),a.send(e,"POST",l,n,15)}))}Fo(t,e,n){const r=ng(),i=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Oc(),o=Nc(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Kc(sg,"Creating RPC '".concat(t,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new ig({lo:e=>{d?Kc(sg,"Not sending because RPC '".concat(t,"' stream ").concat(r," is closed:"),e):(h||(Kc(sg,"Opening RPC '".concat(t,"' stream ").concat(r," transport.")),u.open(),h=!0),Kc(sg,"RPC '".concat(t,"' stream ").concat(r," sending:"),e),u.send(e))},ho:()=>u.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(u,Fc.EventType.OPEN,(()=>{d||Kc(sg,"RPC '".concat(t,"' stream ").concat(r," transport opened."))})),p(u,Fc.EventType.CLOSE,(()=>{d||(d=!0,Kc(sg,"RPC '".concat(t,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Fc.EventType.ERROR,(e=>{d||(d=!0,Qc(sg,"RPC '".concat(t,"' stream ").concat(r," transport errored:"),e),f.Vo(new tu(Zc.UNAVAILABLE,"The operation could not be completed")))})),p(u,Fc.EventType.MESSAGE,(e=>{var n;if(!d){const i=e.data[0];Xc(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Kc(sg,"RPC '".concat(t,"' stream ").concat(r," received error:"),o);const e=o.status;let n=function(t){const e=yf[t];if(void 0!==e)return wf(e)}(e),i=o.message;void 0===n&&(n=Zc.INTERNAL,i="Unknown error status: "+e+" with message "+o.message),d=!0,f.Vo(new tu(n,i)),u.close()}else Kc(sg,"RPC '".concat(t,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(o,Mc.STAT_EVENT,(e=>{e.stat===Lc.PROXY?Kc(sg,"RPC '".concat(t,"' stream ").concat(r," detected buffering proxy")):e.stat===Lc.NOPROXY&&Kc(sg,"RPC '".concat(t,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function ag(){return"undefined"!=typeof document?document:null}function lg(t){return new zf(t,!0)}class cg{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=t,this.timerId=e,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const e=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,e-n);r>0&&Kc("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),t()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class ug{constructor(t,e,n,r,i,s,o,a){this.oi=t,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new cg(t,e)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,e){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():e&&e.code===Zc.RESOURCE_EXHAUSTED?(Gc(e.toString()),Gc("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):e&&e.code===Zc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(e)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),e=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,r]=t;this.Wo===e&&this.o_(n,r)}),(e=>{t((()=>{const t=new tu(Zc.UNKNOWN,"Fetching auth token failed: "+e.message);return this.__(t)}))}))}o_(t,e){const n=this.s_(this.Wo);this.stream=this.a_(t,e),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((t=>{n((()=>this.__(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(t){return Kc("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}s_(t){return e=>{this.oi.enqueueAndForget((()=>this.Wo===t?e():(Kc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hg extends ug{constructor(t,e,n,r,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i}a_(t,e){return this.connection.Fo("Listen",t,e)}onMessage(t){this.jo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Yc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(Xc(void 0===e||"string"==typeof e),nh.fromBase64String(e||"")):(Xc(void 0===e||e instanceof Uint8Array),nh.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?Zc.UNKNOWN:wf(t.code);return new tu(e,t.message||"")}(o);n=new Pf(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xf(t,r.document.name),s=Kf(r.document.updateTime),o=r.document.createTime?Kf(r.document.createTime):gu.min(),a=new Ih({mapValue:{fields:r.document.fields}}),l=Rh.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Of(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xf(t,r.document),s=r.readTime?Kf(r.readTime):gu.min(),o=Rh.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Of([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xf(t,r.document),s=r.removedTargetIds||[];n=new Of([],s,i,null)}else{if(!("filter"in e))return Yc();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,s=new vf(r,i),o=t.targetId;n=new Nf(o,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return gu.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?gu.min():e.readTime?Kf(e.readTime):gu.min()}(t);return this.listener.u_(e,n)}c_(t){const e={};e.database=tp(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=rd(r)?{documents:ip(t,r)}:{query:sp(t,r).ut},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Hf(t,e.resumeToken);const r=Bf(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(gu.min())>0){n.readTime=Wf(t,e.snapshotVersion.toTimestamp());const r=Bf(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yc()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.t_(e)}l_(t){const e={};e.database=tp(this.serializer),e.removeTarget=t,this.t_(e)}}class dg extends ug{constructor(t,e,n,r,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,e){return this.connection.Fo("Write",t,e)}onMessage(t){if(Xc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const e=function(t,e){return t&&t.length>0?(Xc(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Kf(t.updateTime):Kf(e);return n.isEqual(gu.min())&&(n=Kf(e)),new Xd(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=Kf(t.commitTime);return this.listener.T_(n,e)}return Xc(!t.writeResults||0===t.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=tp(this.serializer),this.t_(t)}I_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>rp(this.serializer,t)))};this.t_(e)}}class fg extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new tu(Zc.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(t,Qf(e,n),r,s,o)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===Zc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new tu(Zc.UNKNOWN,t.toString())}))}vo(t,e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(t,Qf(e,n),r,o,a,i)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===Zc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new tu(Zc.UNKNOWN,t.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class pg{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(t){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.y_("Offline")))}set(t){this.b_(),this.m_=0,"Online"===t&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Gc(e),this.g_=!1):Kc("OnlineStateTracker",e)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class gg{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((t=>{n.enqueueAndForget((async()=>{Sg(this)&&(Kc("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Jc(t);e.v_.add(4),await vg(e),e.x_.set("Unknown"),e.v_.delete(4),await mg(e)}(this))}))})),this.x_=new pg(n,r)}}async function mg(t){if(Sg(t))for(const e of t.F_)await e(!0)}async function vg(t){for(const e of t.F_)await e(!1)}function yg(t,e){const n=Jc(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Eg(n)?xg(n):Bg(n).Jo()&&_g(n,e))}function bg(t,e){const n=Jc(t),r=Bg(n);n.C_.delete(e),r.Jo()&&wg(n,e),0===n.C_.size&&(r.Jo()?r.Xo():Sg(n)&&n.x_.set("Unknown"))}function _g(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gu.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bg(t).c_(e)}function wg(t,e){t.O_.Oe(e),Bg(t).l_(e)}function xg(t){t.O_=new Mf({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Bg(t).start(),t.x_.p_()}function Eg(t){return Sg(t)&&!Bg(t).Ho()&&t.C_.size>0}function Sg(t){return 0===Jc(t).v_.size}function kg(t){t.O_=void 0}async function Tg(t){t.C_.forEach(((e,n)=>{_g(t,e)}))}async function Cg(t,e){kg(t),Eg(t)?(t.x_.S_(e),xg(t)):t.x_.set("Unknown")}async function Ig(t,e,n){if(t.x_.set("Online"),e instanceof Pf&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.C_.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.C_.delete(r),t.O_.removeTarget(r))}(t,e)}catch(n){Kc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ag(t,n)}else if(e instanceof Of?t.O_.$e(e):e instanceof Nf?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(gu.min()))try{const e=await Hp(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.O_.it(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.C_.get(r);i&&t.C_.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const r=t.C_.get(e);if(!r)return;t.C_.set(e,r.withResumeToken(nh.EMPTY_BYTE_STRING,r.snapshotVersion)),wg(t,e);const i=new mp(r.target,e,n,r.sequenceNumber);_g(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Kc("RemoteStore","Failed to raise snapshot:",e),await Ag(t,e)}}async function Ag(t,e,n){if(!Du(e))throw e;t.v_.add(1),await vg(t),t.x_.set("Offline"),n||(n=()=>Hp(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Kc("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await mg(t)}))}function Rg(t,e){return e().catch((n=>Ag(t,n,e)))}async function Og(t){const e=Jc(t),n=Wg(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Ng(e);)try{const t=await Kp(e.localStore,r);if(null===t){0===e.D_.length&&n.Xo();break}r=t.batchId,Pg(e,t)}catch(t){await Ag(e,t)}Dg(e)&&Mg(e)}function Ng(t){return Sg(t)&&t.D_.length<10}function Pg(t,e){t.D_.push(e);const n=Wg(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function Dg(t){return Sg(t)&&!Wg(t).Ho()&&t.D_.length>0}function Mg(t){Wg(t).start()}async function Lg(t){Wg(t).d_()}async function Fg(t){const e=Wg(t);for(const n of t.D_)e.I_(n.mutations)}async function jg(t,e,n){const r=t.D_.shift(),i=gf.from(r,e,n);await Rg(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Og(t)}async function Ug(t,e){e&&Wg(t).P_&&await async function(t,e){if(function(t){return _f(t)&&t!==Zc.ABORTED}(e.code)){const n=t.D_.shift();Wg(t).Zo(),await Rg(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Og(t)}}(t,e),Dg(t)&&Mg(t)}async function Vg(t,e){const n=Jc(t);n.asyncQueue.verifyOperationInProgress(),Kc("RemoteStore","RemoteStore received new credentials");const r=Sg(n);n.v_.add(3),await vg(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await mg(n)}async function zg(t,e){const n=Jc(t);e?(n.v_.delete(2),await mg(n)):e||(n.v_.add(2),await vg(n),n.x_.set("Unknown"))}function Bg(t){return t.N_||(t.N_=function(t,e,n){const r=Jc(t);return r.R_(),new hg(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Po:Tg.bind(null,t),To:Cg.bind(null,t),u_:Ig.bind(null,t)}),t.F_.push((async e=>{e?(t.N_.Zo(),Eg(t)?xg(t):t.x_.set("Unknown")):(await t.N_.stop(),kg(t))}))),t.N_}function Wg(t){return t.B_||(t.B_=function(t,e,n){const r=Jc(t);return r.R_(),new dg(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Po:Lg.bind(null,t),To:Ug.bind(null,t),E_:Fg.bind(null,t),T_:jg.bind(null,t)}),t.F_.push((async e=>{e?(t.B_.Zo(),await Og(t)):(await t.B_.stop(),t.D_.length>0&&(Kc("RemoteStore","Stopping write stream with ".concat(t.D_.length," pending writes")),t.D_=[]))}))),t.B_}class Hg{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new eu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new Hg(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tu(Zc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(t,e){if(Gc("AsyncQueue","".concat(e,": ").concat(t)),Du(t))return new tu(Zc.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class Kg{constructor(t){this.comparator=t?(e,n)=>t(e,n)||_u.comparator(e.key,n.key):(t,e)=>_u.comparator(t.key,e.key),this.keyedMap=kd(),this.sortedSet=new $u(this.comparator)}static emptySet(t){return new Kg(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Kg))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Kg;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class Gg{constructor(){this.L_=new $u(_u.comparator)}track(t){const e=t.doc.key,n=this.L_.get(e);n?0!==t.type&&3===n.type?this.L_=this.L_.insert(e,t):3===t.type&&1!==n.type?this.L_=this.L_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.L_=this.L_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.L_=this.L_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.L_=this.L_.remove(e):1===t.type&&2===n.type?this.L_=this.L_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.L_=this.L_.insert(e,{type:2,doc:t.doc}):Yc():this.L_=this.L_.insert(e,t)}k_(){const t=[];return this.L_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Qg{constructor(t,e,n,r,i,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,i){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new Qg(t,e,Kg.emptySet(e),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class $g{constructor(){this.q_=void 0,this.Q_=[]}}class Yg{constructor(){this.queries=new wd((t=>gd(t)),pd),this.onlineState="Unknown",this.K_=new Set}}async function Xg(t,e){const n=Jc(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new $g),i)try{s.q_=await n.onListen(r)}catch(t){const n=qg(t,"Initialization of query '".concat(md(e.query),"' failed"));return void e.onError(n)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&em(n)}async function Jg(t,e){const n=Jc(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const t=s.Q_.indexOf(e);t>=0&&(s.Q_.splice(t,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Zg(t,e){const n=Jc(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.Q_)t.W_(i)&&(r=!0);e.q_=i}}r&&em(n)}function tm(t,e,n){const r=Jc(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function em(t){t.K_.forEach((t=>{t.next()}))}class nm{constructor(t,e,n){this.query=t,this.G_=e,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Qg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.z_?this.H_(t)&&(this.G_.next(t),e=!0):this.J_(t,this.onlineState)&&(this.Y_(t),e=!0),this.j_=t,e}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let e=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),e=!0),e}J_(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Z_||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}H_(t){if(t.docChanges.length>0)return!0;const e=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}Y_(t){t=Qg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}class rm{constructor(t){this.key=t}}class im{constructor(t){this.key=t}}class sm{constructor(t,e){this.query=t,this.oa=e,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Nd(),this.mutatedKeys=Nd(),this.ua=bd(t),this.ca=new Kg(this.ua)}get la(){return this.oa}ha(t,e){const n=e?e.Pa:new Gg,r=e?e.ca:this.ca;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const c=r.get(t),u=vd(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ua(u,a)>0||l&&this.ua(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{ca:s,Pa:n,Xi:o,mutatedKeys:i}}Ia(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const i=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const s=t.Pa.k_();s.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yc()}};return n(t)-n(e)}(t.type,e.type)||this.ua(t.doc,e.doc))),this.Ta(n),r=null!=r&&r;const o=e&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,l=a!==this._a;return this._a=a,0!==s.length||l?{snapshot:new Qg(this.query,t.ca,i,s,t.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:o}:{da:o}}U_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Gg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach((t=>this.oa=this.oa.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.oa=this.oa.delete(t))),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=Nd(),this.ca.forEach((t=>{this.Aa(t.key)&&(this.aa=this.aa.add(t.key))}));const e=[];return t.forEach((t=>{this.aa.has(t)||e.push(new im(t))})),this.aa.forEach((n=>{t.has(n)||e.push(new rm(n))})),e}Ra(t){this.oa=t.hs,this.aa=Nd();const e=this.ha(t.documents);return this.applyChanges(e,!0)}Va(){return Qg.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class om{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class am{constructor(t){this.key=t,this.ma=!1}}class lm{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new wd((t=>gd(t)),pd),this.pa=new Map,this.ya=new Set,this.wa=new $u(_u.comparator),this.Sa=new Map,this.ba=new Ap,this.Da={},this.Ca=new Map,this.va=Ep.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function cm(t,e){const n=Cm(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const t=await Gp(n.localStore,ud(e)),s=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await um(n,e,r,"current"===s,t.resumeToken),n.isPrimaryClient&&yg(n.remoteStore,t)}return i}async function um(t,e,n,r,i){t.Ma=(e,n,r)=>async function(t,e,n,r){let i=e.view.ha(n);i.Xi&&(i=await $p(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.ha(n,i)})));const s=r&&r.targetChanges.get(e.targetId),o=r&&null!=r.targetMismatches.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,s,o);return wm(t,e.targetId,a.da),a.snapshot}(t,e,n,r);const s=await $p(t.localStore,e,!0),o=new sm(e,s.hs),a=o.ha(s.documents),l=Rf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,l);wm(t,n,c.da);const u=new om(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}async function hm(t,e){const n=Jc(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((t=>!pd(t,e)))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Qp(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),bg(n.remoteStore,r.targetId),bm(n,r.targetId)})).catch(Iu)):(bm(n,r.targetId),await Qp(n.localStore,r.targetId,!0))}async function dm(t,e){const n=Jc(t);try{const t=await function(t,e){const n=Jc(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];e.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(t,s.addedDocuments,a))));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken(nh.EMPTY_BYTE_STRING,gu.min()).withLastLimboFreeSnapshotVersion(gu.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(t,c))}));let a=Ed(),l=Nd();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(qp(t,s,e.documentUpdates).next((t=>{a=t.cs,l=t.ls}))),!r.isEqual(gu.min())){const e=n.Qr.getLastRemoteSnapshotVersion(t).next((e=>n.Qr.setTargetsMetadata(t,t.currentSequenceNumber,r)));o.push(e)}return Au.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,l))).next((()=>a))})).then((t=>(n.ns=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Sa.get(e);r&&(Xc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.ma=!0:t.modifiedDocuments.size>0?Xc(r.ma):t.removedDocuments.size>0&&(Xc(r.ma),r.ma=!1))})),await Sm(n,t,e)}catch(t){await Iu(t)}}function fm(t,e,n){const r=Jc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=Jc(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.Q_)i.U_(e)&&(r=!0)})),r&&em(n)}(r.eventManager,e),t.length&&r.fa.u_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pm(t,e,n){const r=Jc(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let t=new $u(_u.comparator);t=t.insert(s,Rh.newNoDocument(s,gu.min()));const n=Nd().add(s),i=new Af(gu.min(),new Map,new $u(du),t,n);await dm(r,i),r.wa=r.wa.remove(s),r.Sa.delete(e),Em(r)}else await Qp(r.localStore,e,!1).then((()=>bm(r,e,n))).catch(Iu)}async function gm(t,e){const n=Jc(t),r=e.batch.batchId;try{const t=await function(t,e){const n=Jc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=Au.resolve();return s.forEach((t=>{o=o.next((()=>r.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);Xc(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Nd();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);ym(n,r,null),vm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sm(n,t)}catch(t){await Iu(t)}}async function mm(t,e,n){const r=Jc(t);try{const t=await function(t,e){const n=Jc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(Xc(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);ym(r,e,n),vm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sm(r,t)}catch(n){await Iu(n)}}function vm(t,e){(t.Ca.get(e)||[]).forEach((t=>{t.resolve()})),t.Ca.delete(e)}function ym(t,e,n){const r=Jc(t);let i=r.Da[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function bm(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach((e=>{t.ba.containsKey(e)||_m(t,e)}))}function _m(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);null!==n&&(bg(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Em(t))}function wm(t,e,n){for(const r of n)r instanceof rm?(t.ba.addReference(r.key,e),xm(t,r)):r instanceof im?(Kc("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||_m(t,r.key)):Yc()}function xm(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(Kc("SyncEngine","New document in limbo: "+n),t.ya.add(r),Em(t))}function Em(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new _u(vu.fromString(e)),r=t.va.next();t.Sa.set(r,new am(n)),t.wa=t.wa.insert(n,r),yg(t.remoteStore,new mp(ud(od(n.path)),r,"TargetPurposeLimboResolution",Uu._e))}}async function Sm(t,e,n){const r=Jc(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach(((t,a)=>{o.push(r.Ma(a,e,n).then((t=>{if((t||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){i.push(t);const e=jp.Ki(a.targetId,t);s.push(e)}})))})),await Promise.all(o),r.fa.u_(i),await async function(t,e){const n=Jc(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Au.forEach(e,(e=>Au.forEach(e.qi,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>Au.forEach(e.Qi,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!Du(t))throw t;Kc("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.ns.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(t,i)}}}(r.localStore,s))}async function km(t,e){const n=Jc(t);if(!n.currentUser.isEqual(e)){Kc("SyncEngine","User change. New user:",e.toKey());const t=await Wp(n.localStore,e);n.currentUser=e,function(t,e){t.Ca.forEach((t=>{t.forEach((t=>{t.reject(new tu(Zc.CANCELLED,e))}))})),t.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Sm(n,t.us)}}function Tm(t,e){const n=Jc(t),r=n.Sa.get(e);if(r&&r.ma)return Nd().add(r.key);{let t=Nd();const r=n.pa.get(e);if(!r)return t;for(const e of r){const r=n.ga.get(e);t=t.unionWith(r.view.la)}return t}}function Cm(t){const e=Jc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pm.bind(null,e),e.fa.u_=Zg.bind(null,e.eventManager),e.fa.xa=tm.bind(null,e.eventManager),e}function Im(t){const e=Jc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mm.bind(null,e),e}class Am{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=lg(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return Bp(this.persistence,new Vp,t.initialUser,this.serializer)}createPersistence(t){return new Mp(Fp.Hr,this.serializer)}createSharedClientState(t){return new Jp}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Rm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>fm(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=km.bind(null,this.syncEngine),await zg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Yg}createDatastore(t){const e=lg(t.databaseInfo.databaseId),n=function(t){return new og(t)}(t.databaseInfo);return function(t,e,n,r){return new fg(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,r,i){return new gg(t,e,n,r,i)}(this.localStore,this.datastore,t.asyncQueue,(t=>fm(this.syncEngine,t,0)),tg.D()?new tg:new Zp)}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new lm(t,e,n,r,i,s);return o&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t;await async function(t){const e=Jc(t);Kc("RemoteStore","RemoteStore shutting down."),e.v_.add(5),await vg(e),e.M_.shutdown(),e.x_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate()}}class Om{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):Gc("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class Nm{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Bc.UNAUTHENTICATED,this.clientId=hu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Kc("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Kc("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tu(Zc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new eu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=qg(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Pm(t,e){t.asyncQueue.verifyOperationInProgress(),Kc("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await Wp(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Dm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Lm(t);Kc("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>Vg(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>Vg(e.remoteStore,n))),t._onlineComponents=e}function Mm(t){return"FirebaseError"===t.name?t.code===Zc.FAILED_PRECONDITION||t.code===Zc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}async function Lm(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Kc("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Mm(n))throw n;Qc("Error using user provided cache. Falling back to memory cache: "+n),await Pm(t,new Am)}}else Kc("FirestoreClient","Using default OfflineComponentProvider"),await Pm(t,new Am);return t._offlineComponents}async function Fm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Kc("FirestoreClient","Using user provided OnlineComponentProvider"),await Dm(t,t._uninitializedComponentsProvider._online)):(Kc("FirestoreClient","Using default OnlineComponentProvider"),await Dm(t,new Rm))),t._onlineComponents}function jm(t){return Fm(t).then((t=>t.syncEngine))}async function Um(t){const e=await Fm(t),n=e.eventManager;return n.onListen=cm.bind(null,e.syncEngine),n.onUnlisten=hm.bind(null,e.syncEngine),n}function Vm(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new eu;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const s=new Om({next:s=>{e.enqueueAndForget((()=>Jg(t,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new tu(Zc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new tu(Zc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),o=new nm(od(n.path),s,{includeMetadataChanges:!0,Z_:!0});return Xg(t,o)}(await Um(t),t.asyncQueue,e,n,r))),r.promise}function zm(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new eu;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const s=new Om({next:n=>{e.enqueueAndForget((()=>Jg(t,o))),n.fromCache&&"server"===r.source?i.reject(new tu(Zc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),o=new nm(n,s,{includeMetadataChanges:!0,Z_:!0});return Xg(t,o)}(await Um(t),t.asyncQueue,e,n,r))),r.promise}function Bm(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Wm=new Map;function Hm(t,e,n){if(!n)throw new tu(Zc.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function qm(t){if(!_u.isDocumentKey(t))throw new tu(Zc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function Km(t){if(_u.isDocumentKey(t))throw new tu(Zc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function Gm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":Yc()}function Qm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new tu(Zc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gm(t);throw new tu(Zc.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}class $m{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new tu(Zc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new tu(Zc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new tu(Zc.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bm(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new tu(Zc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new tu(Zc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new tu(Zc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ym{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $m({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tu(Zc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new tu(Zc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $m(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new ru;switch(t.type){case"firstParty":return new au(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new tu(Zc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Wm.get(t);e&&(Kc("ComponentProvider","Removing Datastore"),Wm.delete(t),e.terminate())}(this),Promise.resolve()}}class Xm{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Xm(this.firestore,t,this._query)}}class Jm{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Jm(this.firestore,t,this._key)}}class Zm extends Xm{constructor(t,e,n){super(t,e,od(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Jm(this.firestore,null,new _u(t))}withConverter(t){return new Zm(this.firestore,t,this._path)}}function tv(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=ee(t),Hm("collection","path",e),t instanceof Ym){const n=vu.fromString(e,...r);return Km(n),new Zm(t,null,n)}{if(!(t instanceof Jm||t instanceof Zm))throw new tu(Zc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(vu.fromString(e,...r));return Km(n),new Zm(t.firestore,null,n)}}function ev(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=ee(t),1===arguments.length&&(e=hu.newId()),Hm("doc","path",e),t instanceof Ym){const n=vu.fromString(e,...r);return qm(n),new Jm(t,null,new _u(n))}{if(!(t instanceof Jm||t instanceof Zm))throw new tu(Zc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(vu.fromString(e,...r));return qm(n),new Jm(t.firestore,t instanceof Zm?t.converter:null,new _u(n))}}class nv{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new cg(this,"async_queue_retry"),this._u=()=>{const t=ag();t&&Kc("AsyncQueue","Visibility state changed to "+t.visibilityState),this.jo.Ko()};const t=ag();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const e=ag();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise((()=>{}));const e=new eu;return this.uu((()=>this.tu&&this.su?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.eu.push(t),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(GI){if(!Du(GI))throw GI;Kc("AsyncQueue","Operation failed with retryable error: "+GI)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(t){const e=this.Xa.then((()=>(this.iu=!0,t().catch((t=>{this.ru=t,this.iu=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Gc("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.iu=!1,t))))));return this.Xa=e,e}enqueueAfterDelay(t,e,n){this.au(),this.ou.indexOf(t)>-1&&(e=0);const r=Hg.createAndSchedule(this,t,e,n,(t=>this.lu(t)));return this.nu.push(r),r}au(){this.ru&&Yc()}verifyOperationInProgress(){}async hu(){let t;do{t=this.Xa,await t}while(t!==this.Xa)}Pu(t){for(const e of this.nu)if(e.timerId===t)return!0;return!1}Iu(t){return this.hu().then((()=>{this.nu.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.nu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.hu()}))}Tu(t){this.ou.push(t)}lu(t){const e=this.nu.indexOf(t);this.nu.splice(e,1)}}function rv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class iv extends Ym{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new nv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||av(this),this._firestoreClient.terminate()}}function sv(t,e){const n="string"==typeof t?t:e||"(default)",r=Ve("object"==typeof t?t:qe(),"firestore").getImmediate({identifier:n});if(!r._initialized){const t=Ft("firestore");t&&function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(t=Qm(t,Ym))._getSettings(),o="".concat(e,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=Bc.MOCK_USER;else{e=zt(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new tu(Zc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Bc(s)}t._authCredentials=new iu(new nu(e,n))}}(r,...t)}return r}function ov(t){return t._firestoreClient||av(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function av(t){var e,n,r;const i=t._freezeSettings(),s=function(t,e,n,r){return new uh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Bm(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Nm(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class lv{constructor(t){this._byteString=t}static fromBase64String(t){try{return new lv(nh.fromBase64String(t))}catch(t){throw new tu(Zc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new lv(nh.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class cv{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let r=0;r<e.length;++r)if(0===e[r].length)throw new tu(Zc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bu(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class uv{constructor(t){this._methodName=t}}class hv{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new tu(Zc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new tu(Zc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return du(this._lat,t._lat)||du(this._long,t._long)}}const dv=/^__.*__$/;class fv{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new lf(t,this.data,this.fieldMask,e,this.fieldTransforms):new af(t,this.data,e,this.fieldTransforms)}}class pv{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new lf(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function gv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yc()}}class mv{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new mv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Au({path:n,Vu:!1});return r.mu(t),r}fu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return Nv(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(0===t.length)throw this.pu("Document fields must not be empty");if(gv(this.du)&&dv.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class vv{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||lg(t)}Su(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mv({du:t,methodName:e,wu:n,path:bu.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yv(t){const e=t._freezeSettings(),n=lg(t._databaseId);return new vv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bv(t,e,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);Iv("Data must be an object, but it was:",o,r);const a=Tv(r,o);let l,c;if(s.merge)l=new th(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=Av(e,r,n);if(!o.contains(i))throw new tu(Zc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Pv(t,i)||t.push(i)}l=new th(t),c=o.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,c=o.fieldTransforms;return new fv(new Ih(a),l,c)}class _v extends uv{_toFieldTransform(t){if(2!==t.du)throw 1===t.du?t.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):t.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _v}}class wv extends uv{_toFieldTransform(t){return new Yd(t.path,new Bd)}isEqual(t){return t instanceof wv}}function xv(t,e,n,r){const i=t.Su(1,e,n);Iv("Data must be an object, but it was:",i,r);const s=[],o=Ih.empty();Gu(r,((t,r)=>{const a=Ov(e,t,n);r=ee(r);const l=i.fu(a);if(r instanceof _v)s.push(a);else{const t=kv(r,l);null!=t&&(s.push(a),o.set(a,t))}}));const a=new th(s);return new pv(o,a,i.fieldTransforms)}function Ev(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[Av(e,r,n)],l=[i];if(s.length%2!=0)throw new tu(Zc.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Av(e,s[d])),l.push(s[d+1]);const c=[],u=Ih.empty();for(let d=a.length-1;d>=0;--d)if(!Pv(c,a[d])){const t=a[d];let e=l[d];e=ee(e);const n=o.fu(t);if(e instanceof _v)c.push(t);else{const r=kv(e,n);null!=r&&(c.push(t),u.set(t,r))}}const h=new th(c);return new pv(u,h,o.fieldTransforms)}function Sv(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kv(n,t.Su(r?4:3,e))}function kv(t,e){if(Cv(t=ee(t)))return Iv("Unsupported field value:",e,t),Tv(t,e);if(t instanceof uv)return function(t,e){if(!gv(e.du))throw e.pu("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.pu("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=kv(i,e.gu(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=ee(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Fd(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=pu.fromDate(t);return{timestampValue:Wf(e.serializer,n)}}if(t instanceof pu){const n=new pu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wf(e.serializer,n)}}if(t instanceof hv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof lv)return{bytesValue:Hf(e.serializer,t._byteString)};if(t instanceof Jm){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Gf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.pu("Unsupported field value: ".concat(Gm(t)))}(t,e)}function Tv(t,e){const n={};return Qu(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gu(t,((t,r)=>{const i=kv(r,e.Ru(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Cv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof pu||t instanceof hv||t instanceof lv||t instanceof Jm||t instanceof uv)}function Iv(t,e,n){if(!Cv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=Gm(n);throw"an object"===r?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Av(t,e,n){if((e=ee(e))instanceof cv)return e._internalPath;if("string"==typeof e)return Ov(t,e);throw Nv("Field path arguments must be of type string or ",t,!1,void 0,n)}const Rv=new RegExp("[~\\*/\\[\\]]");function Ov(t,e,n){if(e.search(Rv)>=0)throw Nv("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new cv(...e.split("."))._internalPath}catch(Ds){throw Nv("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function Nv(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new tu(Zc.INVALID_ARGUMENT,a+t+l)}function Pv(t,e){return t.some((t=>t.isEqual(e)))}class Dv{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Jm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Mv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Lv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Mv extends Dv{data(){return super.data()}}function Lv(t,e){return"string"==typeof e?Ov(t,e):e instanceof cv?e._internalPath:e._delegate._internalPath}function Fv(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new tu(Zc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jv{}class Uv extends jv{}function Vv(t,e){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];e instanceof jv&&n.push(e),n=n.concat(i),function(t){const e=t.filter((t=>t instanceof Wv)).length,n=t.filter((t=>t instanceof zv)).length;if(e>1||e>0&&n>0)throw new tu(Zc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)t=o._apply(t);return t}class zv extends Uv{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new zv(t,e,n)}_apply(t){const e=this._parse(t);return Kv(t._query,e),new Xm(t.firestore,t.converter,dd(t._query,e))}_parse(t){const e=yv(t.firestore),n=function(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new tu(Zc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){qv(o,s);const e=[];for(const n of o)e.push(Hv(r,t,n));a={arrayValue:{values:e}}}else a=Hv(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||qv(o,s),a=Sv(n,e,o,"in"===s||"not-in"===s);return Fh.create(i,s,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function Bv(t,e,n){const r=e,i=Lv("where",t);return zv._create(i,r,n)}class Wv extends jv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Wv(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:jh.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const i of r)Kv(n,i),n=dd(n,i)}(t._query,e),new Xm(t.firestore,t.converter,dd(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Hv(t,e,n){if("string"==typeof(n=ee(n))){if(""===n)throw new tu(Zc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ld(e)&&-1!==n.indexOf("/"))throw new tu(Zc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=e.path.child(vu.fromString(n));if(!_u.isDocumentKey(r))throw new tu(Zc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return _h(t,new _u(r))}if(n instanceof Jm)return _h(t,n._key);throw new tu(Zc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Gm(n),"."))}function qv(t,e){if(!Array.isArray(t)||0===t.length)throw new tu(Zc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function Kv(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new tu(Zc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new tu(Zc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Gv{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(fh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sh(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(oh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Yc()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Gu(t,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new hv(sh(t.latitude),sh(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=lh(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ch(t));default:return null}}convertTimestamp(t){const e=ih(t);return new pu(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=vu.fromString(t);Xc(gp(n));const r=new hh(n.get(1),n.get(3)),i=new _u(n.popFirst(5));return r.isEqual(e)||Gc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),i}}function Qv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class $v{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yv extends Dv{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new Xv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Lv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Xv extends Yv{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class Jv{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new $v(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Xv(this._firestore,this._userDataWriter,n.key,n,new $v(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tu(Zc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new Xv(t._firestore,t._userDataWriter,n.doc.key,n.doc,new $v(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new Xv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new $v(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Zv(e.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Zv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yc()}}function ty(t){t=Qm(t,Jm);const e=Qm(t.firestore,iv);return Vm(ov(e),t._key).then((n=>ay(e,t,n)))}class ey extends Gv{constructor(t){super(),this.firestore=t}convertBytes(t){return new lv(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jm(this.firestore,null,e)}}function ny(t){t=Qm(t,Xm);const e=Qm(t.firestore,iv),n=ov(e),r=new ey(e);return Fv(t._query),zm(n,t._query).then((n=>new Jv(e,r,t,n)))}function ry(t,e,n){t=Qm(t,Jm);const r=Qm(t.firestore,iv),i=Qv(t.converter,e,n);return oy(r,[bv(yv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Jd.none())])}function iy(t,e,n){t=Qm(t,Jm);const r=Qm(t.firestore,iv),i=yv(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(e=ee(e))||e instanceof cv?Ev(i,"updateDoc",t._key,e,n,a):xv(i,"updateDoc",t._key,e),oy(r,[s.toMutation(t._key,Jd.exists(!0))])}function sy(t){return oy(Qm(t.firestore,iv),[new df(t._key,Jd.none())])}function oy(t,e){return function(t,e){const n=new eu;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=Im(t);try{const t=await function(t,e){const n=Jc(t),r=pu.now(),i=e.reduce(((t,e)=>t.add(e.key)),Nd());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=Ed(),l=Nd();return n.os.getEntries(t,i).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((i=>{s=i;const o=[];for(const t of e){const e=sf(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new lf(t.key,e,Ah(e.value.mapValue),Jd.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,o,e)})).next((e=>{o=e;const r=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Td(s)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Da[t.currentUser.toKey()];r||(r=new $u(du)),r=r.insert(e,n),t.Da[t.currentUser.toKey()]=r}(r,t.batchId,n),await Sm(r,t.changes),await Og(r.remoteStore)}catch(t){const e=qg(t,"Failed to persist write");n.reject(e)}}(await jm(t),e,n))),n.promise}(ov(t),e)}function ay(t,e,n){const r=n.docs.get(e._key),i=new ey(t);return new Yv(t,i,e._key,r,new $v(n.hasPendingWrites,n.fromCache),e.converter)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){Wc=t}(We),Ue(new ne("firestore",((t,n)=>{let{instanceIdentifier:r,options:i}=n;const s=t.getProvider("app").getImmediate(),o=new iv(new su(t.getProvider("auth-internal")),new cu(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new tu(Zc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hh(t.options.projectId,e)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ke(zc,"4.4.3",t),Ke(zc,"4.4.3","esm2017")}();const ly="firebasestorage.googleapis.com",cy="storageBucket";class uy extends qt{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(fy(t),"Firebase Storage: ".concat(e," (").concat(fy(t),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,uy.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return fy(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var hy,dy;function fy(t){return"storage/"+t}function py(){return new uy(hy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function gy(){return new uy(hy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function my(){return new uy(hy.CANCELED,"User canceled the upload/download.")}function vy(){return new uy(hy.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yy(t){return new uy(hy.INVALID_ARGUMENT,t)}function by(){return new uy(hy.APP_DELETED,"The Firebase app was deleted.")}function _y(t,e){return new uy(hy.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wy(t){throw new uy(hy.INTERNAL_ERROR,"Internal error: "+t)}!function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(hy||(hy={}));class xy{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=xy.makeFromUrl(t,e)}catch(GI){return new xy(t,"")}if(""===n.path)return n;throw r=t,new uy(hy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(t,e){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}const o=e.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(e===ly?"(?:storage.googleapis.com|storage.cloud.google.com)":e,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const e=a[l],r=e.regex.exec(t);if(r){const t=r[e.indices.bucket];let i=r[e.indices.path];i||(i=""),n=new xy(t,i),e.postModify(n);break}}if(null==n)throw function(t){return new uy(hy.INVALID_URL,"Invalid URL '"+t+"'.")}(t);return n}}class Ey{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(){}}function Sy(t){return"string"===typeof t||t instanceof String}function ky(t){return Ty()&&t instanceof Blob}function Ty(){return"undefined"!==typeof Blob}function Cy(t,e,n,r){if(r<e)throw yy("Invalid value for '".concat(t,"'. Expected ").concat(e," or greater."));if(r>n)throw yy("Invalid value for '".concat(t,"'. Expected ").concat(n," or less."))}function Iy(t,e,n){let r=e;return null==n&&(r="https://".concat(e)),"".concat(n,"://").concat(r,"/v0").concat(t)}function Ay(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1),n}function Ry(t,e){const n=t>=500&&t<600,r=-1!==[408,429].indexOf(t),i=-1!==e.indexOf(t);return n||r||i}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(dy||(dy={}));class Oy{constructor(t,e,n,r,i,s,o,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{if(e)return void t(!1,new Ny(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=t=>{const e=t.loaded,n=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const e=n.getErrorCode()===dy.NO_ERROR,i=n.getStatus();if(!e||Ry(i,this.additionalRetryCodes_)&&this.retry){const e=n.getErrorCode()===dy.ABORT;return void t(!1,new Ny(!1,null,e))}const s=-1!==this.successCodes_.indexOf(i);t(!0,new Ny(s,n))}))},e=(t,e)=>{const n=this.resolve_,r=this.reject_,i=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(i,i.getResponse());!function(t){return void 0!==t}(t)?n():n(t)}catch(GI){r(GI)}else if(null!==i){const t=py();t.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,t)):r(t)}else if(e.canceled){r(this.appDelete_?by():my())}else{r(gy())}};this.canceled_?e(0,new Ny(!1,null,!0)):this.backoffId_=function(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(null,n)}}function h(e){i=setTimeout((()=>{i=null,t(f,l())}),e)}function d(){s&&clearTimeout(s)}function f(t){if(c)return void d();for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(t)return d(),void u.call(null,t,...n);if(l()||o)return d(),void u.call(null,t,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function g(t){p||(p=!0,d(),c||(null!==i?(t||(a=2),clearTimeout(i),h(0)):t||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,g(!0)}),n),g}(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ny{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function Py(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Dy(){const t=Py();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(void 0!==t){const e=new t;for(let t=0;t<n.length;t++)e.append(n[t]);return e.getBlob()}if(Ty())return new Blob(n);throw new uy(hy.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function My(t){if("undefined"===typeof atob)throw e="base-64",new uy(hy.UNSUPPORTED_ENVIRONMENT,"".concat(e," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var e;return atob(t)}const Ly={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fy{constructor(t,e){this.data=t,this.contentType=e||null}}function jy(t,e){switch(t){case Ly.RAW:return new Fy(Uy(e));case Ly.BASE64:case Ly.BASE64URL:return new Fy(Vy(t,e));case Ly.DATA_URL:return new Fy(function(t){const e=new zy(t);return e.base64?Vy(Ly.BASE64,e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(GI){throw _y(Ly.DATA_URL,"Malformed data URL.")}return Uy(e)}(e.rest)}(e),new zy(e).contentType)}throw py()}function Uy(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Vy(t,e){switch(t){case Ly.BASE64:{const n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){throw _y(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Ly.BASE64URL:{const n=-1!==e.indexOf("+"),r=-1!==e.indexOf("/");if(n||r){throw _y(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=My(e)}catch(GI){if(GI.message.includes("polyfill"))throw GI;throw _y(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class zy{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw _y(Ly.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;null!=n&&(this.base64=function(t,e){if(!(t.length>=e.length))return!1;return t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}class By{constructor(t,e){let n=0,r="";ky(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(ky(this.data_)){const n=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,t,e);return null===n?null:new By(n)}{const n=new Uint8Array(this.data_.buffer,t,e-t);return new By(n,!0)}}static getBlob(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Ty()){const t=e.map((t=>t instanceof By?t.data_:t));return new By(Dy.apply(null,t))}{const t=e.map((t=>Sy(t)?jy(Ly.RAW,t).data:t.data_));let n=0;t.forEach((t=>{n+=t.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((t=>{for(let e=0;e<t.length;e++)r[i++]=t[e]})),new By(r,!0)}}uploadData(){return this.data_}}function Wy(t){let e;try{e=JSON.parse(t)}catch(GI){return null}return function(t){return"object"===typeof t&&!Array.isArray(t)}(e)?e:null}function Hy(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function qy(t,e){return e}class Ky{constructor(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||qy}}let Gy=null;function Qy(){if(Gy)return Gy;const t=[];t.push(new Ky("bucket")),t.push(new Ky("generation")),t.push(new Ky("metageneration")),t.push(new Ky("name","fullPath",!0));const e=new Ky("name");e.xform=function(t,e){return function(t){return!Sy(t)||t.length<2?t:Hy(t)}(e)},t.push(e);const n=new Ky("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Ky("timeCreated")),t.push(new Ky("updated")),t.push(new Ky("md5Hash",null,!0)),t.push(new Ky("cacheControl",null,!0)),t.push(new Ky("contentDisposition",null,!0)),t.push(new Ky("contentEncoding",null,!0)),t.push(new Ky("contentLanguage",null,!0)),t.push(new Ky("contentType",null,!0)),t.push(new Ky("metadata","customMetadata",!0)),Gy=t,Gy}function $y(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const t=n[s];r[t.local]=t.xform(r,e[t.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const n=t.bucket,r=t.fullPath,i=new xy(n,r);return e._makeStorageReference(i)}})}(r,t),r}function Yy(t,e,n){const r=Wy(e);if(null===r)return null;return $y(t,r,n)}function Xy(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const r=e[i];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class Jy{constructor(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Zy(t){if(!t)throw py()}function tb(t,e){return function(n,r){const i=Yy(t,r,e);return Zy(null!==i),i}}function eb(t,e){return function(n,r){const i=Yy(t,r,e);return Zy(null!==i),function(t,e,n,r){const i=Wy(e);if(null===i)return null;if(!Sy(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((e=>{const i=t.bucket,s=t.fullPath;return Iy("/b/"+o(i)+"/o/"+o(s),n,r)+Ay({alt:"media",token:e})}))[0]}(i,r,t.host,t._protocol)}}function nb(t){return function(e,n){let r;var i,s;return 401===e.getStatus()?r=e.getErrorText().includes("Firebase App Check token is invalid")?new uy(hy.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new uy(hy.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(s=t.bucket,r=new uy(hy.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new uy(hy.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=e.getStatus(),r.serverResponse=n.serverResponse,r}}function rb(t){const e=nb(t);return function(n,r){let i=e(n,r);var s;return 404===n.getStatus()&&(s=t.path,i=new uy(hy.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function ib(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}function sb(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;const l=ib(e,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Xy(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=By.getBlob(c,r,u);if(null===h)throw vy();const d={name:l.fullPath},f=Iy(s,t.host,t._protocol),p=t.maxUploadRetryTime,g=new Jy(f,"POST",tb(t,n),p);return g.urlParams=d,g.headers=o,g.body=h.uploadData(),g.errorHandler=nb(e),g}let ob=null;class ab{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dy.NO_ERROR,this.sendPromise_=new Promise((t=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=dy.ABORT,t()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=dy.NETWORK_ERROR,t()})),this.xhr_.addEventListener("load",(()=>{t()}))}))}send(t,e,n,r){if(this.sent_)throw wy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(GI){return-1}}getResponse(){if(!this.sent_)throw wy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class lb extends ab{initXhr(){this.xhr_.responseType="text"}}function cb(){return ob?ob():new lb}class ub{constructor(t,e){this._service=t,this._location=e instanceof xy?e:xy.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new ub(t,e)}get root(){const t=new xy(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hy(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new xy(this._location.bucket,t);return new ub(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new uy(hy.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function hb(t,e,n){t._throwIfRoot("uploadBytes");const r=sb(t.storage,t._location,Qy(),new By(e,!0),n);return t.storage.makeRequestWithTokens(r,cb).then((e=>({metadata:e,ref:t})))}function db(t){t._throwIfRoot("getDownloadURL");const e=function(t,e,n){const r=Iy(e.fullServerUrl(),t.host,t._protocol),i=t.maxOperationRetryTime,s=new Jy(r,"GET",eb(t,n),i);return s.errorHandler=rb(e),s}(t.storage,t._location,Qy());return t.storage.makeRequestWithTokens(e,cb).then((t=>{if(null===t)throw new uy(hy.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t}))}function fb(t,e){const n=function(t,e){const n=e.split("/").filter((t=>t.length>0)).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new xy(t._location.bucket,n);return new ub(t.storage,r)}function pb(t,e){if(t instanceof vb){const n=t;if(null==n._bucket)throw new uy(hy.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cy+"' property when initializing the app?");const r=new ub(n,n._bucket);return null!=e?pb(r,e):r}return void 0!==e?fb(t,e):t}function gb(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof vb)return new ub(t,e);throw yy("To use ref(service, url), the first argument must be a Storage instance.")}return pb(t,e)}function mb(t,e){const n=null===e||void 0===e?void 0:e[cy];return null==n?null:xy.makeFromBucketSpec(n,t)}class vb{constructor(t,e,n,r,i){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=ly,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?xy.makeFromBucketSpec(r,this._host):mb(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=xy.makeFromBucketSpec(this._url,t):this._bucket=mb(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Cy("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Cy("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ub(this,t)}_makeRequest(t,e,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Ey(by());{const s=function(t,e,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=Ay(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(c,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new Oy(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(t,this._appId,n,r,e,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(t,e){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,r).getPromise()}}const yb="@firebase/storage",bb="0.12.2",_b="storage";function wb(t,e){let{instanceIdentifier:n}=e;const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new vb(r,i,s,n,We)}Ue(new ne(_b,wb,"PUBLIC").setMultipleInstances(!0)),Ke(yb,bb,""),Ke(yb,bb,"esm2017");const xb=He({apiKey:"AIzaSyABNECZzFs3Y-av6ejhQSC1d_6fMSN0Ok0",authDomain:"watt-street.firebaseapp.com",projectId:"watt-street",storageBucket:"watt-street.appspot.com",messagingSenderId:"62980562466",appId:"1:62980562466:web:889f6e2a2bce04a13bb47b",measurementId:"G-RMXHCLHQX6"}),Eb=bs(xb),Sb=new zr,kb=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe(),e=arguments.length>1?arguments[1]:void 0;t=ee(t);const n=Ve(t,_b).getImmediate({identifier:e}),r=Ft("storage");return r&&function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.host="".concat(e,":").concat(n),t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"===typeof i?i:zt(i,t.app.options.projectId))}(t,e,n,r)}(n,...r),n}(xb),Tb=sv(xb);var Cb=n(579);const Ib=function(){const[t,e]=(0,r.useState)(!1),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[g,m]=(0,r.useState)(!1),v=J(),y=async()=>{try{const t=await async function(t,e,n){const r=vr(t);gn(t,e,jr);const i=Ti(r,n);return new Pi(r,"signInViaPopup",e,i).executeNotNull()}(Eb,Sb);console.log("Signed in with Google successfully");const e=ev(Tb,"users",t.user.uid),n=await ty(e);n.exists()?n.data().address&&n.data().phoneNumber&&n.data().deviceID?v("/dashboard"):v("/additional-info",{state:{userId:t.user.uid}}):(await ry(e,{email:t.user.email,name:t.user.displayName,address:null,phoneNumber:null,deviceID:null}),v("/additional-info",{state:{userId:t.user.uid}}))}catch(t){console.error("Error signing in with Google:",t.message)}};return(0,Cb.jsx)("div",{className:"auth-form",children:(0,Cb.jsxs)("div",{className:"container ".concat(t?"right-panel-active":""),id:"container",children:[(0,Cb.jsx)("div",{className:"form-container sign-up-container",children:(0,Cb.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await async function(t,e,n){const r=vr(t),i=Sr(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hr),s=await i.catch((e=>{throw e.code==="auth/".concat("password-does-not-meet-requirements")&&Zr(t),e})),o=await qr._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(Eb,n,s);await ti(Eb,g?si:ai),console.log("Account created successfully"),await ry(ev(Tb,"users",t.user.uid),{name:a,email:n,address:c,phoneNumber:h,deviceID:f}),console.log("User profile created in Firestore"),v("/dashboard")}catch(e){console.error("Error creating account:",e.message)}},children:[(0,Cb.jsx)("h1",{children:"Create Account"}),(0,Cb.jsxs)("div",{className:"social-container",children:[(0,Cb.jsx)("button",{className:"social",onClick:y,children:(0,Cb.jsxs)("svg",{viewBox:"0 0 256 262",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",children:[(0,Cb.jsx)("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027",fill:"#4285F4"}),(0,Cb.jsx)("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1",fill:"#34A853"}),(0,Cb.jsx)("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782",fill:"#FBBC05"}),(0,Cb.jsx)("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251",fill:"#EB4335"})]})}),"                    "]}),(0,Cb.jsx)("input",{className:"createinput",type:"text",placeholder:"Address",value:c,onChange:t=>u(t.target.value)}),(0,Cb.jsx)("input",{className:"createinput",type:"text",placeholder:"Name",value:a,onChange:t=>l(t.target.value)}),(0,Cb.jsx)("input",{className:"createinput",type:"text",placeholder:"Phone Number",value:h,onChange:t=>d(t.target.value)}),(0,Cb.jsx)("input",{className:"createinput",type:"text",placeholder:"Device ID",value:f,onChange:t=>p(t.target.value)})," ",(0,Cb.jsx)("input",{className:"createinput",type:"email",placeholder:"Email",value:n,onChange:t=>i(t.target.value)}),(0,Cb.jsx)("input",{className:"createinput",type:"password",placeholder:"Password",value:s,onChange:t=>o(t.target.value)}),(0,Cb.jsx)("button",{children:"Sign Up"})]})}),(0,Cb.jsx)("div",{className:"form-container sign-in-container",children:(0,Cb.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await ti(Eb,g?si:ai),await function(t,e,n){return Jr(ee(t),Fr.credential(e,n)).catch((async e=>{throw e.code==="auth/".concat("password-does-not-meet-requirements")&&Zr(t),e}))}(Eb,n,s),console.log("Signed in with email successfully"),v("/dashboard")}catch(e){console.error("Error signing in:",e.message)}},children:[(0,Cb.jsx)("h1",{children:"Sign in"}),(0,Cb.jsxs)("div",{className:"social-container",children:[(0,Cb.jsx)("button",{className:"social",onClick:y,children:(0,Cb.jsxs)("svg",{viewBox:"0 0 256 262",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",children:[(0,Cb.jsx)("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027",fill:"#4285F4"}),(0,Cb.jsx)("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1",fill:"#34A853"}),(0,Cb.jsx)("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782",fill:"#FBBC05"}),(0,Cb.jsx)("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251",fill:"#EB4335"})]})}),"                    "]}),(0,Cb.jsx)("input",{className:"logininput",type:"email",placeholder:"Email",value:n,onChange:t=>i(t.target.value)}),(0,Cb.jsx)("input",{className:"logininput",type:"password",placeholder:"Password",value:s,onChange:t=>o(t.target.value)}),(0,Cb.jsx)("a",{href:"#",children:"Forgot your password?"}),(0,Cb.jsxs)("div",{className:"custom-checkbox-container",children:[(0,Cb.jsx)("input",{type:"checkbox",id:"rememberMe",checked:g,onChange:t=>m(t.target.checked)}),(0,Cb.jsx)("label",{htmlFor:"rememberMe",children:"Remember Me"})]}),(0,Cb.jsx)("button",{children:"Sign In"})]})}),(0,Cb.jsx)("div",{className:"overlay-container",children:(0,Cb.jsxs)("div",{className:"overlay",children:[(0,Cb.jsxs)("div",{className:"overlay-panel overlay-left",children:[(0,Cb.jsx)("h1",{className:"signupheader",children:"Welcome Back!"}),(0,Cb.jsx)("p",{children:"Please login to see your passive income"}),(0,Cb.jsx)("button",{className:"ghost",id:"signIn",onClick:()=>e(!1),children:"Sign In"})]}),(0,Cb.jsxs)("div",{className:"overlay-panel overlay-right",children:[(0,Cb.jsx)("h1",{className:"signupheader",children:"Hello, Friend!"}),(0,Cb.jsx)("p",{children:"Start your sol49 journey"}),(0,Cb.jsx)("button",{className:"ghost",id:"signUp",onClick:()=>e(!0),children:"Sign Up"})]})]})})]})})};function Ab(t,e){return function(){return t.apply(e,arguments)}}const{toString:Rb}=Object.prototype,{getPrototypeOf:Ob}=Object,Nb=(Pb=Object.create(null),t=>{const e=Rb.call(t);return Pb[e]||(Pb[e]=e.slice(8,-1).toLowerCase())});var Pb;const Db=t=>(t=t.toLowerCase(),e=>Nb(e)===t),Mb=t=>e=>typeof e===t,{isArray:Lb}=Array,Fb=Mb("undefined");const jb=Db("ArrayBuffer");const Ub=Mb("string"),Vb=Mb("function"),zb=Mb("number"),Bb=t=>null!==t&&"object"===typeof t,Wb=t=>{if("object"!==Nb(t))return!1;const e=Ob(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Hb=Db("Date"),qb=Db("File"),Kb=Db("Blob"),Gb=Db("FileList"),Qb=Db("URLSearchParams");function $b(t,e){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),Lb(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{const r=i?Object.getOwnPropertyNames(t):Object.keys(t),s=r.length;let o;for(n=0;n<s;n++)o=r[n],e.call(null,t[o],o,t)}}function Yb(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,i=n.length;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Xb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Jb=t=>!Fb(t)&&t!==Xb;const Zb=(t_="undefined"!==typeof Uint8Array&&Ob(Uint8Array),t=>t_&&t instanceof t_);var t_;const e_=Db("HTMLFormElement"),n_=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),r_=Db("RegExp"),i_=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};$b(n,((n,i)=>{let s;!1!==(s=e(n,i,t))&&(r[i]=s||n)})),Object.defineProperties(t,r)},s_="abcdefghijklmnopqrstuvwxyz",o_="0123456789",a_={DIGIT:o_,ALPHA:s_,ALPHA_DIGIT:s_+s_.toUpperCase()+o_};const l_=Db("AsyncFunction"),c_={isArray:Lb,isArrayBuffer:jb,isBuffer:function(t){return null!==t&&!Fb(t)&&null!==t.constructor&&!Fb(t.constructor)&&Vb(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||Vb(t.append)&&("formdata"===(e=Nb(t))||"object"===e&&Vb(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&jb(t.buffer),e},isString:Ub,isNumber:zb,isBoolean:t=>!0===t||!1===t,isObject:Bb,isPlainObject:Wb,isUndefined:Fb,isDate:Hb,isFile:qb,isBlob:Kb,isRegExp:r_,isFunction:Vb,isStream:t=>Bb(t)&&Vb(t.pipe),isURLSearchParams:Qb,isTypedArray:Zb,isFileList:Gb,forEach:$b,merge:function t(){const{caseless:e}=Jb(this)&&this||{},n={},r=(r,i)=>{const s=e&&Yb(n,i)||i;Wb(n[s])&&Wb(r)?n[s]=t(n[s],r):Wb(r)?n[s]=t({},r):Lb(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&$b(arguments[i],r);return n},extend:function(t,e,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return $b(e,((e,r)=>{n&&Vb(e)?t[r]=Ab(e,n):t[r]=e}),{allOwnKeys:r}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],r&&!r(o,t,e)||a[o]||(e[o]=t[o],a[o]=!0);t=!1!==n&&Ob(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:Nb,kindOfTest:Db,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(Lb(t))return t;let e=t.length;if(!zb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:e_,hasOwnProperty:n_,hasOwnProp:n_,reduceDescriptors:i_,freezeMethods:t=>{i_(t,((e,n)=>{if(Vb(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];Vb(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return Lb(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:Yb,global:Xb,isContextDefined:Jb,ALPHABET:a_,generateString:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a_.ALPHA_DIGIT,n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n},isSpecCompliantForm:function(t){return!!(t&&Vb(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(Bb(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const i=Lb(t)?[]:{};return $b(t,((t,e)=>{const s=n(t,r+1);!Fb(s)&&(i[e]=s)})),e[r]=void 0,i}}return t};return n(t,0)},isAsyncFn:l_,isThenable:t=>t&&(Bb(t)||Vb(t))&&Vb(t.then)&&Vb(t.catch)};function u_(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}c_.inherits(u_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:c_.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const h_=u_.prototype,d_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{d_[t]={value:t}})),Object.defineProperties(u_,d_),Object.defineProperty(h_,"isAxiosError",{value:!0}),u_.from=(t,e,n,r,i,s)=>{const o=Object.create(h_);return c_.toFlatObject(t,o,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),u_.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const f_=u_;function p_(t){return c_.isPlainObject(t)||c_.isArray(t)}function g_(t){return c_.endsWith(t,"[]")?t.slice(0,-2):t}function m_(t,e,n){return t?t.concat(e).map((function(t,e){return t=g_(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const v_=c_.toFlatObject(c_,{},null,(function(t){return/^is[A-Z]/.test(t)}));const y_=function(t,e,n){if(!c_.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(n=c_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!c_.isUndefined(e[t])}))).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&c_.isSpecCompliantForm(e);if(!c_.isFunction(i))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(c_.isDate(t))return t.toISOString();if(!a&&c_.isBlob(t))throw new f_("Blob is not supported. Use a Buffer instead.");return c_.isArrayBuffer(t)||c_.isTypedArray(t)?a&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,i){let a=t;if(t&&!i&&"object"===typeof t)if(c_.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(c_.isArray(t)&&function(t){return c_.isArray(t)&&!t.some(p_)}(t)||(c_.isFileList(t)||c_.endsWith(n,"[]"))&&(a=c_.toArray(t)))return n=g_(n),a.forEach((function(t,r){!c_.isUndefined(t)&&null!==t&&e.append(!0===o?m_([n],r,s):null===o?n:n+"[]",l(t))})),!1;return!!p_(t)||(e.append(m_(i,n,s),l(t)),!1)}const u=[],h=Object.assign(v_,{defaultVisitor:c,convertValue:l,isVisitable:p_});if(!c_.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!c_.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),c_.forEach(n,(function(n,s){!0===(!(c_.isUndefined(n)||null===n)&&i.call(e,n,c_.isString(s)?s.trim():s,r,h))&&t(n,r?r.concat(s):[s])})),u.pop()}}(t),e};function b_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function __(t,e){this._pairs=[],t&&y_(t,this,e)}const w_=__.prototype;w_.append=function(t,e){this._pairs.push([t,e])},w_.toString=function(t){const e=t?function(e){return t.call(this,e,b_)}:b_;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const x_=__;function E_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function S_(t,e,n){if(!e)return t;const r=n&&n.encode||E_,i=n&&n.serialize;let s;if(s=i?i(e,n):c_.isURLSearchParams(e)?e.toString():new x_(e,n).toString(r),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}const k_=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){c_.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},T_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},C_={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:x_,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},I_="undefined"!==typeof window&&"undefined"!==typeof document,A_=(R_="undefined"!==typeof navigator&&navigator.product,I_&&["ReactNative","NativeScript","NS"].indexOf(R_)<0);var R_;const O_="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,N_={...t,...C_};const P_=function(t){function e(t,n,r,i){let s=t[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=t.length;if(s=!s&&c_.isArray(r)?r.length:s,a)return c_.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&c_.isObject(r[s])||(r[s]=[]);return e(t,n,r[s],i)&&c_.isArray(r[s])&&(r[s]=function(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}(r[s])),!o}if(c_.isFormData(t)&&c_.isFunction(t.entries)){const n={};return c_.forEachEntry(t,((t,r)=>{e(function(t){return c_.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null};const D_={transitional:T_,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,i=c_.isObject(t);i&&c_.isHTMLForm(t)&&(t=new FormData(t));if(c_.isFormData(t))return r?JSON.stringify(P_(t)):t;if(c_.isArrayBuffer(t)||c_.isBuffer(t)||c_.isStream(t)||c_.isFile(t)||c_.isBlob(t))return t;if(c_.isArrayBufferView(t))return t.buffer;if(c_.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return y_(t,new N_.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return N_.isNode&&c_.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((s=c_.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return y_(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),function(t,e,n){if(c_.isString(t))try{return(e||JSON.parse)(t),c_.trim(t)}catch(GI){if("SyntaxError"!==GI.name)throw GI}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||D_.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&c_.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(GI){if(n){if("SyntaxError"===GI.name)throw f_.from(GI,f_.ERR_BAD_RESPONSE,this,null,this.response);throw GI}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:N_.classes.FormData,Blob:N_.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};c_.forEach(["delete","get","head","post","put","patch"],(t=>{D_.headers[t]={}}));const M_=D_,L_=c_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F_=Symbol("internals");function j_(t){return t&&String(t).trim().toLowerCase()}function U_(t){return!1===t||null==t?t:c_.isArray(t)?t.map(U_):String(t)}function V_(t,e,n,r,i){return c_.isFunction(r)?r.call(this,e,n):(i&&(e=n),c_.isString(e)?c_.isString(r)?-1!==e.indexOf(r):c_.isRegExp(r)?r.test(e):void 0:void 0)}class z_{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function i(t,e,n){const i=j_(e);if(!i)throw new Error("header name must be a non-empty string");const s=c_.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||e]=U_(t))}const s=(t,e)=>c_.forEach(t,((t,n)=>i(t,n,e)));return c_.isPlainObject(t)||t instanceof this.constructor?s(t,e):c_.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?s((t=>{const e={};let n,r,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),n=t.substring(0,i).trim().toLowerCase(),r=t.substring(i+1).trim(),!n||e[n]&&L_[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e):null!=t&&i(e,t,n),this}get(t,e){if(t=j_(t)){const n=c_.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(c_.isFunction(e))return e.call(this,t,n);if(c_.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=j_(t)){const n=c_.findKey(this,t);return!(!n||void 0===this[n]||e&&!V_(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function i(t){if(t=j_(t)){const i=c_.findKey(n,t);!i||e&&!V_(0,n[i],i,e)||(delete n[i],r=!0)}}return c_.isArray(t)?t.forEach(i):i(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const i=e[n];t&&!V_(0,this[i],i,t,!0)||(delete this[i],r=!0)}return r}normalize(t){const e=this,n={};return c_.forEach(this,((r,i)=>{const s=c_.findKey(n,i);if(s)return e[s]=U_(r),void delete e[i];const o=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete e[i],e[o]=U_(r),n[o]=!0})),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return c_.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&c_.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((t=>{let[e,n]=t;return e+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((t=>e.set(t))),e}static accessor(t){const e=(this[F_]=this[F_]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=j_(t);e[r]||(!function(t,e){const n=c_.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,i){return this[r].call(this,e,t,n,i)},configurable:!0})}))}(n,t),e[r]=!0)}return c_.isArray(t)?t.forEach(r):r(t),this}}z_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),c_.reduceDescriptors(z_.prototype,((t,e)=>{let{value:n}=t,r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[r]=t}}})),c_.freezeMethods(z_);const B_=z_;function W_(t,e){const n=this||M_,r=e||n,i=B_.from(r.headers);let s=r.data;return c_.forEach(t,(function(t){s=t.call(n,s,i.normalize(),e?e.status:void 0)})),i.normalize(),s}function H_(t){return!(!t||!t.__CANCEL__)}function q_(t,e,n){f_.call(this,null==t?"canceled":t,f_.ERR_CANCELED,e,n),this.name="CanceledError"}c_.inherits(q_,f_,{__CANCEL__:!0});const K_=q_;const G_=N_.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];c_.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),c_.isString(r)&&o.push("path="+r),c_.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Q_(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const $_=N_.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=c_.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};const Y_=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i,s=0,o=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),c=r[o];i||(i=l),n[s]=a,r[s]=l;let u=o,h=0;for(;u!==s;)h+=n[u++],u%=t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),l-i<e)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};function X_(t,e){let n=0;const r=Y_(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a);n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const J_="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let r=t.data;const i=B_.from(t.headers).normalize();let s,o,{responseType:a,withXSRFToken:l}=t;function c(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}if(c_.isFormData(r))if(N_.hasStandardBrowserEnv||N_.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(o=i.getContentType())){const[t,...e]=o?o.split(";").map((t=>t.trim())).filter(Boolean):[];i.setContentType([t||"multipart/form-data",...e].join("; "))}let u=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(e+":"+n))}const h=Q_(t.baseURL,t.url);function d(){if(!u)return;const r=B_.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new f_("Request failed with status code "+n.status,[f_.ERR_BAD_REQUEST,f_.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),c()}),(function(t){n(t),c()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:t,request:u}),u=null}if(u.open(t.method.toUpperCase(),S_(h,t.params,t.paramsSerializer),!0),u.timeout=t.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new f_("Request aborted",f_.ECONNABORTED,t,u)),u=null)},u.onerror=function(){n(new f_("Network Error",f_.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||T_;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new f_(e,r.clarifyTimeoutError?f_.ETIMEDOUT:f_.ECONNABORTED,t,u)),u=null},N_.hasStandardBrowserEnv&&(l&&c_.isFunction(l)&&(l=l(t)),l||!1!==l&&$_(h))){const e=t.xsrfHeaderName&&t.xsrfCookieName&&G_.read(t.xsrfCookieName);e&&i.set(t.xsrfHeaderName,e)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&c_.forEach(i.toJSON(),(function(t,e){u.setRequestHeader(e,t)})),c_.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),a&&"json"!==a&&(u.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&u.addEventListener("progress",X_(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",X_(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{u&&(n(!e||e.type?new K_(null,t,u):e),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const f=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(h);f&&-1===N_.protocols.indexOf(f)?n(new f_("Unsupported protocol "+f+":",f_.ERR_BAD_REQUEST,t)):u.send(r||null)}))},Z_={http:null,xhr:J_};c_.forEach(Z_,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(GI){}Object.defineProperty(t,"adapterName",{value:e})}}));const tw=t=>"- ".concat(t),ew=t=>c_.isFunction(t)||null===t||!1===t,nw=t=>{t=c_.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){let e;if(n=t[s],r=n,!ew(n)&&(r=Z_[(e=String(n)).toLowerCase()],void 0===r))throw new f_("Unknown adapter '".concat(e,"'"));if(r)break;i[e||"#"+s]=r}if(!r){const t=Object.entries(i).map((t=>{let[e,n]=t;return"adapter ".concat(e," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=e?t.length>1?"since :\n"+t.map(tw).join("\n"):" "+tw(t[0]):"as no adapter specified";throw new f_("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function rw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new K_(null,t)}function iw(t){rw(t),t.headers=B_.from(t.headers),t.data=W_.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return nw(t.adapter||M_.adapter)(t).then((function(e){return rw(t),e.data=W_.call(t,t.transformResponse,e),e.headers=B_.from(e.headers),e}),(function(e){return H_(e)||(rw(t),e&&e.response&&(e.response.data=W_.call(t,t.transformResponse,e.response),e.response.headers=B_.from(e.response.headers))),Promise.reject(e)}))}const sw=t=>t instanceof B_?t.toJSON():t;function ow(t,e){e=e||{};const n={};function r(t,e,n){return c_.isPlainObject(t)&&c_.isPlainObject(e)?c_.merge.call({caseless:n},t,e):c_.isPlainObject(e)?c_.merge({},e):c_.isArray(e)?e.slice():e}function i(t,e,n){return c_.isUndefined(e)?c_.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function s(t,e){if(!c_.isUndefined(e))return r(void 0,e)}function o(t,e){return c_.isUndefined(e)?c_.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function a(n,i,s){return s in e?r(n,i):s in t?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(t,e)=>i(sw(t),sw(e),!0)};return c_.forEach(Object.keys(Object.assign({},t,e)),(function(r){const s=l[r]||i,o=s(t[r],e[r],r);c_.isUndefined(o)&&s!==a||(n[r]=o)})),n}const aw="1.6.7",lw={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{lw[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const cw={};lw.transitional=function(t,e,n){function r(t,e){return"[Axios v1.6.7] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,i,s)=>{if(!1===t)throw new f_(r(i," has been removed"+(e?" in "+e:"")),f_.ERR_DEPRECATED);return e&&!cw[i]&&(cw[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,s)}};const uw={assertOptions:function(t,e,n){if("object"!==typeof t)throw new f_("options must be an object",f_.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const e=t[s],n=void 0===e||o(e,s,t);if(!0!==n)throw new f_("option "+s+" must be "+n,f_.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new f_("Unknown option "+s,f_.ERR_BAD_OPTION)}},validators:lw},hw=uw.validators;class dw{constructor(t){this.defaults=t,this.interceptors={request:new k_,response:new k_}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}throw n}}_request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=ow(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:i}=e;void 0!==n&&uw.assertOptions(n,{silentJSONParsing:hw.transitional(hw.boolean),forcedJSONParsing:hw.transitional(hw.boolean),clarifyTimeoutError:hw.transitional(hw.boolean)},!1),null!=r&&(c_.isFunction(r)?e.paramsSerializer={serialize:r}:uw.assertOptions(r,{encode:hw.function,serialize:hw.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=i&&c_.merge(i.common,i[e.method]);i&&c_.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=B_.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let u,h=0;if(!a){const t=[iw.bind(this),void 0];for(t.unshift.apply(t,o),t.push.apply(t,l),u=t.length,c=Promise.resolve(e);h<u;)c=c.then(t[h++],t[h++]);return c}u=o.length;let d=e;for(h=0;h<u;){const t=o[h++],e=o[h++];try{d=t(d)}catch(f){e.call(this,f);break}}try{c=iw.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(t){return S_(Q_((t=ow(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}c_.forEach(["delete","get","head","options"],(function(t){dw.prototype[t]=function(e,n){return this.request(ow(n||{},{method:t,url:e,data:(n||{}).data}))}})),c_.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(ow(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}dw.prototype[t]=e(),dw.prototype[t+"Form"]=e(!0)}));const fw=dw;class pw{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,i){n.reason||(n.reason=new K_(t,r,i),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new pw((function(e){t=e})),cancel:t}}}const gw=pw;const mw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mw).forEach((t=>{let[e,n]=t;mw[n]=e}));const vw=mw;const yw=function t(e){const n=new fw(e),r=Ab(fw.prototype.request,n);return c_.extend(r,fw.prototype,n,{allOwnKeys:!0}),c_.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(ow(e,n))},r}(M_);yw.Axios=fw,yw.CanceledError=K_,yw.CancelToken=gw,yw.isCancel=H_,yw.VERSION=aw,yw.toFormData=y_,yw.AxiosError=f_,yw.Cancel=yw.CanceledError,yw.all=function(t){return Promise.all(t)},yw.spread=function(t){return function(e){return t.apply(null,e)}},yw.isAxiosError=function(t){return c_.isObject(t)&&!0===t.isAxiosError},yw.mergeConfig=ow,yw.AxiosHeaders=B_,yw.formToJSON=t=>P_(c_.isHTMLForm(t)?new FormData(t):t),yw.getAdapter=nw,yw.HttpStatusCode=vw,yw.default=yw;const bw=yw;function _w(){const[t,e]=(0,r.useState)(!1);return(0,Cb.jsxs)("div",{children:[(0,Cb.jsx)("input",{className:"menu-icon",type:"checkbox",id:"menu-icon",name:"menu-icon",checked:t,onChange:()=>e(!t)}),(0,Cb.jsx)("label",{htmlFor:"menu-icon"}),(0,Cb.jsx)("nav",{className:"nav",children:(0,Cb.jsxs)("ul",{className:"pt-5",children:[(0,Cb.jsx)("li",{children:(0,Cb.jsx)(Tt,{to:"/dashboard",children:"Home"})}),(0,Cb.jsx)("li",{children:(0,Cb.jsx)(Tt,{to:"/friends",children:"Friends"})}),(0,Cb.jsx)("li",{children:(0,Cb.jsx)(Tt,{to:"/history",children:"History"})}),(0,Cb.jsx)("li",{children:(0,Cb.jsx)(Tt,{to:"/settings",children:"Settings"})}),(0,Cb.jsx)("li",{children:(0,Cb.jsx)(Tt,{to:"/editprofile",children:"profile"})})]})})]})}const ww=()=>{const[t,e]=(0,r.useState)("");return(0,Cb.jsx)("div",{className:"navBar2-container",children:(0,Cb.jsxs)("div",{children:[(0,Cb.jsx)("a",{href:"https://sol49.com",children:(0,Cb.jsx)("p",{"data-item":"Sol49",children:"Sol49"})}),(0,Cb.jsx)("section",{children:(0,Cb.jsx)("nav",{children:(0,Cb.jsx)("ul",{className:"menuItems",children:[{name:"Home",link:"/dashboard",dataItem:"Home"},{name:"Connections",link:"/friends",dataItem:"Connections"},{name:"Profile",link:"/editprofile",dataItem:"Profile"},{name:"Settings",link:"/settings",dataItem:"Settings"}].map(((t,n)=>(0,Cb.jsx)("li",{children:(0,Cb.jsx)("a",{href:t.link,"data-item":t.dataItem,onMouseEnter:()=>e(t.dataItem),onMouseLeave:()=>e(""),children:t.name})},n)))})})})]})})},xw=t=>{let{currentWatts:e,maxWatts:n}=t;const r=Math.min(100,e/n*100);return(0,Cb.jsx)("div",{className:"gaugeContainer",children:(0,Cb.jsxs)("div",{className:"gaugebox",children:[(0,Cb.jsx)("div",{className:"shadow"}),(0,Cb.jsxs)("div",{className:"content",children:[(0,Cb.jsxs)("div",{className:"percent","data-text":"Watts",style:{"--num":r},children:[(0,Cb.jsx)("div",{className:"dot"}),(0,Cb.jsxs)("svg",{children:[(0,Cb.jsx)("circle",{cx:"70",cy:"70",r:"70"}),(0,Cb.jsx)("circle",{cx:"70",cy:"70",r:"70"})]})]}),(0,Cb.jsx)("div",{className:"number",children:(0,Cb.jsxs)("h2",{children:[e,(0,Cb.jsx)("span",{children:"W"})]})})]})]})})};function Ew(t){return Ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ew(t)}function Sw(t){var e=function(t,e){if("object"!=Ew(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ew(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ew(e)?e:String(e)}function kw(t,e,n){return(e=Sw(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tw(t){return t+.5|0}const Cw=(t,e,n)=>Math.max(Math.min(t,n),e);function Iw(t){return Cw(Tw(2.55*t),0,255)}function Aw(t){return Cw(Tw(255*t),0,255)}function Rw(t){return Cw(Tw(t/2.55)/100,0,1)}function Ow(t){return Cw(Tw(100*t),0,100)}const Nw={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Pw=[..."0123456789ABCDEF"],Dw=t=>Pw[15&t],Mw=t=>Pw[(240&t)>>4]+Pw[15&t],Lw=t=>(240&t)>>4===(15&t);function Fw(t){var e=(t=>Lw(t.r)&&Lw(t.g)&&Lw(t.b)&&Lw(t.a))(t)?Dw:Mw;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const jw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Uw(t,e,n){const r=e*Math.min(n,1-n),i=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function Vw(t,e,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+t/60)%6;return n-n*e*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function zw(t,e,n){const r=Uw(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Bw(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=(i+s)/2;let a,l,c;return i!==s&&(c=i-s,l=o>.5?c/(2-i-s):c/(i+s),a=function(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}(e,n,r,c,i),a=60*a+.5),[0|a,l||0,o]}function Ww(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Aw)}function Hw(t,e,n){return Ww(Uw,t,e,n)}function qw(t){return(t%360+360)%360}function Kw(t){const e=jw.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?Iw(+e[5]):Aw(+e[5]));const i=qw(+e[2]),s=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Ww(zw,t,e,n)}(i,s,o):"hsv"===e[1]?function(t,e,n){return Ww(Vw,t,e,n)}(i,s,o):Hw(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}const Gw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Qw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let $w;function Yw(t){$w||($w=function(){const t={},e=Object.keys(Qw),n=Object.keys(Gw);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Gw[s]);s=parseInt(Qw[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),$w.transparent=[0,0,0,0]);const e=$w[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Xw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Jw=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Zw=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function tx(t,e,n){if(t){let r=Bw(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=Hw(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function ex(t,e){return t?Object.assign(e||{},t):t}function nx(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Aw(t[3]))):(e=ex(t,{r:0,g:0,b:0,a:1})).a=Aw(e.a),e}function rx(t){return"r"===t.charAt(0)?function(t){const e=Xw.exec(t);let n,r,i,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?Iw(t):Cw(255*t,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?Iw(n):Cw(n,0,255)),r=255&(e[4]?Iw(r):Cw(r,0,255)),i=255&(e[6]?Iw(i):Cw(i,0,255)),{r:n,g:r,b:i,a:s}}}(t):Kw(t)}class ix{constructor(t){if(t instanceof ix)return t;const e=typeof t;let n;"object"===e?n=nx(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*Nw[t[1]],g:255&17*Nw[t[2]],b:255&17*Nw[t[3]],a:5===n?17*Nw[t[4]]:255}:7!==n&&9!==n||(e={r:Nw[t[1]]<<4|Nw[t[2]],g:Nw[t[3]]<<4|Nw[t[4]],b:Nw[t[5]]<<4|Nw[t[6]],a:9===n?Nw[t[7]]<<4|Nw[t[8]]:255})),e}(t)||Yw(t)||rx(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=ex(this._rgb);return t&&(t.a=Rw(t.a)),t}set rgb(t){this._rgb=nx(t)}rgbString(){return this._valid?function(t){return t&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(Rw(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"))}(this._rgb):void 0}hexString(){return this._valid?Fw(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=Bw(t),n=e[0],r=Ow(e[1]),i=Ow(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(Rw(t.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let i;const s=e===i?.5:e,o=2*s-1,a=n.a-r.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const r=Zw(Rw(t.r)),i=Zw(Rw(t.g)),s=Zw(Rw(t.b));return{r:Aw(Jw(r+n*(Zw(Rw(e.r))-r))),g:Aw(Jw(i+n*(Zw(Rw(e.g))-i))),b:Aw(Jw(s+n*(Zw(Rw(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new ix(this.rgb)}alpha(t){return this._rgb.a=Aw(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Tw(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return tx(this._rgb,2,t),this}darken(t){return tx(this._rgb,2,-t),this}saturate(t){return tx(this._rgb,1,t),this}desaturate(t){return tx(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=Bw(t);n[0]=qw(n[0]+e),n=Hw(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function sx(){}const ox=(()=>{let t=0;return()=>t++})();function ax(t){return null===t||"undefined"===typeof t}function lx(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function cx(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function ux(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function hx(t,e){return ux(t)?t:e}function dx(t,e){return"undefined"===typeof t?e:t}const fx=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function px(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function gx(t,e,n,r){let i,s,o;if(lx(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(cx(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function mx(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function vx(t){if(lx(t))return t.map(vx);if(cx(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=vx(t[n[i]]);return e}return t}function yx(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function bx(t,e,n,r){if(!yx(t))return;const i=e[t],s=n[t];cx(i)&&cx(s)?_x(i,s,r):e[t]=vx(s)}function _x(t,e,n){const r=lx(e)?e:[e],i=r.length;if(!cx(t))return t;const s=(n=n||{}).merger||bx;let o;for(let a=0;a<i;++a){if(o=r[a],!cx(o))continue;const e=Object.keys(o);for(let r=0,i=e.length;r<i;++r)s(e[r],t,o,n)}return t}function wx(t,e){return _x(t,e,{merger:xx})}function xx(t,e,n){if(!yx(t))return;const r=e[t],i=n[t];cx(r)&&cx(i)?wx(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=vx(i))}const Ex={"":t=>t,x:t=>t.x,y:t=>t.y};function Sx(t,e){const n=Ex[e]||(Ex[e]=function(t){const e=function(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function kx(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Tx=t=>"undefined"!==typeof t,Cx=t=>"function"===typeof t,Ix=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const Ax=Math.PI,Rx=2*Ax,Ox=Rx+Ax,Nx=Number.POSITIVE_INFINITY,Px=Ax/180,Dx=Ax/2,Mx=Ax/4,Lx=2*Ax/3,Fx=Math.log10,jx=Math.sign;function Ux(t,e,n){return Math.abs(t-e)<n}function Vx(t){const e=Math.round(t);t=Ux(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Fx(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function zx(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Bx(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Wx(t){return t*(Ax/180)}function Hx(t){return t*(180/Ax)}function qx(t){if(!ux(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Kx(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Ax&&(s+=Rx),{angle:s,distance:i}}function Gx(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Qx(t,e){return(t-e+Ox)%Rx-Ax}function $x(t){return(t%Rx+Rx)%Rx}function Yx(t,e,n,r){const i=$x(t),s=$x(e),o=$x(n),a=$x(s-i),l=$x(o-i),c=$x(i-s),u=$x(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Xx(t,e,n){return Math.max(e,Math.min(n,t))}function Jx(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Zx(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const tE=(t,e,n,r)=>Zx(t,n,r?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),eE=(t,e,n)=>Zx(t,n,(r=>t[r][e]>=n));const nE=["push","pop","shift","splice","unshift"];function rE(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(nE.forEach((e=>{delete t[e]})),delete t._chartjs)}function iE(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const sE="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function oE(t,e){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];n=s,r||(r=!0,sE.call(window,(()=>{r=!1,t.apply(e,n)})))}}const aE=t=>"start"===t?"left":"end"===t?"right":"center",lE=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function cE(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(i=Xx(Math.min(tE(a,l,c).lo,n?r:tE(e,l,o.getPixelForValue(c)).lo),0,r-1)),s=d?Xx(Math.max(tE(a,o.axis,u,!0).hi+1,n?0:tE(e,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:s}}function uE(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const hE=t=>0===t||1===t,dE=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*Rx/n),fE=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Rx/n)+1,pE={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Dx),easeOutSine:t=>Math.sin(t*Dx),easeInOutSine:t=>-.5*(Math.cos(Ax*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>hE(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>hE(t)?t:dE(t,.075,.3),easeOutElastic:t=>hE(t)?t:fE(t,.075,.3),easeInOutElastic(t){const e=.1125;return hE(t)?t:t<.5?.5*dE(2*t,e,.45):.5+.5*fE(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-pE.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*pE.easeInBounce(2*t):.5*pE.easeOutBounce(2*t-1)+.5};function gE(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function mE(t){return gE(t)?t:new ix(t)}function vE(t){return gE(t)?t:new ix(t).saturate(.5).darken(.1).hexString()}const yE=["x","y","borderWidth","radius","tension"],bE=["color","borderColor","backgroundColor"];const _E=new Map;function wE(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let r=_E.get(n);return r||(r=new Intl.NumberFormat(t,e),_E.set(n,r)),r}(e,n).format(t)}const xE={values:t=>lx(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),s=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const o=Fx(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),wE(t,r,l)},logarithmic(t,e,n){if(0===t)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Fx(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?xE.numeric.call(this,t,e,n):""}};var EE={formatters:xE};const SE=Object.create(null),kE=Object.create(null);function TE(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const e=n[r];t=t[e]||(t[e]=Object.create(null))}return t}function CE(t,e,n){return"string"===typeof e?_x(TE(t,e),n):_x(TE(t,""),e)}class IE{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>vE(e.backgroundColor),this.hoverBorderColor=(t,e)=>vE(e.borderColor),this.hoverColor=(t,e)=>vE(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return CE(this,t,e)}get(t){return TE(this,t)}describe(t,e){return CE(kE,t,e)}override(t,e){return CE(SE,t,e)}route(t,e,n,r){const i=TE(this,t),s=TE(this,n),o="_"+e;Object.defineProperties(i,{[o]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[r];return cx(t)?Object.assign({},e,t):dx(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var AE=new IE({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:bE},numbers:{type:"number",properties:yE}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:EE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function RE(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function OE(t,e,n,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||lx(h)){if(lx(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||lx(d)||(o=RE(t,i,s,o,d))}else o=RE(t,i,s,o,h);t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return o}function NE(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function PE(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function DE(t,e,n,r){ME(t,e,n,r,null)}function ME(t,e,n,r,i){let s,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*Px;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,r),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,g,0,0,Rx):t.arc(n,r,g,0,Rx),t.closePath();break;case"triangle":u=i?i/2:g,t.moveTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=Lx,t.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=Lx,t.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+Mx)*l,h=Math.cos(m+Mx)*(i?i/2-c:l),a=Math.sin(m+Mx)*l,d=Math.sin(m+Mx)*(i?i/2-c:l),t.arc(n-h,r-a,c,m-Ax,m-Dx),t.arc(n+d,r-o,c,m-Dx,m),t.arc(n+h,r+a,c,m,m+Dx),t.arc(n-d,r+o,c,m+Dx,m+Ax),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}m+=Mx;case"rectRot":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+d,r-o),t.lineTo(n+h,r+a),t.lineTo(n-d,r+o),t.closePath();break;case"crossRot":m+=Mx;case"cross":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o);break;case"star":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o),m+=Mx,h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o);break;case"line":o=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function LE(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function FE(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function jE(t){t.restore()}function UE(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else"after"===i!==!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function VE(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function zE(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function BE(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function WE(t,e,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=lx(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(t.save(),t.font=i.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ax(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&BE(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ax(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),zE(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function HE(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Ax,Ax,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Ax,Dx,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Dx,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Dx,!0),t.lineTo(n+o.topLeft,r)}const qE=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,KE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function GE(t,e){const n=(""+t).match(qE);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const QE=t=>+t||0;function $E(t,e){const n={},r=cx(e),i=r?Object.keys(e):e,s=cx(t)?r?n=>dx(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of i)n[o]=QE(s(o));return n}function YE(t){return $E(t,{top:"y",right:"x",bottom:"y",left:"x"})}function XE(t){return $E(t,["topLeft","topRight","bottomLeft","bottomRight"])}function JE(t){const e=YE(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ZE(t,e){t=t||{},e=e||AE.font;let n=dx(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let r=dx(t.style,e.style);r&&!(""+r).match(KE)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:dx(t.family,e.family),lineHeight:GE(dx(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:dx(t.weight,e.weight),string:""};return i.string=function(t){return!t||ax(t.size)||ax(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function tS(t,e,n,r){let i,s,o,a=!0;for(i=0,s=t.length;i<s;++i)if(o=t[i],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==n&&lx(o)&&(o=o[n%o.length],a=!1),void 0!==o))return r&&!a&&(r.cacheable=!1),o}function eS(t,e){return Object.assign(Object.create(t),e)}function nS(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const i=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=fS("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>nS([r,...t],e,i,n)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,r)=>aS(n,r,(()=>function(t,e,n,r){let i;for(const s of e)if(i=fS(sS(s,t),n),"undefined"!==typeof i)return oS(t,i)?hS(n,r,t,i):i}(r,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>pS(t).includes(e),ownKeys:t=>pS(t),set(t,e,n){const i=t._storage||(t._storage=r());return t[e]=i[e]=n,delete t._keys,!0}})}function rS(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:iS(t,r),setContext:e=>rS(t,e,n,r),override:i=>rS(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>aS(t,e,(()=>function(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];Cx(a)&&o.isScriptable(e)&&(a=function(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);a.delete(t),oS(t,l)&&(l=hS(i._scopes,i,t,l));return l}(e,a,t,n));lx(a)&&a.length&&(a=function(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&r(t))return e[s.index%e.length];if(cx(e[0])){const n=e,r=i._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=hS(r,i,t,l);e.push(rS(n,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));oS(e,a)&&(a=rS(a,i,s&&s[e],o));return a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,r)=>(t[n]=r,delete e[n],!0)})}function iS(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Cx(n)?n:()=>n,isIndexable:Cx(r)?r:()=>r}}const sS=(t,e)=>t?t+kx(e):e,oS=(t,e)=>cx(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function aS(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function lS(t,e,n){return Cx(t)?t(e,n):t}const cS=(t,e)=>!0===t?e:"string"===typeof t?Sx(e,t):void 0;function uS(t,e,n,r,i){for(const s of e){const e=cS(n,s);if(e){t.add(e);const s=lS(e._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===e&&"undefined"!==typeof r&&n!==r)return null}return!1}function hS(t,e,n,r){const i=e._rootScopes,s=lS(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=dS(a,o,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=dS(a,o,s,l,r),null!==l))&&nS(Array.from(a),[""],i,s,(()=>function(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];if(lx(i)&&cx(n))return n;return i||{}}(e,n,r))))}function dS(t,e,n,r,i){for(;n;)n=uS(t,e,n,r,i);return n}function fS(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function pS(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function gS(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=e[c],o[a]={r:i.parse(Sx(u,s),c)};return o}const mS=Number.EPSILON||1e-14,vS=(t,e)=>e<t.length&&!t[e].skip&&t[e],yS=t=>"x"===t?"y":"x";function bS(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=Gx(s,i),l=Gx(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function _S(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=yS(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=vS(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=vS(t,o+1),l){if(c){const t=c[e]-l[e];i[o]=0!==t?(c[n]-l[n])/t:0}s[o]=a?c?jx(i[o-1])!==jx(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}!function(t,e,n){const r=t.length;let i,s,o,a,l,c=vS(t,0);for(let u=0;u<r-1;++u)l=c,c=vS(t,u+1),l&&c&&(Ux(e[u],0,mS)?n[u]=n[u+1]=0:(i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])))}(t,i,s),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=yS(n),i=t.length;let s,o,a,l=vS(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=vS(t,c+1),!a)continue;const i=a[n],u=a[r];o&&(s=(i-o[n])/3,a["cp1".concat(n)]=i-s,a["cp1".concat(r)]=u-s*e[c]),l&&(s=(l[n]-i)/3,a["cp2".concat(n)]=i+s,a["cp2".concat(r)]=u+s*e[c])}}(t,s,e)}function wS(t,e,n){return Math.max(Math.min(t,n),e)}function xS(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)_S(t,i);else{let n=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=bS(n,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&function(t,e){let n,r,i,s,o,a=LE(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&LE(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=wS(i.cp1x,e.left,e.right),i.cp1y=wS(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=wS(i.cp2x,e.left,e.right),i.cp2y=wS(i.cp2y,e.top,e.bottom)))}(t,n)}function ES(){return"undefined"!==typeof window&&"undefined"!==typeof document}function SS(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function kS(t,e,n){let r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const TS=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const CS=["top","right","bottom","left"];function IS(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=CS[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const AS=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function RS(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=TS(n),s="border-box"===i.boxSizing,o=IS(i,"padding"),a=IS(i,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o,a,l=!1;if(AS(i,s,t.target))o=i,a=s;else{const t=e.getBoundingClientRect();o=r.clientX-t.left,a=r.clientY-t.top,l=!0}return{x:o,y:a,box:l}}(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/p*n.height/r)}}const OS=t=>Math.round(10*t)/10;function NS(t,e,n,r){const i=TS(t),s=IS(i,"margin"),o=kS(i.maxWidth,t,"clientWidth")||Nx,a=kS(i.maxHeight,t,"clientHeight")||Nx,l=function(t,e,n){let r,i;if(void 0===e||void 0===n){const s=SS(t);if(s){const t=s.getBoundingClientRect(),o=TS(s),a=IS(o,"border","width"),l=IS(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,r=kS(o.maxWidth,s,"clientWidth"),i=kS(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||Nx,maxHeight:i||Nx}}(t,e,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const t=IS(i,"border","width"),e=IS(i,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=OS(Math.min(c,o,l.maxWidth)),u=OS(Math.min(u,a,l.maxHeight)),c&&!u&&(u=OS(c/2));return(void 0!==e||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=OS(Math.floor(u*r))),{width:c,height:u}}function PS(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(t.height,"px"),o.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0)}const DS=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ES()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(GI){}return t}();function MS(t,e){const n=function(t,e){return TS(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function LS(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function FS(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function jS(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=LS(t,i,n),a=LS(i,s,n),l=LS(s,e,n),c=LS(o,a,n),u=LS(a,l,n);return LS(c,u,n)}function US(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function VS(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function zS(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function BS(t){return"angle"===t?{between:Yx,compare:Qx,normalize:$x}:{between:Jx,compare:(t,e)=>t-e,normalize:t=>t}}function WS(t){let{start:e,end:n,count:r,loop:i,style:s}=t;return{start:e%r,end:n%r,loop:i&&(n-e+1)%r===0,style:s}}function HS(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=BS(r),{start:u,end:h,loop:d,style:f}=function(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=BS(r),l=e.length;let c,u,{start:h,end:d,loop:f}=t;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&o(a(e[h%l][r]),i,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:t.style}}(t,e,n),p=[];let g,m,v,y=!1,b=null;const _=()=>y||l(i,v,g)&&0!==a(i,v),w=()=>!y||0===a(s,g)||l(s,v,g);for(let x=u,E=u;x<=h;++x)m=e[x%o],m.skip||(g=c(m[r]),g!==v&&(y=l(g,i,s),null===b&&_()&&(b=0===a(g,i)?x:E),null!==b&&w()&&(p.push(WS({start:b,end:x,loop:d,count:o,style:f})),b=null),E=x,v=g));return null!==b&&p.push(WS({start:b,end:h,loop:d,count:o,style:f})),p}function qS(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=HS(r[i],t.points,e);s.length&&n.push(...s)}return n}function KS(t,e,n,r){return r&&r.setContext&&n?function(t,e,n,r){const i=t._chart.getContext(),s=GS(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(t,e,r,i){const s=a?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=s;for(;n[e%l].skip;)e+=s;t%l!==e%l&&(c.push({start:t%l,end:e%l,loop:r,style:i}),u=i,h=e%l)}}for(const p of e){h=a?h:p.start;let t,e=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];t=GS(r.setContext(eS(i,{type:"segment",p0:e,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),QS(t,u)&&f(h,d-1,p.loop,u),e=s,u=t}h<d-1&&f(h,d-1,p.loop,u)}return c}(t,e,n,r):e}function GS(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function QS(t,e){if(!e)return!1;const n=[],r=function(t,e){return gE(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,r)!==JSON.stringify(e,r)}class $S{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const i=e.listeners[r],s=e.duration;i.forEach((r=>r({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=sE.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,o=i.length-1,a=!1;for(;o>=0;--o)s=i[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),i.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=i.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var YS=new $S;const XS="transparent",JS={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const r=mE(t||XS),i=r.valid&&mE(e||XS);return i&&i.valid?i.mix(r,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class ZS{constructor(t,e,n,r){const i=e[n];r=tS([t.to,r,i,t.from]);const s=tS([t.from,i,r]);this._active=!0,this._fn=t.fn||JS[t.type||typeof s],this._easing=pE[t.easing]||pE.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=tS([t.to,e,r,t.from]),this._from=tS([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,o=this._to;let a;if(this._active=i!==o&&(s||e<n),!this._active)return this._target[r]=o,void this._notify(!0);e<0?this._target[r]=i:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}class tk{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!cx(t))return;const e=Object.keys(AE.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((r=>{const i=t[r];if(!cx(i))return;const s={};for(const t of e)s[t]=i[t];(lx(i.properties)&&i.properties||[r]).forEach((t=>{t!==r&&n.has(t)||n.set(t,s)}))}))}_animateOptions(t,e){const n=e.options,r=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const e=t[r[i]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(t,e));continue}const c=e[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(i[l]=u=new ZS(h,t,l,c),r.push(u)):t[l]=c}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(YS.add(this._chart,n),!0):void 0}}function ek(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:r?s:i,end:r?i:s}}function nk(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function rk(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.keys,s="single"===r.mode;let o,a,l,c;if(null!==e){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(r.all)continue;break}c=t.values[l],ux(c)&&(s||0===e||jx(e)===jx(c))&&(e+=c)}return e}}function ik(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function sk(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function ok(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const e=t[i.index];if(n&&e>0||!n&&e<0)return i.index}return null}function ak(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[c]:s}=t;d=(t._stacks||(t._stacks={}))[c]=sk(i,u,n),d[a]=s,d._top=ok(d,o,!0,r.type),d._bottom=ok(d,o,!1,r.type);(d._visualValues||(d._visualValues={}))[a]=s}}function lk(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function ck(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[r]||void 0===e[r][n])return;delete e[r][n],void 0!==e[r]._visualValues&&void 0!==e[r]._visualValues[n]&&delete e[r]._visualValues[n]}}}const uk=t=>"reset"===t||"none"===t,hk=(t,e)=>e?t:Object.assign({},t);class dk{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ik(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ck(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,i=e.xAxisID=dx(n.xAxisID,lk(t,"x")),s=e.yAxisID=dx(n.yAxisID,lk(t,"y")),o=e.rAxisID=dx(n.rAxisID,lk(t,"r")),a=e.indexAxis,l=e.iAxisID=r(a,i,s,o),c=e.vAxisID=r(a,s,i,o);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&rE(this._data,this),t._stacked&&ck(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(cx(e))this._data=function(t){const e=Object.keys(t),n=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}(e);else if(n!==e){if(n){rE(n,this);const t=this._cachedMeta;ck(t),t._parsed=[]}e&&Object.isExtensible(e)&&(i=this,(r=e)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),nE.forEach((t=>{const e="_onData"+kx(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];const o=n.apply(this,i);return r._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...i)})),o}})})))),this._syncList=[],this._data=e}var r,i}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=e._stacked;e._stacked=ik(e.vScale,e),e.stack!==n.stack&&(r=!0,ck(e),e.stack=n.stack),this._resyncElements(t),(r||i!==e._stacked)&&ak(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,o=i.axis;let a,l,c,u=0===t&&e===r.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=lx(r[t])?this.parseArrayData(n,r,t,e):cx(r[t])?this.parseObjectData(n,r,t,e):this.parsePrimitiveData(n,r,t,e);const i=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(i()&&(u=!1),h=l);n._sorted=u}s&&ak(this,c)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:s}=t,o=i.axis,a=s.axis,l=i.getLabels(),c=i===s,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[o]:c||i.parse(l[f],f),[a]:s.parse(e[f],f)};return u}parseArrayData(t,e,n,r){const{xScale:i,yScale:s}=t,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=e[c],o[a]={x:i.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(t,e,n,r){const{xScale:i,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=e[h],l[c]={x:i.parse(Sx(d,o),h),y:s.parse(Sx(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,i=this._cachedMeta,s=e[t.axis];return rk({keys:nk(r,!0),values:e._stacks[t.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let s=null===i?NaN:i;const o=r&&n._stacks[e.axis];r&&o&&(r.values=o,s=rk(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&t===n.iScale,s=r.length,o=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:nk(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=r[h];const e=d[o.axis];return!ux(d[t.axis])||c>e||u<e}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,t,d,a),!i));++h);if(i)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r][t.axis],ux(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,r,i;return cx(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}(dx(this.options.clip,function(t,e,n){if(!1===n)return!1;const r=ek(t,n),i=ek(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],i=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||r.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,i,o,a),c=o;c<o+a;++c){const e=r[c];e.hidden||(e.active&&l?s.push(e):e.draw(t,i))}for(c=0;c<s.length;++c)s[c].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=function(t,e,n){return eS(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=function(t,e){return eS(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===e,i=this._cachedDataOpts,s=t+"-"+e,o=i[s],a=this.enableOptionSharing&&Tx(n);if(o)return hk(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=r?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(AE.elements[t]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,r,e)),u);return f.$shared&&(f.$shared=a,i[s]=Object.freeze(hk(f,a))),f}_resolveAnimations(t,e,n){const r=this.chart,i=this._cachedDataOpts,s="animation-".concat(e),o=i[s];if(o)return o;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,e),s=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(s,this.getContext(t,n,e))}const l=new tk(r,a&&a.animations);return a&&a._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||uk(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(e,i)||i!==r;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:s}}updateElement(t,e,n,r){uk(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!uk(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const r=n.length,i=e.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(i),o=t;o<s;++o)i[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&ck(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function fk(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let e=0,i=n.length;e<i;e++)r=r.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=iE(r.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let r,i,s,o,a=e._length;const l=()=>{32767!==s&&-32768!==s&&(Tx(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(r=0,i=n.length;r<i;++r)s=e.getPixelForValue(n[r]),l();for(o=void 0,r=0,i=e.ticks.length;r<i;++r)s=e.getPixelForTick(r),l();return a}function pk(t,e,n,r){return lx(t)?function(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function gk(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(pk(d,h,s,c));return l}function mk(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function vk(t,e,n,r){let i=e.borderSkipped;const s={};if(!i)return void(t.borderSkipped=s);if(!0===i)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[yk(u,o,a,l)]=!0,i=c)),s[yk(i,o,a,l)]=!0,t.borderSkipped=s}function yk(t,e,n,r){var i,s,o;return r?(o=n,t=bk(t=(i=t)===(s=e)?o:i===o?s:i,n,e)):t=bk(t,e,n),t}function bk(t,e,n){return"start"===t?e:"end"===t?n:t}function _k(t,e,n){let{inflateAmount:r}=e;t.inflateAmount="auto"===r?1===n?.33:0:r}kw(dk,"defaults",{}),kw(dk,"datasetElementType",null),kw(dk,"dataElementType",null);class wk extends dk{parsePrimitiveData(t,e,n,r){return gk(t,e,n,r)}parseArrayData(t,e,n,r){return gk(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:i,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===i.axis?o:a,c="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=e[h],f={},f[i.axis]=i.parse(Sx(p,l),h),u.push(pk(Sx(p,c),f,s,h));return u}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,i=this.getParsed(t),s=i._custom,o=mk(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const i="reset"===r,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=i||ax(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||mk(e._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,t[d].active?"active":r));const m=g.options||t[d].options;vk(g,m,p,s),_k(g,m,c.ratio),this.updateElement(t[d],d,g,r)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),i=n.options.stacked,s=[],o=t=>{const n=t.controller.getParsed(e),r=n&&n[t.vScale.axis];if(ax(r)||isNaN(r))return!0};for(const a of r)if((void 0===e||!o(a))&&((!1===i||-1===s.indexOf(a.stack)||void 0===i&&void 0===a.stack)&&s.push(a.stack),a.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let i,s;for(i=0,s=e.data.length;i<s;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=t.barThickness;return{min:o||fk(e),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:r},options:{base:i,minBarLength:s}}=this,o=i||0,a=this.getParsed(t),l=a._custom,c=mk(l);let u,h,d=a[e.axis],f=0,p=n?this.applyStack(e,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&jx(d)!==jx(l.barEnd)&&(f=0),f+=d);const g=ax(i)||c?f:i;let m=e.getPixelForValue(g);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<s){h=function(t,e,n){return 0!==t?jx(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,o)*s,d===o&&(m-=h/2);const t=e.getPixelForDecimal(0),i=e.getPixelForDecimal(1),l=Math.min(t,i),f=Math.max(t,i);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(a._stacks[e.axis]._visualValues[r]=e.getValueForPixel(u)-e.getValueForPixel(m))}if(m===e.getPixelForValue(o)){const t=jx(h)*e.getLineWidthForValue(o)/2;m+=t,h-=t}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,i=r.skipNull,s=dx(r.maxBarThickness,1/0);let o,a;if(e.grouped){const n=i?this._getStackCount(t):e.stackCount,l="flex"===r.barThickness?function(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}(t,e,r,n):function(t,e,n,r){const i=n.barThickness;let s,o;return ax(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}(t,e,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let i=0;for(;i<r;++i)null!==this.getParsed(i)[e.axis]&&n[i].draw(this._ctx)}}kw(wk,"id","bar"),kw(wk,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),kw(wk,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class xk extends dk{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,r){const i=super.parsePrimitiveData(t,e,n,r);for(let s=0;s<i.length;s++)i[s]._custom=this.resolveDataElementOptions(s+n).radius;return i}parseArrayData(t,e,n,r){const i=super.parseArrayData(t,e,n,r);for(let s=0;s<i.length;s++){const t=e[n+s];i[s]._custom=dx(t[2],this.resolveDataElementOptions(s+n).radius)}return i}parseObjectData(t,e,n,r){const i=super.parseObjectData(t,e,n,r);for(let s=0;s<i.length;s++){const t=e[n+s];i[s]._custom=dx(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=e,s=this.getParsed(t),o=r.getLabelForValue(s.x),a=i.getLabelForValue(s.y),l=s._custom;return{label:n[t]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,r),c=s.axis,u=o.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!i&&this.getParsed(h),d={},f=d[c]=i?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=i?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,e.active?"active":r),i&&(d.options.radius=0)),this.updateElement(e,h,d,r)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==e&&(r.radius=0),r.radius+=dx(n&&n._custom,i),r}}kw(xk,"id","bubble"),kw(xk,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),kw(xk,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Ek extends dk{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,o=t=>+n[t];if(cx(n[t])){const{key:t="value"}=this._parsing;o=e=>+Sx(n[e],t)}for(i=t,s=t+e;i<s;++i)r._parsed[i]=o(i)}}_getRotation(){return Wx(this.options.rotation-90)}_getCircumference(){return Wx(this.options.circumference)}_getRotationExtents(){let t=Rx,e=-Rx;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();t=Math.min(t,i),e=Math.max(e,i+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(t,e,n){let r=1,i=1,s=0,o=0;if(e<Rx){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(t,e,r)=>Yx(t,a,l,!0)?1:Math.max(e,e*n,r,r*n),p=(t,e,r)=>Yx(t,a,l,!0)?-1:Math.min(e,e*n,r,r*n),g=f(0,c,h),m=f(Dx,u,d),v=p(Ax,c,h),y=p(Ax+Dx,u,d);r=(g-v)/2,i=(m-y)/2,s=-(g+v)/2,o=-(m+y)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}(d,h,a),v=(n.width-s)/f,y=(n.height-s)/p,b=Math.max(Math.min(v,y)/2,0),_=fx(this.options.radius,b),w=(_-Math.max(_*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*_,this.offsetY=m*_,r.total=this.calculateTotal(),this.outerRadius=_-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/Rx)}updateElements(t,e,n,r){const i="reset"===r,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=i&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,r);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,i);for(g=e;g<e+n;++g){const e=this._circumference(g,i),n=t[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":r)),m+=e,this.updateElement(n,g,s,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,r=0;for(n=0;n<e.length;n++){const i=t._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||e[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Rx*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=wE(e._parsed[t],n.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const n=this.chart;let r,i,s,o,a;if(!t)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),t=s.data,o=s.controller;break}if(!t)return 0;for(r=0,i=t.length;r<i;++r)a=o.resolveDataElementOptions(r),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(dx(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}kw(Ek,"id","doughnut"),kw(Ek,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),kw(Ek,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),kw(Ek,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map(((e,i)=>{const s=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class Sk extends dk{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=cE(e,r,s);this._drawStart=o,this._drawCount=a,uE(e)&&(o=0,a=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},t),this.updateElements(r,o,a,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,r),h=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,g=zx(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r,v=e+n,y=t.length;let b=e>0&&this.getParsed(e-1);for(let _=0;_<y;++_){const n=t[_],f=m?n:{};if(_<e||_>=v){f.skip=!0;continue}const y=this.getParsed(_),w=ax(y[d]),x=f[h]=s.getPixelForValue(y[h],_),E=f[d]=i||w?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,y,a):y[d],_);f.skip=isNaN(x)||isNaN(E)||w,f.stop=_>0&&Math.abs(y[h]-b[h])>g,p&&(f.parsed=y,f.raw=l.data[_]),u&&(f.options=c||this.resolveDataElementOptions(_,n.active?"active":r)),m||this.updateElement(n,_,f,r),b=y}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}kw(Sk,"id","line"),kw(Sk,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),kw(Sk,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class kk extends dk{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=wE(e._parsed[t].r,n.options.locale);return{label:r[t]||"",value:i}}parseObjectData(t,e,n,r){return gS.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(r/2,0),s=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,n,r){const i="reset"===r,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*Ax;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<e;++h)d+=this._computeAngle(h,r,f);for(h=e;h<e+n;h++){const e=t[h];let n=d,p=d+this._computeAngle(h,r,f),g=s.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,i&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":r)};this.updateElement(e,h,m,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Wx(this.resolveDataElementOptions(t,e).angle||n):0}}kw(kk,"id","polarArea"),kw(kk,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),kw(kk,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map(((e,i)=>{const s=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Tk extends Ek{}kw(Tk,"id","pie"),kw(Tk,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ck extends dk{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,r){return gS.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta,n=e.dataset,r=e.data||[],i=e.iScale.getLabels();if(n.points=r,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:i.length===r.length,options:e};this.updateElement(n,void 0,s,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,n,r){const i=this._cachedMeta.rScale,s="reset"===r;for(let o=e;o<e+n;o++){const e=t[o],n=this.resolveDataElementOptions(o,e.active?"active":r),a=i.getPointPositionForValue(o,this.getParsed(o).r),l=s?i.xCenter:a.x,c=s?i.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(e,o,u,r)}}}kw(Ck,"id","radar"),kw(Ck,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),kw(Ck,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ik extends dk{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=e,s=this.getParsed(t),o=r.getLabelForValue(s.x),a=i.getLabelForValue(s.y);return{label:n[t]||"",value:"("+o+", "+a+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,r=this.chart._animationsDisabled;let{start:i,count:s}=cE(e,n,r);if(this._drawStart=i,this._drawCount=s,uE(e)&&(i=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:s}=e;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:o},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,i,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,r){const i="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,r),u=this.getSharedOptions(c),h=this.includeOptions(r,u),d=s.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=zx(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===r;let y=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=this.getParsed(b),c=v?e:{},p=ax(n[f]),_=c[d]=s.getPixelForValue(n[d],b),w=c[f]=i||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],b);c.skip=isNaN(_)||isNaN(w)||p,c.stop=b>0&&Math.abs(n[d]-y[d])>m,g&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,e.active?"active":r)),v||this.updateElement(e,b,c,r),y=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,r=n.options&&n.options.borderWidth||0;if(!e.length)return r;const i=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,i,s)/2}}kw(Ik,"id","scatter"),kw(Ik,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),kw(Ik,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Ak(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Rk{static override(t){Object.assign(Rk.prototype,t)}constructor(t){kw(this,"options",void 0),this.options=t||{}}init(){}formats(){return Ak()}parse(){return Ak()}format(){return Ak()}add(){return Ak()}diff(){return Ak()}startOf(){return Ak()}endOf(){return Ak()}}var Ok=Rk;function Nk(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const t=a._reversePixels?eE:tE;if(!r)return t(s,e,n);if(i._sharedOptions){const r=s[0],i="function"===typeof r.getRange&&r.getRange(e);if(i){const r=t(s,e,n-i),o=t(s,e,n+i);return{lo:r.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function Pk(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:t,data:n}=s[a],{lo:l,hi:c}=Nk(s[a],e,o,i);for(let e=l;e<=c;++e){const i=n[e];i.skip||r(i,t,e)}}}function Dk(t,e,n,r,i){const s=[];if(!i&&!t.isPointInArea(e))return s;return Pk(t,n,e,(function(n,o,a){(i||LE(n,t.chartArea,0))&&n.inRange(e.x,e.y,r)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function Mk(t,e,n,r,i,s){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,s=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return Pk(t,n,e,(function(n,c,u){const h=n.inRange(e.x,e.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!(!!s||t.isPointInArea(d))&&!h)return;const f=a(e,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function Lk(t,e,n,r,i,s){return s||t.isPointInArea(e)?"r"!==n||r?Mk(t,e,n,r,i,s):function(t,e,n,r){let i=[];return Pk(t,n,e,(function(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],r),{angle:l}=Kx(t,{x:e.x,y:e.y});Yx(l,o,a)&&i.push({element:t,datasetIndex:n,index:s})})),i}(t,e,n,i):[]}function Fk(t,e,n,r,i){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return Pk(t,n,e,((t,r,l)=>{t[o](e[n],i)&&(s.push({element:t,datasetIndex:r,index:l}),a=a||t.inRange(e.x,e.y,i))})),r&&!a?[]:s}var jk={evaluateInteractionItems:Pk,modes:{index(t,e,n,r){const i=RS(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Dk(t,i,s,r,o):Lk(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,r){const i=RS(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Dk(t,i,s,r,o):Lk(t,i,s,!1,r,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,r)=>Dk(t,RS(e,t),n.axis||"xy",r,n.includeInvisible||!1),nearest(t,e,n,r){const i=RS(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Lk(t,i,s,n.intersect,r,o)},x:(t,e,n,r)=>Fk(t,RS(e,t),"x",n.intersect,r),y:(t,e,n,r)=>Fk(t,RS(e,t),"y",n.intersect,r)}};const Uk=["left","top","right","bottom"];function Vk(t,e){return t.filter((t=>t.pos===e))}function zk(t,e){return t.filter((t=>-1===Uk.indexOf(t.pos)&&t.box.axis===e))}function Bk(t,e){return t.sort(((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function Wk(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!Uk.includes(r))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return e}(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*r:o&&e.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:o&&e.availableHeight)}return n}function Hk(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function qk(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Kk(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!cx(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[i]+=n.size}s.getPadding&&qk(o,s.getPadding());const a=Math.max(0,e.outerWidth-Hk(o,t,"left","right")),l=Math.max(0,e.outerHeight-Hk(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Gk(t,e){const n=e.maxPadding;function r(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{r[t]=Math.max(e[t],n[t])})),r}return r(t?["left","right"]:["top","bottom"])}function Qk(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Gk(a.horizontal,e));const{same:o,other:h}=Kk(e,n,a,r);c|=o&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&Qk(i,e,n,r)||u}function $k(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Yk(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const r=e.w*c,s=l.size||t.height;Tx(l.start)&&(o=l.start),t.fullSize?$k(t,i.left,o,n.outerWidth-i.right-i.left,s):$k(t,e.left+l.placed,o,r,s),l.start=o,l.placed+=r,o=t.bottom}else{const r=e.h*c,o=l.size||t.width;Tx(l.start)&&(s=l.start),t.fullSize?$k(t,s,i.top,o,n.outerHeight-i.bottom-i.top):$k(t,s,e.top+l.placed,o,r),l.start=s,l.placed+=r,s=t.right}}e.x=s,e.y=o}var Xk={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=JE(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=function(t){const e=function(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=i),e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}(t),n=Bk(e.filter((t=>t.box.fullSize)),!0),r=Bk(Vk(e,"left"),!0),i=Bk(Vk(e,"right")),s=Bk(Vk(e,"top"),!0),o=Bk(Vk(e,"bottom")),a=zk(e,"x"),l=zk(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Vk(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;gx(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);qk(d,JE(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),p=Wk(l.concat(c),h);Qk(a.fullSize,f,h,p),Qk(l,f,h,p),Qk(c,f,h,p)&&Qk(l,f,h,p),function(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),Yk(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Yk(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},gx(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Jk{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class Zk extends Jk{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const tT="$chartjs",eT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nT=t=>null===t||""===t;const rT=!!DS&&{passive:!0};function iT(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,rT)}function sT(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function oT(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||sT(n.addedNodes,r),e=e&&!sT(n.removedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function aT(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||sT(n.removedNodes,r),e=e&&!sT(n.addedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const lT=new Map;let cT=0;function uT(){const t=window.devicePixelRatio;t!==cT&&(cT=t,lT.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function hT(t,e,n){const r=t.canvas,i=r&&SS(r);if(!i)return;const s=oE(((t,e)=>{const r=i.clientWidth;n(t,e),r<i.clientWidth&&n()}),window),o=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||s(n,r)}));return o.observe(i),function(t,e){lT.size||window.addEventListener("resize",uT),lT.set(t,e)}(t,s),o}function dT(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){lT.delete(t),lT.size||window.removeEventListener("resize",uT)}(t)}function fT(t,e,n){const r=t.canvas,i=oE((e=>{null!==t.ctx&&n(function(t,e){const n=eT[t.type]||t.type,{x:r,y:i}=RS(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,rT)}(r,e,i),i}class pT extends Jk{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[tT]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",nT(i)){const e=MS(t,"width");void 0!==e&&(t.width=e)}if(nT(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=MS(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[tT])return!1;const n=e[tT].initial;["height","width"].forEach((t=>{const r=n[t];ax(r)?e.removeAttribute(t):e.setAttribute(t,r)}));const r=n.style||{};return Object.keys(r).forEach((t=>{e.style[t]=r[t]})),e.width=e.width,delete e[tT],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),i={attach:oT,detach:aT,resize:hT}[e]||fT;r[e]=i(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:dT,detach:dT,resize:dT}[e]||iT)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return NS(t,e,n,r)}isAttached(t){const e=SS(t);return!(!e||!e.isConnected)}}class gT{constructor(){kw(this,"x",void 0),kw(this,"y",void 0),kw(this,"active",!1),kw(this,"options",void 0),kw(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return zx(this.x)&&zx(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach((t=>{r[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),r}}function mT(t,e){const n=t.options.ticks,r=function(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return function(t,e,n,r){let i,s=0,o=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===o&&(e.push(t[i]),s++,o=n[s*r])}(e,c,s,o/i),c;const u=function(t,e,n){const r=function(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}(t),i=e.length/n;if(!r)return Math.max(i,1);const s=function(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(r);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>i)return t}return Math.max(i,1)}(s,e,i);if(o>0){let t,n;const r=o>1?Math.round((l-a)/(o-1)):null;for(vT(e,c,u,ax(r)?0:a-r,a),t=0,n=o-1;t<n;t++)vT(e,c,u,s[t],s[t+1]);return vT(e,c,u,l,ax(r)?e.length:l+r),c}return vT(e,c,u),c}function vT(t,e,n,r,i){const s=dx(r,0),o=Math.min(dx(i,t.length),t.length);let a,l,c,u=0;for(n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(e.push(t[l]),u++,c=Math.round(s+u*n))}kw(gT,"defaults",{}),kw(gT,"defaultRoutes",void 0);const yT=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,bT=(t,e)=>Math.min(e||t,t);function _T(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function wT(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<s-a||c>o+a)))return c}function xT(t){return t.drawTicks?t.tickLength:0}function ET(t,e){if(!t.display)return 0;const n=ZE(t.font,e),r=JE(t.padding);return(lx(t.text)?t.text.length:1)*n.lineHeight+r.height}function ST(t,e,n){let r=aE(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=(t=>"left"===t?"right":"right"===t?"left":t)(r)),r}class kT extends gT{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=hx(t,Number.POSITIVE_INFINITY),e=hx(e,Number.NEGATIVE_INFINITY),n=hx(n,Number.POSITIVE_INFINITY),r=hx(r,Number.NEGATIVE_INFINITY),{min:hx(t,n),max:hx(e,r),minDefined:ux(t),maxDefined:ux(e)}}getMinMax(t){let e,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),i||(n=Math.min(n,e.min)),s||(r=Math.max(r,e.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:hx(n,hx(r,n)),max:hx(r,hx(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){px(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:r,max:i}=t,s=fx(e,(i-r)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(r,-Math.abs(s)),max:o(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?_T(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=mT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){px(this.options.afterUpdate,[this])}beforeSetDimensions(){px(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){px(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),px(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){px(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],i.label=px(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){px(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){px(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=bT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,i=e.maxRotation;let s,o,a,l=r;if(!this._isVisible()||!e.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Xx(this.chart.width-u,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(t.offset?.5:1)),o=this.maxHeight-xT(t.grid)-e.padding-ET(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=Hx(Math.min(Math.asin(Xx((c.highest.height+6)/s,-1,1)),Math.asin(Xx(o/a,-1,1))-Math.asin(Xx(h/a,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){px(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){px(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=ET(r,e.options.font);if(o?(t.width=this.maxWidth,t.height=xT(i)+s):(t.height=this.maxHeight,t.width=xT(i)+s),n.display&&this.ticks.length){const{first:e,last:r,widest:i,highest:s}=this._getLabelSizes(),a=2*n.padding,l=Wx(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const e=n.mirror?0:u*i.width+c*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*i.width+u*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,r,u,c)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:i,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=r*t.width,h=n*e.height):(u=n*t.height,h=r*e.width):"start"===i?h=e.width:"end"===i?u=t.width:"inner"!==i&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=e.height/2,r=t.height/2;"start"===i?(n=0,r=t.height):"end"===i&&(n=e.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){px(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)ax(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=_T(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:r,_longestTextCache:i}=this,s=[],o=[],a=Math.floor(e/bT(e,n));let l,c,u,h,d,f,p,g,m,v,y,b=0,_=0;for(l=0;l<e;l+=a){if(h=t[l].label,d=this._resolveTickFontOptions(l),r.font=f=d.string,p=i[f]=i[f]||{data:{},gc:[]},g=d.lineHeight,m=v=0,ax(h)||lx(h)){if(lx(h))for(c=0,u=h.length;c<u;++c)y=h[c],ax(y)||lx(y)||(m=RE(r,p.data,p.gc,m,y),v+=g)}else m=RE(r,p.data,p.gc,m,h),v=g;s.push(m),o.push(v),b=Math.max(m,b),_=Math.max(v,_)}!function(t,e){gx(t,(t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}}))}(i,e);const w=s.indexOf(b),x=o.indexOf(_),E=t=>({width:s[t]||0,height:o[t]||0});return{first:E(0),last:E(e-1),widest:E(w),highest:E(x),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Xx(this._alignToPixels?NE(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return eS(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=eS(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=Wx(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),s=t.autoSkipPadding||0,o=i?i.widest.width+s:0,a=i?i.highest.height+s:0;return this.isHorizontal()?a*n>o*r?o/n:a/r:a*r<o*n?a/n:o/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:o}=r,a=i.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=xT(i),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(t){return NE(n,t,f)};let m,v,y,b,_,w,x,E,S,k,T,C;if("top"===s)m=g(this.bottom),w=this.bottom-u,E=m-p,k=g(t.top)+p,C=t.bottom;else if("bottom"===s)m=g(this.top),k=t.top,C=g(t.bottom)-p,w=m+p,E=this.top+u;else if("left"===s)m=g(this.right),_=this.right-u,x=m-p,S=g(t.left)+p,T=t.right;else if("right"===s)m=g(this.left),S=t.left,T=g(t.right)-p,_=m+p,x=this.left+u;else if("x"===e){if("center"===s)m=g((t.top+t.bottom)/2+.5);else if(cx(s)){const t=Object.keys(s)[0],e=s[t];m=g(this.chart.scales[t].getPixelForValue(e))}k=t.top,C=t.bottom,w=m+p,E=w+u}else if("y"===e){if("center"===s)m=g((t.left+t.right)/2);else if(cx(s)){const t=Object.keys(s)[0],e=s[t];m=g(this.chart.scales[t].getPixelForValue(e))}_=m-p,x=_-u,S=t.left,T=t.right}const I=dx(r.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/I));for(v=0;v<c;v+=A){const t=this.getContext(v),e=i.setContext(t),r=o.setContext(t),s=e.lineWidth,c=e.color,u=r.dash||[],d=r.dashOffset,f=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;y=wT(this,v,a),void 0!==y&&(b=NE(n,y,s),l?_=x=S=T=b:w=E=k=C=b,h.push({tx1:_,ty1:w,tx2:x,ty2:E,x1:S,y1:k,x2:T,y2:C,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=i,h=xT(n.grid),d=h+c,f=u?-c:d,p=-Wx(this.labelRotation),g=[];let m,v,y,b,_,w,x,E,S,k,T,C,I="middle";if("top"===r)w=this.bottom-f,x=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,x=this._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,_=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,_=t.x}else if("x"===e){if("center"===r)w=(t.top+t.bottom)/2+d;else if(cx(r)){const t=Object.keys(r)[0],e=r[t];w=this.chart.scales[t].getPixelForValue(e)+d}x=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)_=(t.left+t.right)/2-d;else if(cx(r)){const t=Object.keys(r)[0],e=r[t];_=this.chart.scales[t].getPixelForValue(e)}x=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?I="top":"end"===a&&(I="bottom"));const A=this._getLabelSizes();for(m=0,v=o.length;m<v;++m){y=o[m],b=y.label;const t=i.setContext(this.getContext(m));E=this.getPixelForTick(m)+i.labelOffset,S=this._resolveTickFontOptions(m),k=S.lineHeight,T=lx(b)?b.length:1;const e=T/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=x;if(s?(_=E,"inner"===x&&(d=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===l||0!==p?-T*k+k/2:"center"===l?-A.highest.height/2-e*k+k:-A.highest.height+k/2:"near"===l||0!==p?k/2:"center"===l?A.highest.height/2-e*k:A.highest.height-T*k,u&&(C*=-1),0===p||t.showLabelBackdrop||(_+=k/2*Math.sin(p))):(w=E,C=(1-T)*k/2),t.showLabelBackdrop){const e=JE(t.backdropPadding),n=A.heights[m],r=A.widths[m];let i=C-e.top,s=0-e.left;switch(I){case"middle":i-=n/2;break;case"bottom":i-=n}switch(x){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":m===v-1?s-=r:m>0&&(s-=r/2)}h={left:s,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:b,font:S,textOffset:C,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:I,translation:[_,w],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Wx(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=t+i,o=this._getLabelSizes().widest.width;let a,l;return"left"===e?r?(l=this.right+i,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===e?r?(l=this.left+i,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,s;const o=(t,e,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(i=0,s=r.length;i<s;++i){const t=r[i];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=NE(t,this.left,s)-s/2,c=NE(t,this.right,o)+o/2,u=h=a):(u=NE(t,this.top,s)-s/2,h=NE(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&FE(e,n);const r=this.getLabelItems(t);for(const i of r){const t=i.options,n=i.font;WE(e,i.label,0,i.textOffset,n,t)}n&&jE(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=ZE(n.font),s=JE(n.padding),o=n.align;let a=i.lineHeight/2;"bottom"===e||"center"===e||cx(e)?(a+=s.bottom,lx(n.text)&&(a+=i.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=o-i,m=a-s;if(t.isHorizontal()){if(d=lE(r,s,a),cx(n)){const t=Object.keys(n)[0],r=n[t];f=u[t].getPixelForValue(r)+g-e}else f="center"===n?(c.bottom+c.top)/2+g-e:yT(t,n,e);h=a-s}else{if(cx(n)){const t=Object.keys(n)[0],r=n[t];d=u[t].getPixelForValue(r)-m+e}else d="center"===n?(c.left+c.right)/2-m+e:yT(t,n,e);f=lE(r,o,i),p="left"===n?-Dx:Dx}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,e,o);WE(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:ST(o,e,r),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=dx(t.grid&&t.grid.z,-1),r=dx(t.border&&t.border.z,0);return this._isVisible()&&this.draw===kT.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=e.length;i<s;++i){const s=e[i];s[n]!==this.id||t&&s.type!==t||r.push(s)}return r}_resolveTickFontOptions(t){return ZE(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class TT{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const r=this.items,i=t.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,function(t,e,n){const r=_x(Object.create(null),[n?AE.get(n):{},AE.get(e),t.defaults]);AE.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");AE.route(s,i,l,a)}))}(e,t.defaultRoutes);t.descriptors&&AE.describe(e,t.descriptors)}(t,s,n),this.override&&AE.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in AE[r]&&(delete AE[r][n],this.override&&delete SE[n])}}class CT{constructor(){this.controllers=new TT(dk,"datasets",!0),this.elements=new TT(gT,"elements"),this.plugins=new TT(Object,"plugins"),this.scales=new TT(kT,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const r=n||this._getRegistryForType(e);n||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):gx(e,(e=>{const r=n||this._getRegistryForType(e);this._exec(t,r,e)}))}))}_exec(t,e,n){const r=kx(t);px(n["before"+r],[],n),e[t](n),px(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var IT=new CT;class AT{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(i,t,e,n);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin;if(!1===px(t[n],[e,r,i.options],t)&&r.cancelable)return!1}return!0}invalidate(){ax(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=dx(n.options&&n.options.plugins,{}),i=function(t){const e={},n=[],r=Object.keys(IT.plugins.items);for(let s=0;s<r.length;s++)n.push(IT.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const t=i[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==r||e?function(t,e,n,r){let{plugins:i,localIds:s}=e;const o=[],a=t.getContext();for(const l of i){const e=l.id,i=RT(n[e],r);null!==i&&o.push({plugin:l,options:OT(t.config,{plugin:l,local:s[e]},i,a)})}return o}(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function RT(t,e){return e||!1!==t?!0===t?{}:t:null}function OT(t,e,n,r){let{plugin:i,local:s}=e;const o=t.pluginScopeKeys(i),a=t.getOptionScopes(n,o);return s&&i.defaults&&a.push(i.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function NT(t,e){const n=AE.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function PT(t){if("x"===t||"y"===t||"r"===t)return t}function DT(t){if(PT(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(const s of n){const e=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&PT(t[0].toLowerCase());if(e)return e}var i;throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function MT(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function LT(t,e){const n=SE[t.type]||{scales:{}},r=e.scales||{},i=NT(t.type,e),s=Object.create(null);return Object.keys(r).forEach((e=>{const o=r[e];if(!cx(o))return console.error("Invalid scale configuration for scale: ".concat(e));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const a=DT(e,o,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return MT(t,"x",n[0])||MT(t,"y",n[0])}return{}}(e,t),AE.scales[o.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,i),c=n.scales||{};s[e]=wx(Object.create(null),[{axis:a},o,c[a],c[l]])})),t.data.datasets.forEach((n=>{const i=n.type||t.type,o=n.indexAxis||NT(i,e),a=(SE[i]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,o),i=n[e+"AxisID"]||e;s[i]=s[i]||Object.create(null),wx(s[i],[{axis:e},r[i],a[t]])}))})),Object.keys(s).forEach((t=>{const e=s[t];wx(e,[AE.scales[e.type],AE.scale])})),s}function FT(t){const e=t.options||(t.options={});e.plugins=dx(e.plugins,{}),e.scales=LT(t,e)}function jT(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const UT=new Map,VT=new Set;function zT(t,e){let n=UT.get(t);return n||(n=e(),UT.set(t,n),VT.add(n)),n}const BT=(t,e,n)=>{const r=Sx(e,n);void 0!==r&&t.add(r)};class WT{constructor(t){this._config=function(t){return(t=t||{}).data=jT(t.data),FT(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=jT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),FT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return zT(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return zT("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return zT("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return zT("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>BT(a,t,e)))),e.forEach((t=>BT(a,r,t))),e.forEach((t=>BT(a,SE[i]||{},t))),e.forEach((t=>BT(a,AE,t))),e.forEach((t=>BT(a,kE,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),VT.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,SE[e]||{},AE.datasets[e]||{},{type:e},AE,kE]}resolveNamedOptions(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:o}=HT(this._resolverCache,t,r);let a=s;if(function(t,e){const{isScriptable:n,isIndexable:r}=iS(t);for(const i of e){const e=n(i),s=r(i),o=(s||e)&&t[i];if(e&&(Cx(o)||qT(o))||s&&lx(o))return!0}return!1}(s,e)){i.$shared=!1;a=rS(s,n=Cx(n)?n():n,this.createResolver(t,n,o))}for(const l of e)i[l]=a[l];return i}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=HT(this._resolverCache,t,n);return cx(e)?rS(i,e,void 0,r):i}}function HT(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:nS(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},r.set(i,s)}return s}const qT=t=>cx(t)&&Object.getOwnPropertyNames(t).some((e=>Cx(t[e])));const KT=["top","bottom","left","right","chartArea"];function GT(t,e){return"top"===t||"bottom"===t||-1===KT.indexOf(t)&&"x"===e}function QT(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function $T(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),px(n&&n.onComplete,[t],e)}function YT(t){const e=t.chart,n=e.options.animation;px(n&&n.onProgress,[t],e)}function XT(t){return ES()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const JT={},ZT=t=>{const e=XT(t);return Object.values(JT).filter((t=>t.canvas===e)).pop()};function tC(t,e,n){const r=Object.keys(t);for(const i of r){const r=+i;if(r>=e){const s=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=s)}}}function eC(t,e,n){return t.options.clip?t[n]:e[n]}class nC{static register(){IT.add(...arguments),rC()}static unregister(){IT.remove(...arguments),rC()}constructor(t,e){const n=this.config=new WT(e),r=XT(t),i=ZT(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!ES()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Zk:pT}(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=ox(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new AT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}((t=>this.update(t)),s.resizeDelay||0),this._dataChanges=[],JT[this.id]=this,o&&a?(YS.listen(this,"complete",$T),YS.listen(this,"progress",YT),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return ax(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return IT}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():PS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return PE(this.canvas,this.ctx),this}stop(){return YS.stop(this),this}resize(t,e){YS.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,t,e,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,PS(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),px(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){gx(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let i=[];e&&(i=i.concat(Object.keys(e).map((t=>{const n=e[t],r=DT(t,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}})))),gx(i,(e=>{const i=e.options,s=i.id,o=DT(s,i),a=dx(i.type,e.dtype);void 0!==i.position&&GT(i.position,o)===GT(e.dposition)||(i.position=e.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(IT.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,t)})),gx(r,((t,e)=>{t||delete n[e]})),gx(n,(t=>{Xk.configure(this,t,t.options),Xk.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(QT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const r=e[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||NT(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const e=IT.getController(s),{datasetElementType:r,dataElementType:o}=AE.datasets[s];Object.assign(e,{dataElementType:IT.getElement(o),datasetElementType:r&&IT.getElement(r)}),i.controller=new e(this,n),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){gx(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!r&&-1===i.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||gx(i,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(QT("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){gx(this.scales,(t=>{Xk.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);Ix(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of e){tC(t,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),r=n(0);for(let i=1;i<e;i++)if(!Ix(r,n(i)))return;return Array.from(r).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Xk.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],gx(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Cx(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(YS.has(this)?this.attached&&!YS.running(this)&&YS.start(this):(this.draw(),$T({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];t&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,i=function(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:eC(n,e,"left"),right:eC(n,e,"right"),top:eC(r,e,"top"),bottom:eC(r,e,"bottom")}:e}(t,this.chartArea),s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&FE(e,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),t.controller.draw(),r&&jE(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return LE(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const i=jk.modes[e];return"function"===typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter((t=>t&&t._dataset===e)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=eS(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",i=this.getDatasetMeta(t),s=i.controller._resolveAnimations(void 0,r);Tx(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(i,{visible:n}),this.update((e=>e.datasetIndex===t?r:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),YS.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),PE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete JT[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};gx(this.options.events,(t=>n(t,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(n,r)=>{t[n]&&(e.removeEventListener(this,n,r),delete t[n])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){gx(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},gx(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,s,o,a;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.getDatasetMeta(e);if(!r)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:r.data[n],index:n}}));!mx(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const r=this.options.hover,i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),s=i(e,t),o=n?t:i(t,e);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:i}=this,s=e,o=this._getActiveElements(t,r,n,s),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,px(i.onHover,[t,o,this],this),a&&px(i.onClick,[t,o,this],this));const c=!mx(o,r);return(c||e)&&(this._active=o,this._updateHoverStyles(o,r,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,r){if("mouseout"===t.type)return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}function rC(){return gx(nC.instances,(t=>t._plugins.invalidate()))}function iC(t,e,n,r){const i=$E(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-e)/2,o=Math.min(s,r*e/2),a=t=>{const e=(n-Math.min(s,t))*r/2;return Xx(t,0,Math.min(s,e))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Xx(i.innerStart,0,o),innerEnd:Xx(i.innerEnd,0,o)}}function sC(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function oC(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const t=((u>0?u-r:0)+(h>0?h-r:0))/2;f=(p-(0!==t?p*t/(t+r):p))/2}const g=(p-Math.max(.001,p*h-n/Ax)/h)/2,m=l+g+f,v=i-g-f,{outerStart:y,outerEnd:b,innerStart:_,innerEnd:w}=iC(e,d,h,v-m),x=h-y,E=h-b,S=m+y/x,k=v-b/E,T=d+_,C=d+w,I=m+_/T,A=v-w/C;if(t.beginPath(),s){const e=(S+k)/2;if(t.arc(o,a,h,S,e),t.arc(o,a,h,e,k),b>0){const e=sC(E,k,o,a);t.arc(e.x,e.y,b,k,v+Dx)}const n=sC(C,v,o,a);if(t.lineTo(n.x,n.y),w>0){const e=sC(C,A,o,a);t.arc(e.x,e.y,w,v+Dx,A+Math.PI)}const r=(v-w/d+(m+_/d))/2;if(t.arc(o,a,d,v-w/d,r,!0),t.arc(o,a,d,r,m+_/d,!0),_>0){const e=sC(T,I,o,a);t.arc(e.x,e.y,_,I+Math.PI,m-Dx)}const i=sC(x,m,o,a);if(t.lineTo(i.x,i.y),y>0){const e=sC(x,S,o,a);t.arc(e.x,e.y,y,m-Dx,S)}}else{t.moveTo(o,a);const e=Math.cos(S)*h+o,n=Math.sin(S)*h+a;t.lineTo(e,n);const r=Math.cos(k)*h+o,i=Math.sin(k)*h+a;t.lineTo(r,i)}t.closePath()}function aC(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=d,f?(t.lineWidth=2*c,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){oC(t,e,n,r,p,i);for(let e=0;e<s;++e)t.stroke();isNaN(a)||(p=o+(a%Rx||Rx))}f&&function(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+Dx,r-Dx),t.closePath(),t.clip()}(t,e,p),s||(oC(t,e,n,r,p,i),t.stroke())}kw(nC,"defaults",AE),kw(nC,"instances",JT),kw(nC,"overrides",SE),kw(nC,"registry",IT),kw(nC,"version","4.4.2"),kw(nC,"getChart",ZT);class lC extends gT{constructor(t){super(),kw(this,"circumference",void 0),kw(this,"endAngle",void 0),kw(this,"fullCircles",void 0),kw(this,"innerRadius",void 0),kw(this,"outerRadius",void 0),kw(this,"pixelMargin",void 0),kw(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=Kx(r,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=dx(u,a-o)>=Rx||Yx(i,o,a),f=Jx(s,l+h,c+h);return d&&f}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,c=(r+i)/2,u=(s+o+l+a)/2;return{x:e+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,r=(e.offset||0)/4,i=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>Rx?Math.floor(n/Rx):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*r,Math.sin(o)*r);const a=r*(1-Math.sin(Math.min(Ax,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){oC(t,e,n,r,l,i);for(let e=0;e<s;++e)t.fill();isNaN(a)||(l=o+(a%Rx||Rx))}oC(t,e,n,r,l,i),t.fill()}(t,this,a,i,s),aC(t,this,a,i,s),t.restore()}}function cC(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=dx(n.borderCapStyle,e.borderCapStyle),t.setLineDash(dx(n.borderDash,e.borderDash)),t.lineDashOffset=dx(n.borderDashOffset,e.borderDashOffset),t.lineJoin=dx(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=dx(n.borderWidth,e.borderWidth),t.strokeStyle=dx(n.borderColor,e.borderColor)}function uC(t,e,n){t.lineTo(n.x,n.y)}function hC(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function dC(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=hC(i,n,r),u=function(t){return t.stepped?UE:t.tension||"monotone"===t.cubicInterpolationMode?VE:uC}(s);let h,d,f,{move:p=!0,reverse:g}=r||{};for(h=0;h<=c;++h)d=i[(a+(g?c-h:h))%o],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):u(t,f,d,g,s.stepped),f=d);return l&&(d=i[(a+(g?c:0))%o],u(t,f,d,g,s.stepped)),!!l}function fC(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=hC(i,n,r),{move:l=!0,reverse:c}=r||{};let u,h,d,f,p,g,m=0,v=0;const y=t=>(o+(c?a-t:t))%s,b=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(l&&(h=i[y(0)],t.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=i[y(u)],h.skip)continue;const e=h.x,n=h.y,r=0|e;r===d?(n<f?f=n:n>p&&(p=n),m=(v*m+e)/++v):(b(),t.lineTo(e,n),d=r,v=0,f=p=n),g=n}b()}function pC(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?fC:dC}kw(lC,"id","arc"),kw(lC,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),kw(lC,"defaultRoutes",{backgroundColor:"backgroundColor"}),kw(lC,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const gC="function"===typeof Path2D;function mC(t,e,n,r){gC&&!e.options.segment?function(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),cC(t,e.options),t.stroke(i)}(t,e,n,r):function(t,e,n,r){const{segments:i,options:s}=e,o=pC(e);for(const a of i)cC(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}(t,e,n,r)}class vC extends gT{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;xS(this._points,n,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=function(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}(n,i,s,r);return KS(t,!0===r?[{start:o,end:a,loop:s}]:function(t,e,n,r){const i=t.length,s=[];let o,a=e,l=t[e];for(o=e+1;o<=n;++o){const n=t[o%i];n.skip||n.stop?l.skip||(r=!1,s.push({start:e%i,end:(o-1)%i,loop:r}),e=a=n.stop?o:null):(a=o,l.skip&&(e=o)),l=n}return null!==a&&s.push({start:e%i,end:a%i,loop:r}),s}(n,o,a<o?a+i:a,!!t._fullLoop&&0===o&&a===i-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,r=t[e],i=this.points,s=qS(this,{property:e,start:r,end:r});if(!s.length)return;const o=[],a=function(t){return t.stepped?FS:t.tension||"monotone"===t.cubicInterpolationMode?jS:LS}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=i[c],d=i[u];if(h===d){o.push(h);continue}const f=a(h,d,Math.abs((r-h[e])/(d[e]-h[e])),n.stepped);f[e]=t[e],o.push(f)}return 1===o.length?o[0]:o}pathSegment(t,e,n){return pC(this)(t,this,e,n)}path(t,e,n){const r=this.segments,i=pC(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const o of r)s&=i(t,this,o,{start:e,end:e+n-1});return!!s}draw(t,e,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),mC(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function yC(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}kw(vC,"id","line"),kw(vC,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),kw(vC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),kw(vC,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class bC extends gT{constructor(t){super(),kw(this,"parsed",void 0),kw(this,"skip",void 0),kw(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(e-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return yC(this,t,"x",e)}inYRange(t,e){return yC(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!LE(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,DE(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function _C(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=s/2,a=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function wC(t,e,n,r){return t?0:Xx(e,n,r)}function xC(t){const e=_C(t),n=e.right-e.left,r=e.bottom-e.top,i=function(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=YE(r);return{t:wC(i.top,s.top,0,n),r:wC(i.right,s.right,0,e),b:wC(i.bottom,s.bottom,0,n),l:wC(i.left,s.left,0,e)}}(t,n/2,r/2),s=function(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=XE(i),o=Math.min(e,n),a=t.borderSkipped,l=r||cx(i);return{topLeft:wC(!l||a.top||a.left,s.topLeft,0,o),topRight:wC(!l||a.top||a.right,s.topRight,0,o),bottomLeft:wC(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:wC(!l||a.bottom||a.right,s.bottomRight,0,o)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function EC(t,e,n,r){const i=null===e,s=null===n,o=t&&!(i&&s)&&_C(t,r);return o&&(i||Jx(e,o.left,o.right))&&(s||Jx(n,o.top,o.bottom))}function SC(t,e){t.rect(e.x,e.y,e.w,e.h)}function kC(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}kw(bC,"id","point"),kw(bC,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),kw(bC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class TC extends gT{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:s}=xC(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?HE:SC;var a;t.save(),s.w===i.w&&s.h===i.h||(t.beginPath(),o(t,kC(s,e,i)),t.clip(),o(t,kC(i,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,kC(i,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return EC(this,t,e,n)}inXRange(t,e){return EC(this,t,null,e)}inYRange(t,e){return EC(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+r)/2:e,y:i?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}kw(TC,"id","bar"),kw(TC,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),kw(TC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const CC=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}};class IC extends gT{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=px(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=ZE(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=CC(n,i);let l,c;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,r,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+o;let u=t;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+i.measureText(t.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+o})),u}_fitCols(t,e,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-t;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,s)=>{const{itemWidth:g,itemHeight:m}=function(t,e,n,r,i){const s=function(t,e,n,r){let i=t.text;i&&"string"!==typeof i&&(i=i.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+r.measureText(i).width}(r,t,e,n),o=function(t,e,n){let r=t;"string"!==typeof e.text&&(r=AC(e,n));return r}(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}(n,e,i,t,r);s>0&&d+m+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+o})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:i}}=this,s=US(i,this.left,this.width);if(this.isHorizontal()){let i=0,o=lE(n,this.left+r,this.right-this.lineWidths[i]);for(const a of e)i!==a.row&&(i=a.row,o=lE(n,this.left+r,this.right-this.lineWidths[i])),a.top+=this.top+t+r,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+r}else{let i=0,o=lE(n,this.top+t+r,this.bottom-this.columnSizes[i].height);for(const a of e)a.col!==i&&(i=a.col,o=lE(n,this.top+t+r,this.bottom-this.columnSizes[i].height)),a.top=o,a.left+=this.left+r,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;FE(t,this),this._draw(),jE(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:i,labels:s}=t,o=AE.color,a=US(t.rtl,this.left,this.width),l=ZE(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=CC(s,u),m=this.isHorizontal(),v=this._computeTitleHeight();d=m?{x:lE(i,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:lE(i,this.top+v+c,this.bottom-e[0].height),line:0},VS(this.ctx,t.textDirection);const y=g+c;this.legendItems.forEach(((b,_)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const w=r.measureText(b.text).width,x=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),E=f+h+w;let S=d.x,k=d.y;a.setWidth(this.width),m?_>0&&S+E+c>this.right&&(k=d.y+=y,d.line++,S=d.x=lE(i,this.left+c,this.right-n[d.line])):_>0&&k+y>this.bottom&&(S=d.x=S+e[d.line].width+c,d.line++,k=d.y=lE(i,this.top+v+c,this.bottom-e[d.line].height));if(function(t,e,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=dx(n.lineWidth,1);if(r.fillStyle=dx(n.fillStyle,o),r.lineCap=dx(n.lineCap,"butt"),r.lineDashOffset=dx(n.lineDashOffset,0),r.lineJoin=dx(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=dx(n.strokeStyle,o),r.setLineDash(dx(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=a.xPlus(t,f/2);ME(r,o,l,e+h,s.pointStyleWidth&&f)}else{const s=e+Math.max((u-p)/2,0),o=a.leftForLtr(t,f),l=XE(n.borderRadius);r.beginPath(),Object.values(l).some((t=>0!==t))?HE(r,{x:o,y:s,w:f,h:p,radius:l}):r.rect(o,s,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(a.x(S),k,b),S=((t,e,n,r)=>t===(r?"left":"right")?n:"center"===t?(e+n)/2:e)(x,S+f+h,m?S+E:this.right,t.rtl),function(t,e,n){WE(r,n.text,t,e+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(S),k,b),m)d.x+=E+c;else if("string"!==typeof b.text){const t=l.lineHeight;d.y+=AC(b,t)+c}else d.y+=y})),zS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=ZE(e.font),r=JE(e.padding);if(!e.display)return;const i=US(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=n.size/2,l=r.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=lE(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+lE(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=lE(o,u,u+h);s.textAlign=i.textAlign(aE(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,WE(s,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=ZE(t.font),n=JE(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,i;if(Jx(t,this.left,this.right)&&Jx(e,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Jx(t,r.left,r.left+r.width)&&Jx(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,i=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(r,n);r&&!i&&px(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!i&&px(e.onHover,[t,n,this],this)}else n&&px(e.onClick,[t,n,this],this)}}function AC(t,e){return e*(t.text?t.text.length:0)}var RC={id:"legend",_element:IC,start(t,e,n){const r=t.legend=new IC({ctx:t.ctx,options:n,chart:t});Xk.configure(t,r,n),Xk.addBox(t,r)},stop(t){Xk.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Xk.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=JE(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class OC extends gT{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=lx(n.text)?n.text.length:1;this._padding=JE(n.padding);const i=r*ZE(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:i,options:s}=this,o=s.align;let a,l,c,u=0;return this.isHorizontal()?(l=lE(o,n,i),c=e+t,a=i-n):("left"===s.position?(l=n+t,c=lE(o,r,e),u=-.5*Ax):(l=i-t,c=lE(o,e,r),u=.5*Ax),a=r-e),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=ZE(e.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(r);WE(t,e.text,0,0,n,{color:e.color,maxWidth:o,rotation:a,textAlign:aE(e.align),textBaseline:"middle",translation:[i,s]})}}var NC={id:"title",_element:OC,start(t,e,n){!function(t,e){const n=new OC({ctx:t.ctx,options:e,chart:t});Xk.configure(t,n,e),Xk.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;Xk.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Xk.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const PC={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r.add(t.x),i+=t.y,++s}}const o=[...r].reduce(((t,e)=>t+e))/r.size;return{x:o,y:i/s}},nearest(t,e){if(!t.length)return!1;let n,r,i,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=Gx(e,r.getCenterPoint());t<a&&(a=t,i=r)}}if(i){const t=i.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function DC(t,e){return e&&(lx(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function MC(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function LC(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function FC(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=ZE(e.bodyFont),c=ZE(e.titleFont),u=ZE(e.footerFont),h=s.length,d=i.length,f=r.length,p=JE(e.padding);let g=p.height,m=0,v=r.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let y=0;const b=function(t){m=Math.max(m,n.measureText(t).width+y)};return n.save(),n.font=c.string,gx(t.title,b),n.font=l.string,gx(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?o+2+e.boxPadding:0,gx(r,(t=>{gx(t.before,b),gx(t.lines,b),gx(t.after,b)})),y=0,n.font=u.string,gx(t.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function jC(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return"center"===r?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),function(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;return"left"===t&&i+s+o>e.width||"right"===t&&i-s-o<0||void 0}(c,t,e,n)&&(c="center"),c}function UC(t,e,n){const r=n.yAlign||e.yAlign||function(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||jC(t,e,n,r),yAlign:r}}function VC(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=XE(o);let p=function(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,a);const g=function(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+i:"right"===a&&(p+=Math.max(h,f)+i),{x:Xx(p,0,r.width-e.width),y:Xx(g,0,r.height-e.height)}}function zC(t,e,n){const r=JE(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function BC(t){return DC([],MC(t))}function WC(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const HC={beforeTitle:sx,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:sx,beforeBody:sx,beforeLabel:sx,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ax(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:sx,afterBody:sx,beforeFooter:sx,footer:sx,afterFooter:sx};function qC(t,e,n,r){const i=t[e].call(n,r);return"undefined"===typeof i?HC[e].call(n,r):i}class KC extends gT{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,i=new tk(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,eS(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,r=qC(n,"beforeTitle",this,t),i=qC(n,"title",this,t),s=qC(n,"afterTitle",this,t);let o=[];return o=DC(o,MC(r)),o=DC(o,MC(i)),o=DC(o,MC(s)),o}getBeforeBody(t,e){return BC(qC(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,r=[];return gx(t,(t=>{const e={before:[],lines:[],after:[]},i=WC(n,t);DC(e.before,MC(qC(i,"beforeLabel",this,t))),DC(e.lines,qC(i,"label",this,t)),DC(e.after,MC(qC(i,"afterLabel",this,t))),r.push(e)})),r}getAfterBody(t,e){return BC(qC(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,r=qC(n,"beforeFooter",this,t),i=qC(n,"footer",this,t),s=qC(n,"afterFooter",this,t);let o=[];return o=DC(o,MC(r)),o=DC(o,MC(i)),o=DC(o,MC(s)),o}_createItems(t){const e=this._active,n=this.chart.data,r=[],i=[],s=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(LC(this.chart,e[o]));return t.filter&&(l=l.filter(((e,r,i)=>t.filter(e,r,i,n)))),t.itemSort&&(l=l.sort(((e,r)=>t.itemSort(e,r,n)))),gx(l,(e=>{const n=WC(t.callbacks,e);r.push(qC(n,"labelColor",this,e)),i.push(qC(n,"labelPointStyle",this,e)),s.push(qC(n,"labelTextColor",this,e))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const t=PC[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=FC(this,n),o=Object.assign({},t,e),a=UC(this.chart,n,o),l=VC(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=XE(o),{x:h,y:d}=t,{width:f,height:p}=e;let g,m,v,y,b,_;return"center"===i?(b=d+p/2,"left"===r?(g=h,m=g-s,y=b+s,_=b-s):(g=h+f,m=g+s,y=b-s,_=b+s),v=g):(m="left"===r?h+Math.max(a,c)+s:"right"===r?h+f-Math.max(l,u)-s:this.caretX,"top"===i?(y=d,b=y-s,g=m-s,v=m+s):(y=d+p,b=y+s,g=m+s,v=m-s),_=y),{x1:g,x2:m,x3:v,y1:y,y2:b,y3:_}}drawTitle(t,e,n){const r=this.title,i=r.length;let s,o,a;if(i){const l=US(n.rtl,this.x,this.width);for(t.x=zC(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=ZE(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<i;++a)e.fillText(r[a],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===i&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,r,i){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=i,c=ZE(i.bodyFont),u=zC(this,"left",i),h=r.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=e.y+d;if(i.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=f+a/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,DE(t,e,n,c),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,DE(t,e,n,c)}else{t.lineWidth=cx(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),o=XE(s.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,HE(t,{x:e,y:f,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),HE(t,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=s.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=ZE(n.bodyFont);let h=u.lineHeight,d=0;const f=US(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+i},g=f.textAlign(s);let m,v,y,b,_,w,x;for(e.textAlign=s,e.textBaseline="middle",e.font=u.string,t.x=zC(this,g,n),e.fillStyle=n.bodyColor,gx(this.beforeBody,p),d=o&&"right"!==g?"center"===s?l/2+c:l+2+c:0,b=0,w=r.length;b<w;++b){for(m=r[b],v=this.labelTextColors[b],e.fillStyle=v,gx(m.before,p),y=m.lines,o&&y.length&&(this._drawColorBox(e,t,b,f,n),h=Math.max(u.lineHeight,a)),_=0,x=y.length;_<x;++_)p(y[_]),h=u.lineHeight;gx(m.after,p)}d=0,h=u.lineHeight,gx(this.afterBody,p),t.y-=i}drawFooter(t,e,n){const r=this.footer,i=r.length;let s,o;if(i){const a=US(n.rtl,this.x,this.width);for(t.x=zC(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=ZE(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<i;++o)e.fillText(r[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:s}=this,{x:o,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=XE(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(o+u,a),"top"===s&&this.drawCaret(t,e,n,r),e.lineTo(o+l-h,a),e.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(o+l,a+c-f),e.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(t,e,n,r),e.lineTo(o+d,a+c),e.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(o,a+u),e.quadraticCurveTo(o,a,o+u,a),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=PC[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=FC(this,t),o=Object.assign({},n,this._size),a=UC(e,t,o),l=VC(t,o,a,e);r._to===l.x&&i._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=JE(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,r,e),VS(t,e.textDirection),i.y+=s.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),zS(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.chart.getDatasetMeta(e);if(!r)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:r.data[n],index:n}})),i=!mx(n,r),s=this._positionChanged(r,e);(i||s)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(t,i,e,n),o=this._positionChanged(s,t),a=e||!mx(s,i)||o;return a&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,r){const i=this.options;if("mouseout"===t.type)return[];if(!r)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const s=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,s=PC[i.position].call(this,t,e);return!1!==s&&(n!==s.x||r!==s.y)}}kw(KC,"positioners",PC);var GC={id:"tooltip",_element:KC,positioners:PC,afterInit(t,e,n){n&&(t.tooltip=new KC({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:HC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function QC(t,e,n,r){const i=t.indexOf(e);if(-1===i)return((t,e,n,r)=>("string"===typeof e?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,r);return i!==t.lastIndexOf(e)?n:i}function $C(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class YC extends kT{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:r}of e)t[n]===r&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ax(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:Xx(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:QC(n,t,dx(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===t&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)r.push({value:s});return r}getLabelForValue(t){return $C.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function XC(t,e){const n=[],{bounds:r,step:i,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=i||1,f=c-1,{min:p,max:g}=e,m=!ax(s),v=!ax(o),y=!ax(l),b=(g-p)/(u+1);let _,w,x,E,S=Vx((g-p)/f/d)*d;if(S<1e-14&&!m&&!v)return[{value:p},{value:g}];E=Math.ceil(g/S)-Math.floor(p/S),E>f&&(S=Vx(E*S/f/d)*d),ax(a)||(_=Math.pow(10,a),S=Math.ceil(S*_)/_),"ticks"===r?(w=Math.floor(p/S)*S,x=Math.ceil(g/S)*S):(w=p,x=g),m&&v&&i&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((o-s)/i,S/1e3)?(E=Math.round(Math.min((o-s)/S,c)),S=(o-s)/E,w=s,x=o):y?(w=m?s:w,x=v?o:x,E=l-1,S=(x-w)/E):(E=(x-w)/S,E=Ux(E,Math.round(E),S/1e3)?Math.round(E):Math.ceil(E));const k=Math.max(qx(S),qx(w));_=Math.pow(10,ax(a)?k:a),w=Math.round(w*_)/_,x=Math.round(x*_)/_;let T=0;for(m&&(h&&w!==s?(n.push({value:s}),w<s&&T++,Ux(Math.round((w+T*S)*_)/_,s,JC(s,b,t))&&T++):w<s&&T++);T<E;++T){const t=Math.round((w+T*S)*_)/_;if(v&&t>o)break;n.push({value:t})}return v&&h&&x!==o?n.length&&Ux(n[n.length-1].value,o,JC(o,b,t))?n[n.length-1].value=o:n.push({value:o}):v&&x!==o||n.push({value:x}),n}function JC(t,e,n){let{horizontal:r,minRotation:i}=n;const s=Wx(i),o=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}kw(YC,"id","category"),kw(YC,"defaults",{ticks:{callback:$C}});class ZC extends kT{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ax(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=t=>r=e?r:t,o=t=>i=n?i:t;if(t){const t=jx(r),e=jx(i);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(r===i){let e=0===i?1:Math.abs(.05*i);o(i+e),t||s(r-e)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=XC({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Bx(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return wE(t,this.chart.options.locale,this.options.ticks.format)}}class tI extends ZC{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ux(t)?t:0,this.max=ux(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Wx(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}kw(tI,"id","linear"),kw(tI,"defaults",{ticks:{callback:EE.formatters.numeric}});const eI=t=>Math.floor(Fx(t)),nI=(t,e)=>Math.pow(10,eI(t)+e);function rI(t){return 1===t/Math.pow(10,eI(t))}function iI(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function sI(t,e){let{min:n,max:r}=e;n=hx(t.min,n);const i=[],s=eI(n);let o=function(t,e){let n=eI(e-t);for(;iI(t,e,n)>10;)n++;for(;iI(t,e,n)<10;)n--;return Math.min(n,eI(t))}(n,r),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=s>o?Math.pow(10,s):0,u=Math.round((n-c)*a)/a,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,o)),f=hx(t.min,Math.round((c+h+d*Math.pow(10,o))*a)/a);for(;f<r;)i.push({value:f,major:rI(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),f=Math.round((c+h+d*Math.pow(10,o))*a)/a;const p=hx(t.max,f);return i.push({value:p,major:rI(p),significand:d}),i}class oI extends kT{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=ZC.prototype.parse.apply(this,[t,e]);if(0!==n)return ux(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ux(t)?Math.max(0,t):null,this.max=ux(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ux(this._userMin)&&(this.min=t===nI(this.min,0)?nI(this.min,-1):nI(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const i=e=>n=t?n:e,s=t=>r=e?r:t;n===r&&(n<=0?(i(1),s(10)):(i(nI(n,-1)),s(nI(r,1)))),n<=0&&i(nI(r,-1)),r<=0&&s(nI(n,1)),this.min=n,this.max=r}buildTicks(){const t=this.options,e=sI({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Bx(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":wE(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Fx(t),this._valueRange=Fx(this.max)-Fx(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Fx(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function aI(t){const e=t.ticks;if(e.display&&t.display){const t=JE(e.backdropPadding);return dx(e.font&&e.font.size,AE.font.size)+t.height}return 0}function lI(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function cI(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ax/s:0;for(let h=0;h<s;h++){const s=o.setContext(t.getPointLabelContext(h));i[h]=s.padding;const d=t.getPointPosition(h,t.drawingArea+i[h],a),f=ZE(s.font),p=(l=t.ctx,c=f,u=lx(u=t._pointLabels[h])?u:[u],{w:OE(l,c.string,u),h:u.length*c.lineHeight});r[h]=p;const g=$x(t.getIndexAngle(h)+a),m=Math.round(Hx(g));uI(n,e,g,lI(m,d.x,p.w,0,180),lI(m,d.y,p.h,90,270))}var l,c,u;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:aI(s)/2,additionalAngle:o?Ax/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const i=hI(t,u,l);r.push(i),"auto"===a&&(i.visible=dI(i,c),i.visible&&(c=i))}return r}(t,r,i)}function uI(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function hI(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(Hx($x(l.angle+Dx))),u=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(l.y,a.h,c),h=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(c),d=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function dI(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(LE({x:n,y:r},e)||LE({x:n,y:s},e)||LE({x:i,y:r},e)||LE({x:i,y:s},e))}function fI(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!ax(a)){const n=XE(e.borderRadius),l=JE(e.backdropPadding);t.fillStyle=a;const c=r-l.left,u=i-l.top,h=s-r+l.width,d=o-i+l.height;Object.values(n).some((t=>0!==t))?(t.beginPath(),HE(t,{x:c,y:u,w:h,h:d,radius:n}),t.fill()):t.fillRect(c,u,h,d)}}function pI(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Rx);else{let n=t.getPointPosition(0,e);i.moveTo(n.x,n.y);for(let s=1;s<r;s++)n=t.getPointPosition(s,e),i.lineTo(n.x,n.y)}}kw(oI,"id","logarithmic"),kw(oI,"defaults",{ticks:{callback:EE.formatters.logarithmic,major:{enabled:!0}}});class gI extends ZC{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=JE(aI(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ux(t)&&!isNaN(t)?t:0,this.max=ux(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/aI(this.options))}generateTickLabels(t){ZC.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=px(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?cI(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){return $x(t*(Rx/(this._pointLabels.length||1))+Wx(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(ax(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(ax(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return eS(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(t)-Dx+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),pI(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r,border:i}=e,s=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const e=t._pointLabelItems[i];if(!e.visible)continue;const s=r.setContext(t.getPointLabelContext(i));fI(n,s,e);const o=ZE(s.font),{x:a,y:l,textAlign:c}=e;WE(n,t._pointLabels[i],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),o=r.setContext(n),l=i.setContext(n);!function(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),pI(t,n,o,r),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,l)}})),n.display){for(t.save(),o=s-1;o>=0;o--){const r=n.setContext(this.getPointLabelContext(o)),{color:i,lineWidth:s}=r;s&&i&&(t.lineWidth=s,t.strokeStyle=i,t.setLineDash(r.borderDash),t.lineDashOffset=r.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((r,o)=>{if(0===o&&this.min>=0&&!e.reverse)return;const a=n.setContext(this.getContext(o)),l=ZE(a.font);if(i=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=l.string,s=t.measureText(r.label).width,t.fillStyle=a.backdropColor;const e=JE(a.backdropPadding);t.fillRect(-s/2-e.left,-i-l.size/2-e.top,s+e.width,l.size+e.height)}WE(t,r.label,0,-i,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),t.restore()}drawTitle(){}}kw(gI,"id","radialLinear"),kw(gI,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:EE.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),kw(gI,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),kw(gI,"descriptors",{angleLines:{_fallback:"grid"}});const mI={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vI=Object.keys(mI);function yI(t,e){return t-e}function bI(t,e){if(ax(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return"function"===typeof r&&(o=r(o)),ux(o)||(o="string"===typeof r?n.parse(o,r):n.parse(o)),null===o?null:(i&&(o="week"!==i||!zx(s)&&!0!==s?n.startOf(o,i):n.startOf(o,"isoWeek",s)),+o)}function _I(t,e,n,r){const i=vI.length;for(let s=vI.indexOf(t);s<i-1;++s){const t=mI[vI[s]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(i*t.size))<=r)return vI[s]}return vI[i-1]}function wI(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=Zx(n,e);t[n[r]>=e?n[r]:n[i]]=!0}}else t[e]=!0}function xI(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return 0!==s&&n?function(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}(t,r,i,n):r}class EI extends kT{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),r=this._adapter=new Ok(t.adapters.date);r.init(e),wx(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:bI(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(r=Math.min(r,t.min)),o||isNaN(t.max)||(i=Math.max(i,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),r=ux(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),i=ux(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(r,i,this.max);return this._unit=e.unit||(n.autoSkip?_I(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(t,e,n,r,i){for(let s=vI.length-1;s>=vI.indexOf(n);s--){const n=vI[s];if(mI[n].common&&t._adapter.diff(i,r,n)>=e-1)return n}return vI[n?vI.indexOf(n):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=vI.indexOf(t)+1,n=vI.length;e<n;++e)if(mI[vI[e]].common)return vI[e]}(this._unit):void 0,this.initOffsets(r),t.reverse&&s.reverse(),xI(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),r=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),i=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;r=Xx(r,0,s),i=Xx(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||_I(i.minUnit,e,n,this._getLabelCapacity(e)),o=dx(r.ticks.stepSize,1),a="week"===s&&i.isoWeekday,l=zx(a)||!0===a,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,o,s),h++)wI(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==h||wI(c,u,f),Object.keys(c).sort(yI).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,r=this._unit,i=e||n[r];return this._adapter.format(t,i)}_tickFormatFunction(t,e,n,r){const i=this.options,s=i.ticks.callback;if(s)return px(s,[t,e,n],this);const o=i.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,r||(d?u:c))}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=Wx(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*s,h:n*s+o*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,xI(this,[t],this._majorUnit),r),s=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)n=n.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(bI(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return iE(t.sort(yI))}}function SI(t,e,n){let r,i,s,o,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=tE(t,"pos",e)),({pos:r,time:s}=t[a]),({pos:i,time:o}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=tE(t,"time",e)),({time:r,pos:s}=t[a]),({time:i,pos:o}=t[l]));const c=i-r;return c?s+(o-s)*(e-r)/c:s}kw(EI,"id","time"),kw(EI,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class kI extends EI{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=SI(e,this.min),this._tableRange=SI(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],i=[];let s,o,a,l,c;for(s=0,o=t.length;s<o;++s)l=t[s],l>=e&&l<=n&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,o=r.length;s<o;++s)c=r[s+1],a=r[s-1],l=r[s],Math.round((c+a)/2)!==l&&i.push({time:l,pos:s/(o-1)});return i}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(SI(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return SI(this._table,n*this._tableRange+this._minPos,!0)}}kw(kI,"id","timeseries"),kw(kI,"defaults",EI.defaults);const TI="label";function CI(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function II(t,e){t.labels=e}function AI(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TI;const r=[];t.datasets=e.map((e=>{const i=t.datasets.find((t=>t[n]===e[n]));return i&&e.data&&!r.includes(i)?(r.push(i),Object.assign(i,e),i):{...e}}))}function RI(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TI;const n={labels:[],datasets:[]};return II(n,t.labels),AI(n,t.datasets,e),n}function OI(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...f}=t,p=(0,r.useRef)(null),g=(0,r.useRef)(),m=()=>{p.current&&(g.current=new nC(p.current,{type:a,data:RI(l,o),options:c&&{...c},plugins:u}),CI(e,g.current))},v=()=>{CI(e,null),g.current&&(g.current.destroy(),g.current=null)};return(0,r.useEffect)((()=>{!s&&g.current&&c&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(g.current,c)}),[s,c]),(0,r.useEffect)((()=>{!s&&g.current&&II(g.current.config.data,l.labels)}),[s,l.labels]),(0,r.useEffect)((()=>{!s&&g.current&&l.datasets&&AI(g.current.config.data,l.datasets,o)}),[s,l.datasets]),(0,r.useEffect)((()=>{g.current&&(s?(v(),setTimeout(m)):g.current.update(d))}),[s,c,l.labels,l.datasets,d]),(0,r.useEffect)((()=>{g.current&&(v(),setTimeout(m))}),[a]),(0,r.useEffect)((()=>(m(),()=>v())),[]),r.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:i},f),h)}const NI=(0,r.forwardRef)(OI);function PI(t,e){return nC.register(e),(0,r.forwardRef)(((e,n)=>r.createElement(NI,Object.assign({},e,{ref:n,type:t}))))}const DI=PI("bar",wk);nC.register(YC,tI,TC,NC,GC,RC);const MI=()=>{const[t,e]=(0,r.useState)({labels:[],datasets:[{label:"Daily Energy Usage (kWh)",data:[],backgroundColor:"rgba(53, 162, 235, 0.5)"}]});return(0,r.useEffect)((()=>{(async()=>{const n=bs().currentUser;if(n){const i=new Date;i.setDate(i.getDate()-7);new Date;const s=Vv(tv(Tb,"user_energy/".concat(n.uid,"/daily_usage")));try{const n=await ny(s),r=[],i=[];n.forEach((t=>{r.push(new Date(t.id).toISOString().split("T")[0]),i.push(t.data().total_forward_energy/100+.01)})),e({labels:r,datasets:[{...t.datasets[0],data:i}]})}catch(r){console.error("Error fetching energy data:",r)}}})()}),[]),(0,Cb.jsxs)("div",{className:"chart-container",children:[(0,Cb.jsx)("h1",{children:"Daily Energy Usage Chart"}),(0,Cb.jsx)(DI,{data:t,options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"kWh"}}},plugins:{legend:{display:!0,position:"top"},tooltip:{enabled:!0,mode:"index",intersect:!1}}}})]})};const LI=function(){const[t,e]=(0,r.useState)(window.innerWidth),[n,i]=(0,r.useState)("0 A"),[s,o]=(0,r.useState)("0 kW"),[a,l]=(0,r.useState)("0 V"),[c,u]=(0,r.useState)("0 kWh"),[h,d]=(0,r.useState)("0"),[f,p]=(0,r.useState)({switch:!1}),[g,m]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),b=parseFloat(c)/14.3*100,_=(parseFloat(n),parseFloat(a),parseFloat(s),J());(0,r.useEffect)((()=>{const t=()=>e(window.innerWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),(0,r.useEffect)((()=>{(async()=>{const t=Eb.currentUser;if(t){const e=ev(Tb,"users",t.uid),n=await ty(e);n.exists()?m(n.data().deviceID):console.log("No user document found")}else _("/")})()}),[]),(0,r.useEffect)((()=>{if(g){const t=setInterval((()=>{w()}),5e3);return()=>clearInterval(t)}}),[g]);const w=async()=>{y(!0);try{const t=(await bw.get("https://us-central1-watt-street.cloudfunctions.net/api/device-status/".concat(g))).data.result,e=t.find((t=>"total_forward_energy"===t.code));if(e){const t=(e.value/100).toFixed(2),n=(parseFloat(t)/14.3*100).toFixed(2);u("".concat(t," kWh")),d("".concat(n,"%"))}const n=t.find((t=>"phase_a"===t.code));if(n){const t=function(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return{voltage:(n[0]<<8|n[1])/10,current:(n[2]<<16|n[3]<<8|n[4])/1e3,power:(n[5]<<16|n[6]<<8|n[7])/1e3*1e3}}(n.value);i("".concat(t.current," A")),o("".concat(t.power," kW")),l("".concat(t.voltage," V"))}const r=t.find((t=>"switch"===t.code));if(r){const t=r.value;p({...f,switch:t})}y(!1)}catch(t){console.error("Failed to fetch device status:",t),y(!1)}};return(0,Cb.jsxs)("div",{className:"dashcontainer",children:[t<820?(0,Cb.jsx)(_w,{}):(0,Cb.jsx)(ww,{}),(0,Cb.jsxs)("div",{className:"card",children:[(0,Cb.jsx)("h2",{children:"Energy Measurements"}),(0,Cb.jsxs)("div",{className:"measurements-container",children:[(0,Cb.jsx)("div",{className:"measurement-box",children:(0,Cb.jsx)(xw,{currentWatts:parseFloat(s),maxWatts:3007.2})}),(0,Cb.jsxs)("div",{className:"measurement-box",children:[(0,Cb.jsx)("span",{children:"Your Energy Total!"}),(0,Cb.jsx)("div",{className:"graph-bar",children:(0,Cb.jsx)("div",{className:"graph-value",style:{width:"".concat(b,"%")}})}),(0,Cb.jsxs)("span",{children:["used ",c," from neighbours! "]})]})]}),(0,Cb.jsx)("div",{className:"measurement-box",children:(0,Cb.jsx)(MI,{})}),(0,Cb.jsxs)("div",{className:"toggle-wrapper",children:[(0,Cb.jsx)("input",{className:"toggle-checkbox",type:"checkbox",checked:null===f||void 0===f?void 0:f.switch,onChange:async t=>{y(!0);try{const t=null===f||void 0===f?void 0:f.switch;await bw.post("https://us-central1-watt-street.cloudfunctions.net/api/device-action/".concat(g),{newState:!t}),p({...f,switch:!t}),y(!1)}catch(e){console.error("Error toggling switch:",e),y(!1)}}}),(0,Cb.jsxs)("div",{className:"toggle-container",children:[(0,Cb.jsx)("div",{className:"toggle-button",children:(0,Cb.jsxs)("div",{className:"toggle-button-circles-container",children:[(0,Cb.jsx)("div",{className:"toggle-button-circle"}),(0,Cb.jsx)("div",{className:"toggle-button-circle"}),(0,Cb.jsx)("div",{className:"toggle-button-circle"}),(0,Cb.jsx)("div",{className:"toggle-button-circle"}),(0,Cb.jsx)("div",{className:"toggle-button-circle"}),(0,Cb.jsx)("div",{className:"toggle-button-circle"}),(0,Cb.jsx)("div",{className:"toggle-button-circle"}),(0,Cb.jsx)("div",{className:"toggle-button-circle"}),(0,Cb.jsx)("div",{className:"toggle-button-circle"}),(0,Cb.jsx)("div",{className:"toggle-button-circle"}),(0,Cb.jsx)("div",{className:"toggle-button-circle"}),(0,Cb.jsx)("div",{className:"toggle-button-circle"})]})}),(0,Cb.jsx)("span",{children:null===f||void 0===f?void 0:f.switch})]})]})]})]})};var FI=n(536);const jI=function(){const[t,e]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[s,o]=(0,r.useState)("requests"),a=Eb.currentUser?Eb.currentUser.uid:null,l=async t=>{const e=ev(Tb,"users",t),n=await ty(e);return n.exists()?n.data().name:(console.log("User not found: ".concat(t)),"Unknown User")},c=async()=>{if(!a)return;const t=Vv(tv(Tb,"users",a,"friends"));try{const e=(await ny(t)).docs.map((async t=>{const e=t.id,n=ev(Tb,"users",e),r=await ty(n);return r.exists()?{id:e,...r.data()}:(console.log("No user found for ID: ".concat(e)),null)})),n=(await Promise.all(e)).filter(Boolean);i(n)}catch(e){console.error("Error fetching friends: ",e)}};return(0,r.useEffect)((()=>{(async()=>{if(!a)return;const t=Vv(tv(Tb,"friendRequests"),Bv("receiverId","==",a),Bv("status","==","pending"));try{const n=(await ny(t)).docs.map((async t=>{const e=await l(t.data().senderId);return{id:t.id,...t.data(),senderName:e}})),r=await Promise.all(n);e(r)}catch(n){console.error("Error fetching friend requests: ",n)}})(),c()}),[a]),(0,Cb.jsxs)("div",{className:"fr-friend-requests",children:[(0,Cb.jsxs)("div",{className:"fr-friend-requests__tabs",children:[(0,Cb.jsx)("button",{className:"fr-friend-requests__tabs__tab ".concat("requests"===s?"fr-friend-requests__tabs__tab--active":""),onClick:()=>o("requests"),children:"Friend Requests"}),(0,Cb.jsx)("button",{className:"fr-friend-requests__tabs__tab ".concat("friends"===s?"fr-friend-requests__tabs__tab--active":""),onClick:()=>o("friends"),children:"My Friends"})]}),"requests"===s&&(0,Cb.jsx)("ul",{className:"fr-friend-requests__list",children:t.length>0?t.map((t=>(0,Cb.jsxs)("li",{className:"fr-friend-requests__item",children:[(0,Cb.jsx)("div",{className:"fr-friend-requests__item__info",children:t.senderName}),(0,Cb.jsx)("button",{onClick:()=>(async(t,e)=>{const n=ev(Tb,"friendRequests",t);await iy(n,{status:"accepted"});const r=ev(Tb,"users",e),i=await ty(r),{name:s,profileImageUrl:o}=i.data(),l=ev(Tb,"users",a,"friends",e),u=ev(Tb,"users",e,"friends",a);await ry(l,{friendId:e,name:s,profileImageUrl:o}),await ry(u,{friendId:a,name:s,profileImageUrl:o}),alert("Friend request accepted!"),await c()})(t.id,t.senderId),className:"fr-friend-requests__button",children:"Accept"}),(0,Cb.jsx)("button",{onClick:()=>(async t=>{const e=ev(Tb,"friendRequests",t);await iy(e,{status:"declined"}),alert("Friend request declined.")})(t.id),className:"fr-friend-requests__button",children:"Decline"})]},t.id))):(0,Cb.jsx)("p",{children:"No incoming friend requests."})}),"friends"===s&&(0,Cb.jsx)("ul",{className:"fr-friend-requests__list",children:n.length>0?n.map((t=>(0,Cb.jsxs)("li",{className:"fr-friend-requests__item",children:[(0,Cb.jsx)("img",{src:t.profileImageUrl||"default_profile_image_url",alt:t.name,className:"fr-friend-requests__item__img"}),(0,Cb.jsx)("div",{className:"fr-friend-requests__item__info",children:t.name}),(0,Cb.jsx)("button",{onClick:()=>(async t=>{await sy(ev(Tb,"users",a,"friends",t)),await sy(ev(Tb,"users",t,"friends",a)),await c(),alert("Friend deleted.")})(t.id),className:"fr-friend-requests__button",children:"Delete"})]},t.id))):(0,Cb.jsx)("p",{children:"You have no friends added."})})]})};const UI=function(){const[t,e]=(0,r.useState)(window.innerWidth),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)([]);J(),(0,r.useEffect)((()=>{const t=()=>e(window.innerWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]);const a=async t=>{const e=Eb.currentUser?Eb.currentUser.uid:null;if(!e)return void console.error("User is not logged in.");if(t===e)return void alert("You cannot send a friend request to yourself.");const n=tv(Tb,"friendRequests");try{await function(t,e){const n=Qm(t.firestore,iv),r=ev(t),i=Qv(t.converter,e);return oy(n,[bv(yv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Jd.exists(!1))]).then((()=>r))}(n,{senderId:e,receiverId:t,status:"pending"}),alert("Friend request sent!")}catch(r){console.error("Error sending friend request: ",r),alert("Failed to send friend request.")}},l=(0,FI.debounce)((async t=>{if(!t.trim())return void o([]);const e=t.trim().toLowerCase(),n=tv(Tb,"users");try{const t=await ny(n),r=[];t.forEach((t=>{const n=t.data();(n.name.toLowerCase().includes(e)||n.email.toLowerCase().includes(e))&&r.push({id:t.id,...n})})),o(r)}catch(r){console.error("Error fetching documents: ",r)}}),500);return(0,r.useEffect)((()=>(l(n),()=>l.cancel())),[n]),(0,Cb.jsxs)("div",{children:[t<820?(0,Cb.jsx)(_w,{}):(0,Cb.jsx)(ww,{}),(0,Cb.jsx)("input",{type:"text",value:n,onChange:t=>i(t.target.value),placeholder:"Search by name or email"}),(0,Cb.jsx)("ul",{children:s.map((t=>(0,Cb.jsxs)("li",{children:[t.name," - ",t.email,(0,Cb.jsx)("button",{onClick:()=>a(t.id),children:"Add Friend"})]},t.id)))}),(0,Cb.jsx)(jI,{})]})};const VI=function(){const[t,e]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),c=J(),u=Y(),{userId:h}=u.state;return(0,Cb.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await ry(ev(Tb,"users",h),{address:t,phoneNumber:n,deviceID:s,name:a},{merge:!0}),console.log("Additional user info saved"),c("/dashboard")}catch(r){console.error("Error saving additional info:",r.message)}},children:[(0,Cb.jsx)("input",{type:"Name",placeholder:"Name",value:a,onChange:t=>l(t.target.value)}),(0,Cb.jsx)("input",{type:"address",placeholder:"Address",value:t,onChange:t=>e(t.target.value)}),(0,Cb.jsx)("input",{type:"Phone-Number",placeholder:"Phone Number",value:n,onChange:t=>i(t.target.value)}),(0,Cb.jsx)("input",{type:"text",placeholder:"Device ID",value:s,onChange:t=>o(t.target.value)}),(0,Cb.jsx)("button",{type:"submit",children:"Submit"})]})},zI=t=>{let{userId:e}=t;const[n,i]=(0,r.useState)(window.innerWidth),[s,o]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[g,m]=(0,r.useState)(null),[v,y]=(0,r.useState)(""),b=J();(0,r.useEffect)((()=>{const t=()=>i(window.innerWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),(0,r.useEffect)((()=>{(async()=>{const t=ev(Tb,"users",e),n=await ty(t);if(n.exists()){const t=n.data();o(t.name||""),l(t.email||""),u(t.address||""),d(t.phoneNumber||""),p(t.deviceID||""),y(t.profileImageUrl||"")}else console.log("No such document!")})()}),[e]);return(0,Cb.jsxs)("div",{children:[n<820?(0,Cb.jsx)(_w,{}):(0,Cb.jsx)(ww,{}),(0,Cb.jsxs)("div",{className:"user-profile-container",children:[(0,Cb.jsx)("h2",{children:"Edit Profile"}),v&&(0,Cb.jsx)("img",{src:v,alt:"Profile",className:"profile-image-preview"}),(0,Cb.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{let t=v;if(g){const i=(n=kb,r="profileImages/".concat(e,"/").concat(g.name),gb(n=ee(n),r)),s=await function(t,e,n){return hb(t=ee(t),e,n)}(i,g);t=await function(t){return db(t=ee(t))}(s.ref)}const i=ev(Tb,"users",e);await iy(i,{name:s,email:a,address:c,phoneNumber:h,deviceID:f,profileImageUrl:t}),console.log("User profile updated successfully"),b("/dashboard")}catch(i){console.error("Error updating user profile:",i.message)}var n,r},className:"user-profile-form",children:[(0,Cb.jsxs)("div",{className:"form-field",children:[(0,Cb.jsx)("input",{type:"text",id:"name",required:!0,value:s,onChange:t=>o(t.target.value)}),(0,Cb.jsx)("label",{htmlFor:"name",className:"label-name",children:(0,Cb.jsx)("span",{className:"content-name",children:"Name"})})]}),(0,Cb.jsxs)("div",{className:"form-field",children:[(0,Cb.jsx)("input",{type:"email",id:"email",required:!0,value:a,onChange:t=>l(t.target.value)}),(0,Cb.jsx)("label",{htmlFor:"email",className:"label-name",children:(0,Cb.jsx)("span",{className:"content-name",children:"Email"})})]}),(0,Cb.jsxs)("div",{className:"form-field",children:[(0,Cb.jsx)("input",{type:"text",id:"address",required:!0,value:c,onChange:t=>u(t.target.value)}),(0,Cb.jsx)("label",{htmlFor:"address",className:"label-name",children:(0,Cb.jsx)("span",{className:"content-name",children:"Address"})})]}),(0,Cb.jsxs)("div",{className:"form-field",children:[(0,Cb.jsx)("input",{type:"text",id:"phoneNumber",required:!0,value:h,onChange:t=>d(t.target.value)}),(0,Cb.jsx)("label",{htmlFor:"phoneNumber",className:"label-name",children:(0,Cb.jsx)("span",{className:"content-name",children:"Phone Number"})})]}),(0,Cb.jsxs)("div",{className:"form-field",children:[(0,Cb.jsx)("input",{type:"text",id:"deviceID",required:!0,value:f,onChange:t=>p(t.target.value)}),(0,Cb.jsx)("label",{htmlFor:"deviceID",className:"label-name",children:(0,Cb.jsx)("span",{className:"content-name",children:"Device ID"})})]}),(0,Cb.jsxs)("div",{className:"form-field",children:[(0,Cb.jsx)("label",{htmlFor:"profileImage",className:"label-name",children:(0,Cb.jsx)("span",{className:"content-name",children:"Profile Image"})}),(0,Cb.jsx)("input",{type:"file",id:"profileImage",onChange:t=>{t.target.files[0]&&(m(t.target.files[0]),y(URL.createObjectURL(t.target.files[0])))}})]}),(0,Cb.jsx)("button",{type:"submit",className:"form-submit-button",children:"Update Profile"})]})]})]})},BI=()=>{const[t,e]=(0,r.useState)(window.innerWidth),[n,i]=(0,r.useState)(.0975),[s,o]=(0,r.useState)(.1408),[a,l]=(0,r.useState)(1376),c=bs(),u=sv(),h=J();(0,r.useEffect)((()=>{const t=()=>e(window.innerWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),(0,r.useEffect)((()=>{const t=ei(c,(t=>{if(t){const e=t.uid;ty(ev(u,"userSettings",e)).then((t=>{if(t.exists()){const e=t.data();i(e.minPrice),o(e.maxPrice),l(e.maxKWh)}}))}}));return()=>t()}),[c,u]);const d=t=>e=>t(parseFloat(e.target.value));return(0,Cb.jsxs)("div",{className:"settings-container",children:[t<820?(0,Cb.jsx)(_w,{}):(0,Cb.jsx)(ww,{}),(0,Cb.jsx)("h1",{children:"Power Sharing Settings"}),(0,Cb.jsxs)("form",{onSubmit:t=>{t.preventDefault(),ei(c,(t=>{if(t){const e=t.uid;ry(ev(u,"userSettings",e),{minPrice:n,maxPrice:s,maxKWh:a},{merge:!0}).then((()=>{console.log("Settings saved successfully"),h("/dashboard")})).catch((t=>console.error("Error saving settings: ",t)))}}))},children:[(0,Cb.jsx)("div",{className:"slider-container",children:(0,Cb.jsxs)("label",{children:["Minimum Price (per kWh): $",n.toFixed(4),(0,Cb.jsx)("input",{type:"range",min:"0",max:"1.1408",value:n,onChange:d(i),step:"0.0001"})]})}),(0,Cb.jsx)("div",{className:"slider-container",children:(0,Cb.jsxs)("label",{children:["Maximum Price (per kWh): $",s.toFixed(4),(0,Cb.jsx)("input",{type:"range",min:"0.0975",max:"1.1408",value:s,onChange:d(o),step:"0.0001"})]})}),(0,Cb.jsx)("div",{className:"slider-container",children:(0,Cb.jsxs)("label",{children:["Maximum kWh to Sell: ",a," kWh",(0,Cb.jsx)("input",{type:"range",min:"0",max:"50",value:a,onChange:d(l),step:"1"})]})}),(0,Cb.jsx)("button",{type:"submit",children:"Save"})]})]})},WI=(0,r.createContext)(),HI=t=>{let{children:e}=t;const[n,i]=(0,r.useState)(Array(7).fill(0)),[s,o]=(0,r.useState)("0 kWh");(0,r.useEffect)((()=>{const t=Eb.onAuthStateChanged((t=>{if(t){const e=(new Date).toISOString().slice(0,10),n=ev(Tb,"energyUsage",t.uid,"daily",e);!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i,s,o;t=ee(t);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||rv(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(rv(n[l])){const t=n[l];n[l]=null===(i=t.next)||void 0===i?void 0:i.bind(t),n[l+1]=null===(s=t.error)||void 0===s?void 0:s.bind(t),n[l+2]=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}let u,h,d;if(t instanceof Jm)h=Qm(t.firestore,iv),d=od(t._key.path),u={next:e=>{n[l]&&n[l](ay(h,t,e))},error:n[l+1],complete:n[l+2]};else{const e=Qm(t,Xm);h=Qm(e.firestore,iv),d=e._query;const r=new ey(h);u={next:t=>{n[l]&&n[l](new Jv(h,r,e,t))},error:n[l+1],complete:n[l+2]},Fv(t._query)}(function(t,e,n,r){const i=new Om(r),s=new nm(e,i,n);t.asyncQueue.enqueueAndForget((async()=>Xg(await Um(t),s)))})(ov(h),d,c,u)}(n,(t=>{if(t.exists()){const e=t.data();i(e.weeklyEnergy),o("".concat(e.totalForwardEnergy," kWh"))}else ry(n,{weeklyEnergy:Array(7).fill(0),totalForwardEnergy:0,timestamp:new wv("serverTimestamp")})}))}}));return()=>t()}),[]);const a={weeklyEnergy:n,setWeeklyEnergy:i,totalForwardEnergy:s,setTotalForwardEnergy:o};return(0,Cb.jsx)(WI.Provider,{value:a,children:e})};const qI=function(){const[t,e]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0);(0,r.useEffect)((()=>{const t=Eb.onAuthStateChanged((t=>{e(t),i(!1)}));return()=>t()}),[]);const s=e=>{let{children:r}=e;return n?(0,Cb.jsx)("div",{children:"Loading..."}):t?r:(0,Cb.jsx)(dt,{to:"/"})};return n?(0,Cb.jsx)("div",{children:"Loading..."}):(0,Cb.jsx)(Et,{children:(0,Cb.jsx)(HI,{children:(0,Cb.jsxs)(gt,{children:[(0,Cb.jsx)(ft,{path:"/",element:(0,Cb.jsx)(Ib,{})}),(0,Cb.jsx)(ft,{path:"/dashboard",element:(0,Cb.jsx)(s,{children:(0,Cb.jsx)(LI,{})})}),(0,Cb.jsx)(ft,{path:"/friends",element:(0,Cb.jsx)(s,{children:(0,Cb.jsx)(UI,{})})}),(0,Cb.jsx)(ft,{path:"/additional-info",element:(0,Cb.jsx)(s,{children:(0,Cb.jsx)(VI,{})})}),(0,Cb.jsx)(ft,{path:"/settings",element:(0,Cb.jsx)(s,{children:(0,Cb.jsx)(BI,{})})}),(0,Cb.jsx)(ft,{path:"/history",element:(0,Cb.jsx)(s,{children:(0,Cb.jsx)(MI,{})})}),(0,Cb.jsx)(ft,{path:"/editprofile",element:(0,Cb.jsx)(s,{children:(0,Cb.jsx)(zI,{userId:null===t||void 0===t?void 0:t.uid})})}),(0,Cb.jsx)(ft,{path:"*",element:(0,Cb.jsx)(dt,{to:"/"})})]})})})},KI=t=>{t&&t instanceof Function&&n.e(453).then(n.bind(n,453)).then((e=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=e;n(t),r(t),i(t),s(t),o(t)}))};s.createRoot(document.getElementById("root")).render((0,Cb.jsx)(r.StrictMode,{children:(0,Cb.jsx)(qI,{})})),KI()})()})();
//# sourceMappingURL=main.74e268bc.js.map